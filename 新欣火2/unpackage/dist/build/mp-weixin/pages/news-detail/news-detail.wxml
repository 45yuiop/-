<view class="news-detail-container data-v-2ae471b1"><view class="nav-bar data-v-2ae471b1" style="{{'padding-top:'+(statusBarHeight+'px')+';'}}"><view class="nav-content data-v-2ae471b1"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-2ae471b1" bindtap="__e"><image class="back-icon data-v-2ae471b1" src="/static/back-cartoon.svg" mode="aspectFit"></image></view><text class="nav-title data-v-2ae471b1">新闻详情</text><view class="nav-right data-v-2ae471b1"></view></view></view><view class="news-content data-v-2ae471b1" style="{{'padding-top:'+(statusBarHeight+44+'px')+';'}}"><block wx:if="{{newsData}}"><view class="news-card data-v-2ae471b1"><view class="news-header data-v-2ae471b1"><text class="news-title data-v-2ae471b1">{{newsData.title}}</text><view class="news-meta data-v-2ae471b1"><view class="meta-row data-v-2ae471b1"><text class="news-time data-v-2ae471b1">{{$root.m0}}</text></view><block wx:if="{{newsData.author}}"><view class="meta-row data-v-2ae471b1"><text class="news-author data-v-2ae471b1">{{"作者："+newsData.author}}</text></view></block></view></view><view class="news-body data-v-2ae471b1"><block wx:if="{{$root.g0}}"><view class="content-blocks data-v-2ae471b1"><block wx:for="{{newsData.contentBlocks}}" wx:for-item="block" wx:for-index="index" wx:key="index"><view class="content-block data-v-2ae471b1"><block wx:if="{{block.type==='text'}}"><text class="news-text data-v-2ae471b1" user-select="{{true}}">{{block.content}}</text></block><block wx:else><block wx:if="{{block.type==='image'}}"><view class="image-block data-v-2ae471b1"><image class="news-image data-v-2ae471b1" src="{{block.imageUrl}}" mode="widthFix" data-event-opts="{{[['tap',[['previewImage',[[block.imageUrl],0]]]]]}}" bindtap="__e"></image><block wx:if="{{block.caption}}"><text class="image-caption data-v-2ae471b1">{{block.caption}}</text></block></view></block></block></view></block></view></block><block wx:else><text class="news-text data-v-2ae471b1" user-select="{{true}}">{{newsData.content}}</text></block><block wx:if="{{$root.g1}}"><view class="news-images data-v-2ae471b1"><block wx:for="{{newsData.images}}" wx:for-item="img" wx:for-index="index" wx:key="index"><image class="news-image data-v-2ae471b1" src="{{img}}" mode="widthFix" data-event-opts="{{[['tap',[['previewImage',['$0',index],['newsData.images']]]]]}}" bindtap="__e"></image></block></view></block></view></view></block><block wx:else><block wx:if="{{loading}}"><view class="loading data-v-2ae471b1"><text class="data-v-2ae471b1">加载中...</text></view></block><block wx:else><view class="empty data-v-2ae471b1"><text class="data-v-2ae471b1">新闻不存在</text></view></block></block></view><block wx:if="{{isAdmin&&newsData}}"><view class="edit-btn-container data-v-2ae471b1"><button data-event-opts="{{[['tap',[['deleteNews',['$event']]]]]}}" class="delete-btn data-v-2ae471b1" bindtap="__e"><text class="delete-icon data-v-2ae471b1">🗑️</text><text class="delete-text data-v-2ae471b1">删除</text></button><button data-event-opts="{{[['tap',[['togglePin',['$event']]]]]}}" class="{{['pin-btn','data-v-2ae471b1',(newsData.isPinned)?'pinned':'']}}" bindtap="__e"><text class="pin-icon data-v-2ae471b1">{{newsData.isPinned?'📌':'📍'}}</text><text class="pin-text data-v-2ae471b1">{{newsData.isPinned?'取消置顶':'置顶'}}</text></button><button data-event-opts="{{[['tap',[['editNews',['$event']]]]]}}" class="edit-btn data-v-2ae471b1" bindtap="__e"><text class="edit-icon data-v-2ae471b1">✏️</text><text class="edit-text data-v-2ae471b1">修改</text></button></view></block></view>