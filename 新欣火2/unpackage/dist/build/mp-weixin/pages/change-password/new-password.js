(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/change-password/new-password"],{"07d2":function(e,t,n){"use strict";(function(e,t){var s=n("47a9");n("a226"),n("861b");s(n("3240"));var a=s(n("1849"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},1849:function(e,t,n){"use strict";n.r(t);var s=n("9747"),a=n("46b7");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("71bf");var o=n("828b"),i=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"10ae85a6",null,!1,s["a"],void 0);t["default"]=i.exports},2539:function(e,t,n){},"46b7":function(e,t,n){"use strict";n.r(t);var s=n("bef3"),a=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=a.a},"71bf":function(e,t,n){"use strict";var s=n("2539"),a=n.n(s);a.a},9747:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var s=function(){var e=this.$createElement;this._self._c},a=[]},bef3:function(e,t,n){"use strict";(function(e,s){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("7eb4")),o=a(n("ee10")),i={data:function(){return{newPassword:"",confirmPassword:"",showNewPassword:!1,showConfirmPassword:!1,loading:!1}},computed:{canSubmit:function(){return this.newPassword.length>=6&&this.newPassword.length<=20&&this.confirmPassword.length>=6&&this.confirmPassword.length<=20&&this.newPassword===this.confirmPassword&&/^\d{6,20}$/.test(this.newPassword)&&!this.loading}},methods:{goBack:function(){e.navigateBack()},toggleShowNewPassword:function(){this.showNewPassword=!this.showNewPassword},toggleShowConfirmPassword:function(){this.showConfirmPassword=!this.showConfirmPassword},onInputNumber:function(e,t){this[e]=t.detail.value.replace(/[^0-9]/g,"").slice(0,20)},handleReset:function(){var t=this;return(0,o.default)(r.default.mark((function n(){var a,o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.canSubmit){n.next=2;break}return n.abrupt("return");case 2:if(t.loading=!0,n.prev=3,a=e.getStorageSync("userInfo"),a){n.next=7;break}throw new Error("用户信息不存在");case 7:return n.next=9,s.callFunction({name:"user-center",data:{action:"update-password",params:{username:a.username,newPassword:t.newPassword}}});case 9:o=n.sent,o.result&&200===o.result.code?(e.showToast({title:"密码重置成功",icon:"success"}),setTimeout((function(){e.navigateBack({delta:2})}),1500)):e.showToast({title:o.result.message||"重置失败",icon:"none"}),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](3),e.showToast({title:n.t0.message||"重置失败",icon:"none"});case 16:return n.prev=16,t.loading=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[3,13,16,19]])})))()}}};t.default=i}).call(this,n("df3c")["default"],n("861b")["uniCloud"])}},[["07d2","common/runtime","common/vendor"]]]);