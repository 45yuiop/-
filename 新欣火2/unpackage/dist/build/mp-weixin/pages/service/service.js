(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/service/service"],{"236a":function(e,t,r){"use strict";(function(e){function r(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{searchText:"",featureList:[{text:"注册账号",icon:"/static/aaa.png",page:"/pages/register/register",color:"#4FC3F7"},{text:"账号管理",icon:"/static/c.png",page:"/pages/account-manage/account-manage",color:"#FFD600"},{text:"教师排课",icon:"/static/bb.png",page:"/pages/teacher-schedule/teacher-schedule",color:"#7C4DFF"},{text:"课时统计",icon:"/static/b.png",page:"/pages/salary-statistics/salary-statistics",color:"#FF8A65"},{text:"教师课程表",icon:"/static/bbb.png",page:"/pages/admin-teacher-schedule/admin-teacher-schedule",color:"#64B5F6",category:"pre"},{text:"我的课表",icon:"/static/d.png",page:"/pages/teacher-courses/teacher-courses",color:"#FFF3CD",bgAlpha:.8,category:"pre"},{text:"调课审批",icon:"/static/e.png",page:"/pages/course-change-approval/course-change-approval",color:"#FFB300"},{text:"权限分配",icon:"/static/dd.png",page:"/pages/permission-assign/index",color:"#BA68C8",bgAlpha:1},{text:"系统设置",icon:"/static/cc.png",page:"/pages/system-setting/system-setting",color:"#42A5F7"},{text:"我的班级",icon:"/static/教室.png",page:"/pages/my-class/my-class",color:"#9C27B0",category:"student-input"},{text:"班级管理",icon:"/static/222.png",page:"/pages/class-management/class-management",color:"#9C27B0",category:"student-input"},{text:"学生录入",icon:"/static/1234.png",page:"/pages/student-input/student-input",color:"#4FC3F7",category:"student-input"},{text:"学生档案",icon:"/static/gongju.png",page:"/pages/archive/archive",color:"#42A5F5",category:"student-input"},{text:"成绩",icon:"/static/1.png",page:"/pages/exam-scores/exam-scores",color:"#FF6B6B",category:"score"},{text:"进步分析",icon:"/static/ii.png",page:"/pages/student-progress/student-progress",color:"#4ECDC4",category:"score"},{text:"教室",icon:"/static/2.png",page:"/pages/classroom/classroom",color:"#1976D2",category:"pre"},{text:"师资力量",icon:"/static/user.png",page:"/pages/faculty-strength/faculty-strength",color:"#FF9800",category:"faculty"},{text:"试卷分析",icon:"/static/22.png",page:"/pages/exam-analysis/exam-analysis",color:"#E91E63",category:"score"}],recentFeatures:[],activeCategory:"recent",allCategories:[{key:"recent",name:"最近使用"},{key:"pre",name:"课前准备"},{key:"account",name:"账号管理"},{key:"schedule",name:"排课管理"},{key:"score",name:"成绩管理"},{key:"approval",name:"审批"},{key:"student-input",name:"学生管理"},{key:"faculty",name:"师资力量"},{key:"daily",name:"设置"}],showAllGroups:!0}},computed:{isAcademic:function(){var t=e.getStorageSync("userInfo");return t&&(Array.isArray(t.role)?t.role.includes("教务"):"教务"===t.role)},filteredFeatures:function(){var t=this,r=e.getStorageSync("userInfo");if(!r)return[];var n="superadmin"===r.permission,a="管理员"===r.permission||n||Array.isArray(r.role)&&r.role.includes("管理员"),o=Array.isArray(r.role)?r.role.includes("教师"):"教师"===r.role,i=Array.isArray(r.role)?r.role.includes("家长"):"parent"===r.role,s=this.isAcademic,u=s&&"管理员"===r.permission,c=o&&a,l=this.featureList.filter((function(e){if(c&&"学生课时录入"===e.text)return!1;if(s&&"调课审批"===e.text)return!1;if(n&&"我的课表"===e.text)return!1;if(u&&"课时统计"===e.text)return!1;if(a)return"师资力量"!==e.text;if(i)return"教师课程表"===e.text||"系统设置"===e.text||"师资力量"===e.text;if(o){if("我的课表"===e.text||"学生课时"===e.text||"我的班级"===e.text||"课时统计"===e.text||"成绩"===e.text||"进步分析"===e.text||"试卷分析"===e.text||"教室"===e.text)return!0;if(r.featureList&&Array.isArray(r.featureList)){var l=t.getFeatureKey(e.text);return r.featureList.includes(l)||"系统设置"===e.text}return"系统设置"===e.text}if(s){if("教师课程表"===e.text||"学生课时"===e.text||"学生课时录入"===e.text||"学生档案"===e.text||"学生录入"===e.text||"班级管理"===e.text||"成绩"===e.text||"教室"===e.text)return!0;if("我的课表"===e.text||"我的班级"===e.text||"进步分析"===e.text||"试卷分析"===e.text)return!1;if(r.featureList&&Array.isArray(r.featureList)){var g=t.getFeatureKey(e.text);return r.featureList.includes(g)||"系统设置"===e.text}return"系统设置"===e.text}return"系统设置"===e.text}));return s&&this.searchText&&(l=l.filter((function(e){return"我的课表"!==e.text&&"我的班级"!==e.text&&"进步分析"!==e.text&&"试卷分析"!==e.text}))),s&&(l=l.filter((function(e){return"我的课表"!==e.text&&"我的班级"!==e.text&&"进步分析"!==e.text&&"试卷分析"!==e.text}))),this.searchText&&(l=l.filter((function(e){return e.text&&e.text.toLowerCase().includes(t.searchText.toLowerCase())}))),l},filteredCategories:function(){var t,n=e.getStorageSync("userInfo"),a=n&&(Array.isArray(n.role)?n.role.includes("教务"):"教务"===n.role),o=[],i=r(this.allCategories);try{for(i.s();!(t=i.n()).done;){var s=t.value;a&&"approval"===s.key||this.getCategoryFeatures(s.key).length>0&&o.push(s)}}catch(u){i.e(u)}finally{i.f()}return o},preClassFeatures:function(){return this.filteredFeatures.filter((function(e){return"我的课表"===e.text||"教师课程表"===e.text}))},preClassIndexes:function(){return this.filteredFeatures.map((function(e,t){return"我的课表"===e.text||"教师课程表"===e.text?t:-1})).filter((function(e){return-1!==e}))},dailyFeatures:function(){return this.filteredFeatures.filter((function(e){return"我的课表"!==e.text&&"教师课程表"!==e.text}))},dailyIndexes:function(){return this.filteredFeatures.map((function(e,t){return"我的课表"!==e.text&&"教师课程表"!==e.text?t:-1})).filter((function(e){return-1!==e}))},filteredRecentFeatures:function(){var t=this,r=e.getStorageSync("userInfo"),n=r&&(Array.isArray(r.role)?r.role.includes("教务"):"教务"===r.role);return this.recentFeatures.filter((function(e){return(!n||"我的课表"!==e.text&&"调课审批"!==e.text&&"进步分析"!==e.text)&&t.filteredFeatures.some((function(t){return t.text===e.text}))}))}},created:function(){var t=e.getStorageSync("userInfo"),r=t?t.uid||t.username:"anonymous",n=e.getStorageSync("recentFeatures_".concat(r))||[];this.recentFeatures=n},onShow:function(){var t=e.getStorageSync("userInfo"),r=t?t.uid||t.username:"anonymous",n=e.getStorageSync("recentFeatures_".concat(r))||[];this.recentFeatures=n},methods:{goToFeatureByIndex:function(e,t){var r=t?this.recentFeatures[e]:this.filteredFeatures[e];this.goToFeature(r,t)},goToFeature:function(t){var r=e.getStorageSync("userInfo"),n=r&&(Array.isArray(r.role)?r.role.includes("教务"):"教务"===r.role);if(!n||"我的课表"!==t.text&&"调课审批"!==t.text&&"进步分析"!==t.text){var a=r?r.uid||r.username:"anonymous",o=this.recentFeatures.findIndex((function(e){return e.text===t.text}));0!==o&&(o>0&&this.recentFeatures.splice(o,1),this.recentFeatures.unshift(t),this.recentFeatures.length>8&&this.recentFeatures.pop(),e.setStorageSync("recentFeatures_".concat(a),this.recentFeatures)),t.page.startsWith("/pages/schedule-tab")?e.switchTab({url:t.page}):e.navigateTo({url:t.page})}else e.showToast({title:"无权限访问",icon:"none"})},getLightColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;if(!e)return"rgba(200,200,200,".concat(t,")");var r=e.replace("#",""),n=parseInt(r.substring(0,2),16),a=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16);return"rgba(".concat(n,",").concat(a,",").concat(o,",").concat(t,")")},getCategoryFeatures:function(t){var r=e.getStorageSync("userInfo"),n=r&&(Array.isArray(r.role)?r.role.includes("教务"):"教务"===r.role);if(n&&"approval"===t)return[];var a=this.filteredFeatures.filter((function(e){return e.category===t}));return a.length>0?a:"pre"===t?this.filteredFeatures.filter((function(e){return"pre"===e.category})):"account"===t?this.filteredFeatures.filter((function(e){return"注册账号"===e.text||"账号管理"===e.text})):"schedule"===t?this.filteredFeatures.filter((function(e){return"教师排课"===e.text||"课时统计"===e.text})):"approval"===t?this.filteredFeatures.filter((function(e){return"调课审批"===e.text})):"daily"===t?this.filteredFeatures.filter((function(e){return"我的课表"!==e.text&&"教师课程表"!==e.text&&"注册账号"!==e.text&&"账号管理"!==e.text&&"教师排课"!==e.text&&"课时统计"!==e.text&&"调课审批"!==e.text&&"student-input"!==e.category&&"score"!==e.category})):[]},getCategoryIndexes:function(e){var t=this.filteredFeatures.map((function(t,r){return t.category===e?r:-1})).filter((function(e){return-1!==e}));return t.length>0?t:"pre"===e?this.filteredFeatures.map((function(e,t){return"教师课程表"===e.text?t:-1})).filter((function(e){return-1!==e})):"account"===e?this.filteredFeatures.map((function(e,t){return"注册账号"===e.text||"账号管理"===e.text?t:-1})).filter((function(e){return-1!==e})):"schedule"===e?this.filteredFeatures.map((function(e,t){return"教师排课"===e.text||"课时统计"===e.text?t:-1})).filter((function(e){return-1!==e})):"approval"===e?this.filteredFeatures.map((function(e,t){return"调课审批"===e.text?t:-1})).filter((function(e){return-1!==e})):"daily"===e?this.filteredFeatures.map((function(e,t){return"我的课表"!==e.text&&"教师课程表"!==e.text&&"注册账号"!==e.text&&"账号管理"!==e.text&&"教师排课"!==e.text&&"课时统计"!==e.text&&"调课审批"!==e.text&&"student-input"!==e.category&&"score"!==e.category?t:-1})).filter((function(e){return-1!==e})):[]},getCategoryName:function(e){var t=this.filteredCategories.find((function(t){return t.key===e}));return t?t.name:""},getFeatureKey:function(e){return{"注册账号":"register","账号管理":"user_manage","教师排课":"schedule","课时统计":"salary","教师课程表":"admin_teacher_schedule","我的课表":"teacher_courses","权限分配":"permission_assign","系统设置":"system_setting","学生课时":"student_hours","学生档案":"archive","班级管理":"class_management","学生录入":"student_input","师资力量":"faculty_strength","试卷分析":"exam_analysis"}[e]||e},switchCategory:function(e){this.activeCategory=e,this.showAllGroups=!1},showAllGroupsMode:function(){this.showAllGroups=!0},goToSearch:function(){e.navigateTo({url:"/pages/search-page/search-page"})}}};t.default=a}).call(this,r("df3c")["default"])},"641e":function(e,t,r){},a7e6:function(e,t,r){"use strict";r.r(t);var n=r("236a"),a=r.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},da60:function(e,t,r){"use strict";(function(e,t){var n=r("47a9");r("a226"),r("861b");n(r("3240"));var a=n(r("f32e"));e.__webpack_require_UNI_MP_PLUGIN__=r,t(a.default)}).call(this,r("3223")["default"],r("df3c")["createPage"])},ed4b:function(e,t,r){"use strict";var n=r("641e"),a=r.n(n);a.a},f32e:function(e,t,r){"use strict";r.r(t);var n=r("f3d5"),a=r("a7e6");for(var o in a)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("ed4b");var i=r("828b"),s=Object(i["a"])(a["default"],n["b"],n["c"],!1,null,"f2f7cf4c",null,!1,n["a"],void 0);t["default"]=s.exports},f3d5:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,r=(e._self._c,e.showAllGroups?e.filteredRecentFeatures.length:null),n=e.showAllGroups&&r?e.__map(e.filteredRecentFeatures,(function(t,r){var n=e.__get_orig(t),a=e.getLightColor(t.color,t.bgAlpha||.15);return{$orig:n,m0:a}})):null,a=e.showAllGroups?e.__map(e.filteredCategories.filter((function(e){return"recent"!==e.key})),(function(t,r){var n=e.__get_orig(t),a=e.__map(e.getCategoryFeatures(t.key),(function(t,r){var n=e.__get_orig(t),a=e.getLightColor(t.color,t.bgAlpha||.15);return{$orig:n,m1:a}}));return{$orig:n,l1:a}})):null,o=e.showAllGroups?null:"recent"===e.activeCategory&&e.filteredRecentFeatures.length,i=!e.showAllGroups&&o?e.__map(e.filteredRecentFeatures,(function(t,r){var n=e.__get_orig(t),a=e.getLightColor(t.color,t.bgAlpha||.15);return{$orig:n,m2:a}})):null,s=e.showAllGroups||o?null:e.getCategoryName(e.activeCategory),u=e.showAllGroups||o?null:e.__map(e.getCategoryFeatures(e.activeCategory),(function(t,r){var n=e.__get_orig(t),a=e.getLightColor(t.color,t.bgAlpha||.15);return{$orig:n,m4:a}}));e._isMounted||(e.e0=function(t,r,n){var a=arguments[arguments.length-1].currentTarget.dataset,o=a.eventParams||a["event-params"];r=o.cat,n=o.idx;e.goToFeatureByIndex(e.getCategoryIndexes(r.key)[n],!1)},e.e1=function(t,r){var n=arguments[arguments.length-1].currentTarget.dataset,a=n.eventParams||n["event-params"];r=a.idx;e.goToFeatureByIndex(e.getCategoryIndexes(e.activeCategory)[r],!1)}),e.$mp.data=Object.assign({},{$root:{g0:r,l0:n,l2:a,g1:o,l3:i,m3:s,l4:u}})},a=[]}},[["da60","common/runtime","common/vendor"]]]);