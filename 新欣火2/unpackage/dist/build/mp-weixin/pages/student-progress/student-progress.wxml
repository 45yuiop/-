<view class="container data-v-47815e9d"><view class="nav-bar data-v-47815e9d"><text data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-47815e9d" bindtap="__e">返回</text><view class="nav-title data-v-47815e9d">学生进步分析</view></view><view class="tab-bar data-v-47815e9d"><view data-event-opts="{{[['tap',[['switchTab',['class']]]]]}}" class="{{['data-v-47815e9d','tab-item',activeTab==='class'?'active':'']}}" bindtap="__e">班课</view><view data-event-opts="{{[['tap',[['switchTab',['one2one']]]]]}}" class="{{['data-v-47815e9d','tab-item',activeTab==='one2one'?'active':'']}}" bindtap="__e">一对一</view><view data-event-opts="{{[['tap',[['switchTab',['tuochansheng']]]]]}}" class="{{['data-v-47815e9d','tab-item',activeTab==='tuochansheng'?'active':'']}}" bindtap="__e">脱产生</view></view><view class="main-content data-v-47815e9d"><view class="sidebar data-v-47815e9d"><block wx:for="{{$root.l0}}" wx:for-item="cls" wx:for-index="__i0__" wx:key="name"><view data-event-opts="{{[['tap',[['onClassChange',['$0'],[[['currentClassList','name',cls.$orig.name,'name']]]]]]]}}" class="{{['data-v-47815e9d','sidebar-item',selectedClass===cls.$orig.name?'active':'']}}" bindtap="__e"><view class="class-name data-v-47815e9d"><view class="class-grade data-v-47815e9d">{{cls.m0.grade}}</view><view class="class-subject data-v-47815e9d">{{cls.m1.subject}}</view><view class="class-type data-v-47815e9d">{{cls.m2.type}}</view></view><view class="class-count data-v-47815e9d">{{"（"+cls.$orig.count+"人）"}}</view></view></block></view><view class="content-area data-v-47815e9d"><block wx:if="{{loading}}"><view class="loading data-v-47815e9d">加载中...</view></block><block wx:else><view class="data-v-47815e9d"><block wx:if="{{activeTab!=='one2one'}}"><view class="class-avg-info data-v-47815e9d"><text class="data-v-47815e9d"><label class="progress-count _span data-v-47815e9d">{{"进步人数："+classProgressCount}}</label><label class="total-count _span data-v-47815e9d">{{"总人数："+classTotalCount}}</label></text></view></block><view class="student-progress-header data-v-47815e9d"><text class="header-name data-v-47815e9d">姓名</text><text class="header-prev-score data-v-47815e9d">上一次的成绩</text><text class="header-latest-score data-v-47815e9d">最新一次成绩</text><text class="header-progress-rate data-v-47815e9d">提升率</text></view><block wx:for="{{$root.l1}}" wx:for-item="stu" wx:for-index="__i1__" wx:key="_id"><view class="student-progress-row data-v-47815e9d"><text class="stu-name stu-name-colored data-v-47815e9d">{{stu.$orig.studentName}}</text><text class="score score-first data-v-47815e9d">{{''+stu.m3+": "+(stu.$orig.prevScore!==null?stu.$orig.prevScore:'无')+''}}</text><text class="score score-second data-v-47815e9d">{{'最新: '+(stu.$orig.latestScore!==null?stu.$orig.latestScore:'无')+''}}</text><text class="{{['data-v-47815e9d','progress-rate',stu.$orig.progressRate>=0?'positive':'negative']}}">{{''+(stu.$orig.progressRate!==null?(stu.$orig.progressRate>0?'+':'')+stu.$orig.progressRate+'%':'无')+''}}</text></view></block><block wx:if="{{classAvgRate!==null&&activeTab==='class'}}"><view class="class-avg-row progress-summary-card data-v-47815e9d"><view class="progress-title data-v-47815e9d">班级进步率</view><view class="progress-rate-box data-v-47815e9d"><view class="progress-card data-v-47815e9d"><view class="progress-card-title data-v-47815e9d">班级人数进步率</view><view class="progress-card-value data-v-47815e9d"><text class="{{['data-v-47815e9d','progress-rate',classProgressCount>0?'positive':'negative']}}">{{classTotalCount>0?$root.g0+'%':'0%'}}</text></view><view class="progress-count-info progress-count-info-inline data-v-47815e9d"><text class="progress-count data-v-47815e9d">{{"进步人数："+classProgressCount}}</text><text class="progress-slash data-v-47815e9d">/</text><text class="total-count data-v-47815e9d">{{"总人数："+classTotalCount}}</text></view></view><view class="progress-card data-v-47815e9d"><view class="progress-card-title data-v-47815e9d">班级分数进步率</view><view class="progress-card-value data-v-47815e9d"><text class="{{['data-v-47815e9d','progress-rate',$root.m4>=0?'positive':'negative']}}">{{($root.m5>0?'+':'')+classAvgRate+"%"}}</text></view><view class="progress-avg-info data-v-47815e9d"><view class="data-v-47815e9d"><text class="avg-label data-v-47815e9d">上次均分：</text><text class="avg-value data-v-47815e9d">{{classPrevAvg}}</text></view><view style="margin-top:2px;" class="data-v-47815e9d"><text class="avg-label data-v-47815e9d">最新均分：</text><text class="avg-value data-v-47815e9d">{{classLatestAvg}}</text></view></view></view></view><view class="progress-tip data-v-47815e9d" style="margin-top:8px;color:#888;font-size:13px;">（无入门测成绩以及无最新一次成绩不计入总人数）</view></view></block></view></block></view></view></view>