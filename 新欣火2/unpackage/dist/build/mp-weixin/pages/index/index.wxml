<view class="index-container"><view class="search-bar"><input class="search-input" placeholder="大家都在搜：我的课表" disabled="{{true}}"/></view><swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" circular="{{true}}"><block wx:for="{{bannerList}}" wx:for-item="img" wx:for-index="idx" wx:key="idx"><swiper-item><image class="banner-img" src="{{img}}" mode="aspectFill"></image></swiper-item></block></swiper><block wx:if="{{!isSubscribed}}"><view class="subscription-notice"><view class="notice-content"><view class="notice-icon">🔔</view><view class="notice-text"><text class="notice-title">订阅通知</text><text class="notice-desc">开通订阅通知，及时接收课程安排、调课等重要信息</text></view></view><button data-event-opts="{{[['tap',[['goToSubscriptionSettings',['$event']]]]]}}" class="enable-btn" bindtap="__e">立即开通</button></view></block><block wx:if="{{true}}"><view class="debug-info"><text>{{"当前订阅状态: "+(isSubscribed?'已开启':'未开启')}}</text><button data-event-opts="{{[['tap',[['checkSubscriptionStatus',['$event']]]]]}}" style="margin-left:20rpx;padding:10rpx;" bindtap="__e">刷新状态</button><button data-event-opts="{{[['tap',[['forceRefreshSubscription',['$event']]]]]}}" style="margin-left:20rpx;padding:10rpx;background:#ff6b6b;color:white;" bindtap="__e">强制刷新</button><button data-event-opts="{{[['tap',[['testEventEmit',['$event']]]]]}}" style="margin-left:20rpx;padding:10rpx;background:#4CAF50;color:white;" bindtap="__e">测试事件</button></view></block><view class="quick-actions"><block wx:for="{{actionRows}}" wx:for-item="row" wx:for-index="rowIdx" wx:key="rowIdx"><view class="action-row"><block wx:for="{{row}}" wx:for-item="item" wx:for-index="__i0__" wx:key="text"><view data-event-opts="{{[['tap',[['goTo',['$0'],[[['actionRows','',rowIdx],['','text',item.text]]]]]]]}}" class="action-item" bindtap="__e"><image class="action-icon" src="{{item.icon}}"></image><text class="action-text">{{item.text}}</text></view></block></view></block></view><view class="news-section"><view class="news-header"><text>公司新闻</text><block wx:if="{{isAdmin}}"><button data-event-opts="{{[['tap',[['openNewsEditor',['$event']]]]]}}" class="news-edit-btn" bindtap="__e">发布新闻</button></block></view><view class="news-list"><block wx:for="{{newsList}}" wx:for-item="news" wx:for-index="__i1__" wx:key="id"><view class="news-item"><text class="news-title">{{news.title}}</text><text class="news-content">{{news.content}}</text><text class="news-time">{{news.time}}</text></view></block></view></view></view>