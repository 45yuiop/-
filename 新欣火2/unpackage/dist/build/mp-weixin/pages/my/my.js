(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my"],{"1e24":function(e,t,n){"use strict";n.r(t);var r=n("3432"),o=n("e510");for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("f607");var a=n("828b"),s=Object(a["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},3432:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=(this._self._c,this.isParentRole(this.userInfo.role));this.$mp.data=Object.assign({},{$root:{m0:t}})},o=[]},"3a60":function(e,t,n){"use strict";(function(e,t){var r=n("47a9");n("a226"),n("861b");r(n("3240"));var o=r(n("1e24"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"4d71":function(e,t,n){"use strict";(function(e,r){var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=o(n("7eb4")),a=o(n("ee10")),s={data:function(){return{userInfo:{},supervisorInfo:null}},onShow:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=e.getStorageSync("userInfo");t?(this.userInfo=t,t.supervisor&&this.getSupervisorInfo(t.supervisor)):e.reLaunch({url:"/pages/login/login"})},getSupervisorInfo:function(e){var t=this;return(0,a.default)(u.default.mark((function n(){var o;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.callFunction({name:"user-center",data:{action:"getSupervisorInfo",params:{supervisorId:e}}});case 3:o=n.sent,200===o.result.code?t.supervisorInfo=o.result.data:console.error("获取上级领导信息失败:",o.result.message),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("获取上级领导信息失败:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},goToSystemSetting:function(){e.navigateTo({url:"/pages/system-setting/system-setting"})},goToAbout:function(){e.navigateTo({url:"/pages/about/about"})},goToSubscriptionSettings:function(){e.navigateTo({url:"/pages/subscription-settings/subscription-settings"})},isParentRole:function(e){return!!e&&(Array.isArray(e)?e.includes("家长")||e.includes("parent"):"家长"===e||"parent"===e)},logout:function(){return(0,a.default)(u.default.mark((function t(){return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.removeStorageSync("userInfo"),e.removeStorageSync("username"),e.removeStorageSync("password"),e.removeStorageSync("accountList"),e.removeStorageSync("uni_id_token"),e.removeStorageSync("uni_id_refresh_token"),!r||!r.logout){t.next=9;break}return t.next=9,r.logout();case 9:e.reLaunch({url:"/pages/login/login"});case 10:case"end":return t.stop()}}),t)})))()}}};t.default=s}).call(this,n("df3c")["default"],n("861b")["uniCloud"])},d8c7:function(e,t,n){},e510:function(e,t,n){"use strict";n.r(t);var r=n("4d71"),o=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=o.a},f607:function(e,t,n){"use strict";var r=n("d8c7"),o=n.n(r);o.a}},[["3a60","common/runtime","common/vendor"]]]);