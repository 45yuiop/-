{"version":3,"sources":["uni-app:///main.js","webpack:///D:/代码/小程序/新欣火1/pages/schedule-manage/schedule-manage.vue?c3a2","webpack:///D:/代码/小程序/新欣火1/pages/schedule-manage/schedule-manage.vue?28a5","webpack:///D:/代码/小程序/新欣火1/pages/schedule-manage/schedule-manage.vue?3203","webpack:///D:/代码/小程序/新欣火1/pages/schedule-manage/schedule-manage.vue?bddd","uni-app:///pages/schedule-manage/schedule-manage.vue","webpack:///D:/代码/小程序/新欣火1/pages/schedule-manage/schedule-manage.vue?e95c","webpack:///D:/代码/小程序/新欣火1/pages/schedule-manage/schedule-manage.vue?b791"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","allUserList","userIndex","isTeacher","currentUser","currentDate","selectedDates","isMultiDateMode","daySchedule","courses","types","locations","classes","remarks","isLoading","searchKeyword","courseTypes","remark","visibleSlots","weekOffset","scrollLeft","showWeekPickerModal","computed","dayDisplay","filteredUserList","list","user","displayName","console","watch","onLoad","username","date","onReady","methods","fetchUsers","uniCloud","name","action","success","fail","uni","title","icon","fetchDaySchedule","params","uid","result","resultUser","complete","onTypeChange","getTypeIndex","getTypeDisplay","saveSchedule","userInfo","scheduleData","adminName","courseName","className","classroom","courseType","scheduleTime","adminId","code","message","error","Promise","results","errCode","duration","changeDay","onUserChange","toggleMultiDateMode","getWeekDates","startOfWeek","dates","getAllAvailableDates","startDate","getCurrentWeekRange","endOfWeek","isDateSelected","toggleDateSelection","selectAllWeekdays","weekDates","clearSelectedDates","changeWeek","scrollToCurrentWeek","onDateScroll","getWeekdayName","isMonthStart","isDifferentMonth","showWeekPicker","hideWeekPicker","getWeekOptions","weekStart","weekEnd","label","options","selectWeek","updateCurrentUserAndFetchSchedule","formatDate","fmt","goBack","returnToToday","getTimeLabel","getCourseColor","onCourseChange","slotIndex","field","value","onInputFocus","onInputChange"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACa;;;AAG3E;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAA6qB,CAAgB,2qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACuJjsB;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;;MACAC;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;MACA;QACAA;UAAA,OACAC;QAAA,EACA;MACA;MACA;MACA;QAAA,uCACAA;UACAC;QAAA;MAAA,CACA;MACAC;MACA;QACAA;QACAA;QACA;UACAA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAd;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;EACA;EACAe;IACA;IACA;IACA;IACA;IACA;MAAAC;MAAAC;IACA;IACA;MACA;QACA;MACA;IACA;IACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACA;IACA;MACA;MACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAP;MACAQ;QACAC;QACArC;UAAAsC;QAAA;QACAC;UACAX;UACA;UACA;YACAA;YACA;YACAA;YACA;YACA;cACA;gBAAA;cAAA;cACA;gBACA;gBACAA;gBACA;gBACA;kBAAA;gBAAA;gBACA;kBACA;kBACAA;gBACA;kBACAA;gBACA;gBACA;gBACA;gBACA;gBACA;cACA;cACA;cACA;gBACA;kBAAA;gBAAA;gBACA;kBACA;kBACAA;kBACA;kBACA;oBAAA;kBAAA;kBACA;oBACA;oBACAA;kBACA;oBACAA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;YACA;YACA;YACA;cACA;cACA;cACA;YACA;UACA;YACAA;YACA;YACA;UACA;QACA;QACAY;UACAZ;UACA;UACAa;YAAAC;YAAAC;UAAA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAhB;QACA;MACA;MACA;MAEA;;MAEA;MACAA;MACAA;MACAA;MACAA;MACAA;MAEAQ;QACAC;QACArC;UACAsC;UACAO;YACAd;YACAe;YACAd;UACA;QACA;QACAO;UACAX;UACA;UACA;YACAA;YACA;cACA;cACA,2FACAmB;gBACAnB;kBACAxB;kBACA4C;oBAAAF;oBAAAf;kBAAA;gBACA;gBACAU;kBAAAC;kBAAAC;gBAAA;gBACA;cACA;cACA;cACA;gBACAlC,UACAsC,iCACAA,iCACAA,iCACAA,iCACAA,iCACAA,gCACA;gBACArC,QACAqC,uCACAA,uCACAA,uCACAA,uCACAA,uCACAA,sCACA;gBACApC,YACAoC,0CACAA,0CACAA,0CACAA,0CACAA,0CACAA,yCACA;gBACAnC,UACAmC,uCACAA,uCACAA,uCACAA,uCACAA,uCACAA,sCACA;gBACAlC,UACAkC,wCACAA,wCACAA,wCACAA,wCACAA,wCACAA;cAEA;cACAnB;YACA;cACAA;cACA;gBACAnB;gBACAC;gBACAC;gBACAC;gBACAC;cACA;YACA;UACA;YACAe;YACAa;cAAAC;cAAAC;YAAA;UACA;QACA;QACAH;UACAZ;UACAa;YAAAC;YAAAC;UAAA;QACA;QACAM;UACA;UACArB;QACA;MACA;IACA;IACAsB;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAC;MACA;MACA;QACAb;UAAAC;UAAAC;QAAA;QACA;MACA;;MAEA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEAf;;MAEA;MACAa;QAAAC;MAAA;;MAEA;MACA;QACA;QACAd;QACA;QACA;UACAG;UACAe;UAAA;UACAd;QACA;;QAEA;QACA;UACAJ;YACAG;YACAe;YACAd;UACA;UACA;QACA;;QAEA;QACA;UACA;;UAEAuB;UACAA;UACAA;UACAA;UACAA;QACA;;QAEA;QACA;UACA;UACAA;UACAA;UACAA;UACAA;UACAA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA3B,oDACA2B;UACAC;UACAvC;UACAwC;UACAC;UACAC;UACAC;UACAC;QAAA,GACA;QAEA;UACAxB;UACArC;YACAsC;YACAO,wCACAU;cACAO;cAAA;cACAN;cACAvC;cACAwC;cACAC;cACAC;cACAC;cACAC;YAAA;UAEA;QACA;UACAjC;UACA;YACAA;cACAmC;cACAC;cACAC;YACA;UACA;UACA;QACA;UACArC;UACA;YACAmB;cACAgB;cACAC;YACA;UACA;QACA;MACA;MAEAE;QACAzB;QACAb;;QAEA;QACAuC;UACAvC;YACAW;YACA6B;YACArB;UACA;UAEA;YACAnB;cACAmC;cACAC;cACAC;YACA;UACA;QACA;QAEA;UAAA;QAAA;QACA;QAEA;UACAxB;YACAC;YACAC;YACA0B;UACA;QACA;UACA;UACA5B;YACAC;YACAC;YACA0B;UACA;QACA;MACA;QACA5B;QACAb;QACAa;UAAAC;UAAAC;QAAA;MACA;IACA;IACA2B;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAC;;MAEA;QACA;QACA1C;QACA2C;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAC;;MAEA;MACA;MACA;QACA;UACA;UACA7C;UACA2C;QACA;MACA;MACA;IACA;IAEA;IACAG;MACA;MACA;MACAJ;MACA;MACAK;;MAEA;MACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;MAEA;QACA;QACA;QACA;MACA;MAEA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACAC;QACA;QACA;UAAA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAhB;;MAEA;QACA;QACAiB;QACA;QACAC;QAEA;QACA;UACAC;QACA;UACAA;QACA;UACAA;QACA;QAEAC;UACA9E;UACA6E;QACA;MACA;MACA;IACA;IAEA;IACAE;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACAvE;MACAA;MACAA;MACAA;MACAA;MAEA;QACA;QACA;UACA;UACAA;QACA;QACA;QACAA;QACAA;QACAA;QACA;MACA;QACAA;QACA;QACA;UACAnB;UACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;IACA;IACAuF;MACA;MACA;QACApE;MACA;;MAEA;MACA;QACAJ;QACA;MACA;MAEA;QACA;QACA;MACA;MACA;QACAyE;MACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;IACAC;MACA7D;IACA;IACA8D;MACA;MACA;IACA;IACAC;MACA,aACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA,CACA;;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA9E;QAAA+E;QAAAC;QAAAC;MAAA;MAEA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IACAC;MACAlF;IACA;IACAmF;MACAnF;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACt6BA;AAAA;AAAA;AAAA;AAA09B,CAAgB,o7BAAG,EAAC,C;;;;;;;;;;;ACA9+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/schedule-manage/schedule-manage.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/schedule-manage/schedule-manage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./schedule-manage.vue?vue&type=template&id=c9c8c084&\"\nvar renderjs\nimport script from \"./schedule-manage.vue?vue&type=script&lang=js&\"\nexport * from \"./schedule-manage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./schedule-manage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/schedule-manage/schedule-manage.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=template&id=c9c8c084&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.isTeacher ? _vm.filteredUserList.length : null\n  var g1 = _vm.isMultiDateMode ? _vm.selectedDates.length : null\n  var m0 = _vm.isMultiDateMode ? _vm.getCurrentWeekRange() : null\n  var l0 = _vm.isMultiDateMode\n    ? _vm.__map(_vm.getAllAvailableDates(), function (date, index) {\n        var $orig = _vm.__get_orig(date)\n        var m1 = _vm.isDateSelected(date)\n        var m2 = _vm.isMonthStart(date)\n        var m3 = _vm.isDifferentMonth(date, index)\n        var m4 = _vm.formatDate(date, \"MM-dd\")\n        var m5 = _vm.getWeekdayName(date)\n        var m6 = _vm.isMonthStart(date)\n        var m7 = m6 ? _vm.formatDate(date, \"MM月\") : null\n        return {\n          $orig: $orig,\n          m1: m1,\n          m2: m2,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n          m6: m6,\n          m7: m7,\n        }\n      })\n    : null\n  var l1 = _vm.showWeekPickerModal ? _vm.getWeekOptions() : null\n  var l2 =\n    !_vm.isLoading && !!_vm.daySchedule\n      ? _vm.__map(_vm.visibleSlots, function (slot, __i0__) {\n          var $orig = _vm.__get_orig(slot)\n          var m8 = _vm.getTimeLabel(slot - 1)\n          var m9 = _vm.getTypeIndex(slot - 1)\n          var m10 = _vm.getTypeDisplay(slot - 1)\n          return {\n            $orig: $orig,\n            m8: m8,\n            m9: m9,\n            m10: m10,\n          }\n        })\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, date) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        date = _temp2.date\n      var _temp, _temp2\n      return _vm.toggleDateSelection(date)\n    }\n    _vm.e1 = function ($event, week) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        week = _temp4.week\n      var _temp3, _temp4\n      return _vm.selectWeek(week.weekOffset)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        m0: m0,\n        l0: l0,\n        l1: l1,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page-container\">\n\t\t<!-- 用户选择 (仅管理员/超管可见) - 全新美化版 -->\n\t\t<view class=\"form-item\" v-if=\"!isTeacher\">\n\t\t\t<picker @change=\"onUserChange\" :value=\"userIndex\" :range=\"filteredUserList\" range-key=\"displayName\">\n\t\t\t\t<view class=\"picker\">\n\t\t\t\t\t<text>{{ filteredUserList.length > 0 ? filteredUserList[userIndex].displayName : '无匹配用户' }}</text>\n\t\t\t\t\t<text class=\"picker-arrow\">▼</text>\n\t\t\t\t</view>\n\t\t\t</picker>\n\t\t\t<!-- 新增搜索框 -->\n\t\t\t<input class=\"search-input\" v-model.trim=\"searchKeyword\" placeholder=\"🔍 搜索教师姓名\" />\n\t\t</view>\n\n\t\t<!-- 全新日期选择器 -->\n\t\t<view class=\"date-selector\">\n\t\t\t<view class=\"nav-arrow\" @click=\"changeDay(-1)\">\n\t\t\t\t<text>‹</text>\n\t\t\t</view>\n\t\t\t<view class=\"date-display-wrapper\" @click=\"toggleMultiDateMode\">\n\t\t\t\t<text class=\"date-text\">{{ isMultiDateMode ? `已选择${selectedDates.length}个日期` : dayDisplay }}</text>\n\t\t\t\t<text class=\"multi-date-hint\">{{ isMultiDateMode ? '点击切换' : '点击多选' }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"nav-arrow\" @click=\"changeDay(1)\">\n\t\t\t\t<text>›</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 多选日期模式 -->\n\t\t<view v-if=\"isMultiDateMode\" class=\"multi-date-selector\">\n\t\t\t<view class=\"multi-date-header\">\n\t\t\t\t<text class=\"multi-date-title\">选择要排课的日期：</text>\n\t\t\t\t<view class=\"multi-date-actions\">\n\t\t\t\t\t<view class=\"action-btn\" @click=\"selectAllWeekdays\">选择工作日</view>\n\t\t\t\t\t<view class=\"action-btn\" @click=\"clearSelectedDates\">清空选择</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 周导航 -->\n\t\t\t<view class=\"week-navigation\">\n\t\t\t\t<view class=\"week-nav-btn\" @click=\"changeWeek(-1)\">\n\t\t\t\t\t<text class=\"week-nav-icon\">‹</text>\n\t\t\t\t\t<text class=\"week-nav-text\">上一周</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"week-display\" @click=\"showWeekPicker\">\n\t\t\t\t\t<text class=\"week-text\">{{ getCurrentWeekRange() }}</text>\n\t\t\t\t\t<text class=\"week-picker-hint\">点击选择周</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"week-nav-btn\" @click=\"changeWeek(1)\">\n\t\t\t\t\t<text class=\"week-nav-text\">下一周</text>\n\t\t\t\t\t<text class=\"week-nav-icon\">›</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 可滑动的日期选择器 -->\n\t\t\t<scroll-view scroll-x class=\"date-scroll-container\" :scroll-left=\"scrollLeft\" @scroll=\"onDateScroll\">\n\t\t\t\t<view class=\"date-scroll-content\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(date, index) in getAllAvailableDates()\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"date-item\"\n\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t'selected': isDateSelected(date),\n\t\t\t\t\t\t\t'month-start': isMonthStart(date),\n\t\t\t\t\t\t\t'different-month': isDifferentMonth(date, index)\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@click=\"toggleDateSelection(date)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text class=\"date-text\">{{ formatDate(date, 'MM-dd') }}</text>\n\t\t\t\t\t\t<text class=\"weekday-text\">{{ getWeekdayName(date) }}</text>\n\t\t\t\t\t\t<text v-if=\"isMonthStart(date)\" class=\"month-label\">{{ formatDate(date, 'MM月') }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\n\t\t<!-- 周选择器弹窗 -->\n\t\t<view v-if=\"showWeekPickerModal\" class=\"week-picker-modal\" @click=\"hideWeekPicker\">\n\t\t\t<view class=\"week-picker-content\" @click.stop>\n\t\t\t\t<view class=\"week-picker-header\">\n\t\t\t\t\t<text class=\"week-picker-title\">选择周</text>\n\t\t\t\t\t<view class=\"close-btn\" @click=\"hideWeekPicker\">\n\t\t\t\t\t\t<text class=\"close-icon\">×</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<scroll-view scroll-y class=\"week-picker-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(week, index) in getWeekOptions()\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"week-option\"\n\t\t\t\t\t\t:class=\"{ 'selected': week.weekOffset === weekOffset }\"\n\t\t\t\t\t\t@click=\"selectWeek(week.weekOffset)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text class=\"week-option-text\">{{ week.label }}</text>\n\t\t\t\t\t\t<text v-if=\"week.weekOffset === weekOffset\" class=\"check-icon\">✓</text>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 课表内容区域 -->\n\t\t<scroll-view scroll-y class=\"schedule-scroll-view\">\n\t\t\t<view v-if=\"isLoading\" class=\"loading-container\">\n\t\t\t\t<view class=\"loading-text\">课表加载中...</view>\n\t\t\t</view>\n\t\t\t<view v-else-if=\"!daySchedule\" class=\"empty-state\">\n\t\t\t\t<view class=\"empty-text\">\n\t\t\t\t\t今天没有课程安排\n\t\t\t\t\t<view class=\"date-in-empty\">{{ dayDisplay }}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view v-else class=\"week-schedule-container\">\n\t\t\t\t<view class=\"day-card\">\n\t\t\t\t\t<view class=\"schedule-grid\">\n\t\t\t\t\t\t<!-- 使用固定数组，确保从1开始 -->\n\t\t\t\t\t\t<view v-for=\"slot in visibleSlots\" :key=\"slot\" class=\"schedule-row\">\n\t\t\t\t\t\t\t<!-- 课程标签和时间 -->\n\t\t\t\t\t\t\t<view class=\"lesson-header\">\n\t\t\t\t\t\t\t\t<view class=\"session-label\">第{{ slot }}节课</view>\n\t\t\t\t\t\t\t\t<view class=\"time-label\">{{ getTimeLabel(slot - 1) }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- 输入框区域 -->\n\t\t\t\t\t\t\t<view class=\"course-cell\">\n\t\t\t\t\t\t\t\t<view class=\"course-row\">\n\t\t\t\t\t\t\t\t\t<input class=\"course-input\" type=\"text\" v-model=\"daySchedule.courses[slot - 1]\" placeholder=\"课程名称\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t\t\t<picker class=\"type-picker\" @change=\"onTypeChange(slot - 1, $event)\" :value=\"getTypeIndex(slot - 1)\" :range=\"courseTypes\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"type-display\">\n\t\t\t\t\t\t\t\t\t\t\t<text>{{ getTypeDisplay(slot - 1) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"type-arrow\">▼</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</picker>\n\t\t\t\t\t\t\t\t\t<input class=\"location-input\" type=\"text\" v-model=\"daySchedule.locations[slot - 1]\" placeholder=\"地点\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t\t\t<input class=\"class-input\" type=\"text\" v-model=\"daySchedule.classes[slot - 1]\" placeholder=\"班级\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<input class=\"remark-input\" type=\"text\" v-model=\"daySchedule.remarks[slot - 1]\" placeholder=\"备注（可选）\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\n\t\t<!-- 底部操作区 (固定在底部，不随页面滚动) -->\n\t\t<view class=\"bottom-actions-fixed\">\n\t\t\t<view class=\"day-navigator\">\n\t\t\t\t<view class=\"nav-btn save-btn\" @click=\"saveSchedule\">💾 保存排课</view>\n\t\t\t\t<view class=\"nav-btn return-btn\" @click=\"goBack\">返回首页</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { getCourseColor } from '../../utils/courseColor.js';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tallUserList: [], // 存储所有用户的原始列表\n\t\t\t\tuserIndex: 0,\n\t\t\t\tisTeacher: false,\n\t\t\t\tcurrentUser: null,\n\t\t\t\tcurrentDate: new Date(),\n\t\t\t\tselectedDates: [], // 多选日期数组\n\t\t\t\tisMultiDateMode: false, // 是否开启多选模式\n\t\t\t\tdaySchedule: {\n\t\t\t\t\tcourses: ['', '', '', '', '', ''],\n\t\t\t\t\ttypes: ['无', '无', '无', '无', '无', '无'],\n\t\t\t\t\tlocations: ['', '', '', '', '', ''],\n\t\t\t\t\tclasses: ['', '', '', '', '', ''],\n\t\t\t\t\tremarks: ['', '', '', '', '', ''] // 新增备注字段\n\t\t\t\t},\n\t\t\t\tisLoading: true,\n\t\t\t\tsearchKeyword: '', // 搜索关键词\n\t\t\t\tcourseTypes: ['无', '一对一', '班课', '脱产生'],\n\t\t\t\tremark: '', // 新增remark字段，防止页面报错\n\t\t\t\tvisibleSlots: [1,2,3,4,5,6],\n\t\t\t\t// 多选日期相关\n\t\t\t\tweekOffset: 0, // 周偏移量，0表示当前周，1表示下一周，-1表示上一周\n\t\t\t\tscrollLeft: 0, // 滚动位置\n\t\t\t\tshowWeekPickerModal: false // 周选择器弹窗显示状态\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tdayDisplay() {\n\t\t\t\tconst date = this.currentDate;\n\t\t\t\tconst dayNames = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n\t\t\t\tconst isToday = this.formatDate(new Date(), 'yyyy-MM-dd') === this.formatDate(date, 'yyyy-MM-dd');\n\t\t\t\treturn `${this.formatDate(date, 'yyyy-MM-dd')} ${dayNames[date.getDay()]} ${isToday ? '(今天)' : ''}`;\n\t\t\t},\n\t\t\t// 根据搜索关键词过滤用户列表\n\t\tfilteredUserList() {\n\t\t\tlet list;\n\t\t\tif (!this.searchKeyword) {\n\t\t\t\tlist = this.allUserList;\n\t\t\t} else {\n\t\t\t\tlist = this.allUserList.filter(user =>\n\t\t\t\t\tuser.teacherName && user.teacherName.toLowerCase().includes(this.searchKeyword.toLowerCase())\n\t\t\t\t);\n\t\t\t}\n\t\t\t// 为每个用户添加 displayName 属性\n\t\t\tconst result = list.map(user => ({\n\t\t\t\t...user,\n\t\t\t\tdisplayName: user.teacherName || user.username || user.nickname || '未知用户'\n\t\t\t}));\n\t\t\tconsole.log('🔍 filteredUserList 处理结果:', result.length, '个用户');\n\t\t\tif (result.length > 0) {\n\t\t\t\tconsole.log('🔍 第一个用户:', result[0]);\n\t\t\t\tconsole.log('🔍 当前 userIndex:', this.userIndex);\n\t\t\t\tif (this.userIndex < result.length) {\n\t\t\t\t\tconsole.log('🔍 当前选中用户:', result[this.userIndex]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t// 监听搜索关键词的变化\n\t\t\tsearchKeyword() {\n\t\t\t\t// 当筛选条件变化，重置选择器到第一项\n\t\t\t\tthis.userIndex = 0;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.updateCurrentUserAndFetchSchedule();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// 读取路由参数（通过气泡入口可能会传入指定教师与日期）\n\t\t\tconst pages = getCurrentPages();\n\t\t\tconst current = pages[pages.length - 1] || {};\n\t\t\tconst options = current.options || {};\n\t\t\tconst { uid, username, date } = options;\n\t\t\t// 若传入了日期，优先设置日期\n\t\t\tif (date) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.currentDate = new Date(date);\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t\tif (uid) {\n\t\t\t\t// 从外部指定了教师，走管理员视角，按uid在用户列表中定位\n\t\t\t\tthis.isTeacher = false;\n\t\t\t\tthis._pendingUid = uid;\n\t\t\t\tthis._pendingUsername = username || '';\n\t\t\t\tthis.fetchUsers();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 正常逻辑：教师自己进入\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\tif (userInfo && userInfo.role && userInfo.role.includes('教师')) {\n\t\t\t\tthis.isTeacher = true;\n\t\t\t\tthis.currentUser = userInfo;\n\t\t\t\tthis.fetchDaySchedule();\n\t\t\t} else {\n\t\t\t\tthis.fetchUsers();\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\t// 确保数据响应性\n\t\t\tthis.$forceUpdate();\n\t\t},\n\t\tmethods: {\n\t\t\tfetchUsers() {\n\t\t\t\tconsole.log('🔍 开始获取用户列表...');\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'user-center',\n\t\t\t\t\tdata: { action: 'get-accounts' },\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('📡 用户列表返回结果:', res);\n\t\t\t\t\t\tconst result = res.result;\n\t\t\t\t\t\tif (result.code === 200 && result.data.length > 0) {\n\t\t\t\t\t\t\tconsole.log('✅ 获取用户列表成功，用户数量:', result.data.length);\n\t\t\t\t\t\t\tthis.allUserList = result.data; // 存入原始列表\n\t\t\t\t\t\t\tconsole.log('用户列表:', this.allUserList);\n\t\t\t\t\t\t\t// 如果有待定位的uid（来源于气泡跳转），在这里定位用户\n\t\t\t\t\t\t\tif (this._pendingUid) {\n\t\t\t\t\t\t\t\tconst idx = this.allUserList.findIndex(u => u._id === this._pendingUid);\n\t\t\t\t\t\t\t\tif (idx !== -1) {\n\t\t\t\t\t\t\t\t\tthis.currentUser = this.allUserList[idx];\n\t\t\t\t\t\t\t\t\tconsole.log('🎯 通过uid定位到用户:', this.currentUser);\n\t\t\t\t\t\t\t\t\t// 找到该用户在过滤后列表中的索引\n\t\t\t\t\t\t\t\t\tconst filteredIdx = this.filteredUserList.findIndex(u => u._id === this._pendingUid);\n\t\t\t\t\t\t\t\t\tif (filteredIdx !== -1) {\n\t\t\t\t\t\t\t\t\t\tthis.userIndex = filteredIdx;\n\t\t\t\t\t\t\t\t\t\tconsole.log('🎯 在过滤列表中用户索引已设置为:', this.userIndex);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconsole.warn('⚠️ 用户在过滤列表中未找到，可能被搜索关键词过滤');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._pendingUid = '';\n\t\t\t\t\t\t\t\t\tthis._pendingUsername = '';\n\t\t\t\t\t\t\t\t\tthis.fetchDaySchedule();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// 兜底：尝试用用户名匹配\n\t\t\t\t\t\t\t\tif (this._pendingUsername) {\n\t\t\t\t\t\t\t\t\tconst byName = this.allUserList.findIndex(u => u.username === this._pendingUsername || u.teacherName === this._pendingUsername || u.nickname === this._pendingUsername);\n\t\t\t\t\t\t\t\t\tif (byName !== -1) {\n\t\t\t\t\t\t\t\t\t\tthis.currentUser = this.allUserList[byName];\n\t\t\t\t\t\t\t\t\t\tconsole.log('🎯 通过用户名定位到用户:', this.currentUser);\n\t\t\t\t\t\t\t\t\t\t// 找到该用户在过滤后列表中的索引\n\t\t\t\t\t\t\t\t\t\tconst filteredIdx = this.filteredUserList.findIndex(u => u._id === this.allUserList[byName]._id);\n\t\t\t\t\t\t\t\t\t\tif (filteredIdx !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tthis.userIndex = filteredIdx;\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('🎯 在过滤列表中用户索引已设置为:', this.userIndex);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn('⚠️ 用户在过滤列表中未找到，可能被搜索关键词过滤');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis._pendingUid = '';\n\t\t\t\t\t\t\t\t\t\tthis._pendingUsername = '';\n\t\t\t\t\t\t\t\t\t\tthis.fetchDaySchedule();\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// 如果没有待定位的uid，使用默认逻辑\n\t\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\t\tthis.updateCurrentUserAndFetchSchedule();\n\t\t\t\t\t\t\t\t// 强制触发响应式更新\n\t\t\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('❌ 获取用户列表失败:', result.message || '未知错误');\n\t\t\t\t\t\t\tthis.allUserList = [];\n\t\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('❌ 获取用户列表请求失败:', err);\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\tuni.showToast({ title: '获取用户列表失败: ' + (err.message || '网络错误'), icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tfetchDaySchedule() {\n\t\t\t\tif (!this.currentUser) {\n\t\t\t\t\tconsole.log('❌ 当前用户为空，无法获取课表');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tconst date = this.formatDate(this.currentDate, 'yyyy-MM-dd');\n\t\t\t\t\n\t\t\t\t// 添加调试日志\n\t\t\t\tconsole.log('🔍 开始获取课表数据:');\n\t\t\t\tconsole.log('当前用户:', this.currentUser);\n\t\t\t\tconsole.log('查询日期:', date);\n\t\t\t\tconsole.log('用户ID:', this.currentUser._id);\n\t\t\t\tconsole.log('用户名:', this.currentUser.username);\n\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'schedule-center',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'get-schedules',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tusername: this.currentUser.username,\n\t\t\t\t\t\t\tuid: this.currentUser._id,\n\t\t\t\t\t\t\tdate: date\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('📡 云函数返回结果:', res);\n\t\t\t\t\t\tconst result = res.result;\n\t\t\t\t\t\tif (result.code === 200) {\n\t\t\t\t\t\t\tconsole.log('✅ 查询成功，返回数据:', result.data);\n\t\t\t\t\t\t\tif (result.data) {\n\t\t\t\t\t\t\t\t// 安全校验：如果接口返回的 uid/username 与当前用户不一致，提示并不覆盖本页数据\n\t\t\t\t\t\t\t\tif ((result.data.uid && this.currentUser && result.data.uid !== this.currentUser._id) ||\n\t\t\t\t\t\t\t\t\t(result.data.username && this.currentUser && result.data.username !== this.currentUser.username)) {\n\t\t\t\t\t\t\t\t\tconsole.warn('⚠️ 返回数据的用户与当前选择不一致，已忽略', {\n\t\t\t\t\t\t\t\t\t\tcurrentUser: this.currentUser,\n\t\t\t\t\t\t\t\t\t\tresultUser: { uid: result.data.uid, username: result.data.username }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tuni.showToast({ title: '系统返回了其他教师的数据，已忽略', icon: 'none' });\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// 使用 $set 确保响应性\n\t\t\t\t\t\t\t\tthis.$set(this, 'daySchedule', {\n\t\t\t\t\t\t\t\t\tcourses: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6 || '',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\ttypes: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_type || '无',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_type || '无',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_type || '无',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_type || '无',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_type || '无',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_type || '无',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tlocations: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_location || '',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tclasses: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_class || '',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tremarks: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_remark || '',\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tconsole.log('✅ 课表数据已更新:', this.daySchedule);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('⚠️ 查询结果为空，设置默认空数据');\n\t\t\t\t\t\t\t\tthis.$set(this, 'daySchedule', {\n\t\t\t\t\t\t\t\t\tcourses: ['', '', '', '', '', ''],\n\t\t\t\t\t\t\t\t\ttypes: ['无', '无', '无', '无', '无', '无'],\n\t\t\t\t\t\t\t\t\tlocations: ['', '', '', '', '', ''],\n\t\t\t\t\t\t\t\t\tclasses: ['', '', '', '', '', ''],\n\t\t\t\t\t\t\t\t\tremarks: ['', '', '', '', '', '']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('❌ 查询失败:', result.message);\n\t\t\t\t\t\t\tuni.showToast({ title: '查询失败: ' + (result.message || '未知错误'), icon: 'none' });\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('❌ 请求失败:', err);\n\t\t\t\t\t\tuni.showToast({ title: '查询请求失败: ' + (err.message || '网络错误'), icon: 'none' });\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\tconsole.log('🏁 课表获取完成');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tonTypeChange(slotIndex, event) {\n\t\t\t\tconst typeIndex = event.detail.value;\n\t\t\t\tthis.$set(this.daySchedule.types, slotIndex, this.courseTypes[typeIndex]);\n\t\t\t},\n\t\t\tgetTypeIndex(slotIndex) {\n\t\t\t\treturn this.courseTypes.indexOf(this.daySchedule.types[slotIndex]);\n\t\t\t},\n\t\t\tgetTypeDisplay(slotIndex) {\n\t\t\t\treturn this.daySchedule.types[slotIndex] || '无';\n\t\t\t},\n\t\t\tsaveSchedule() {\n\t\t\t\t// 优先用 currentUser，没有就用本地缓存\n\t\t\t\tlet userInfo = this.currentUser;\n\t\t\t\tif (!userInfo || !userInfo._id) {\n\t\t\t\t\tuserInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t}\n\t\t\t\tif (!userInfo._id) {\n\t\t\t\t\tuni.showToast({ title: '用户信息缺失，请重新登录', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// 确定要保存的日期\n\t\t\t\tconst datesToSave = this.isMultiDateMode ? this.selectedDates : [this.currentDate];\n\t\t\t\t\n\t\t\t\tif (this.isMultiDateMode && this.selectedDates.length === 0) {\n\t\t\t\t\tuni.showToast({ title: '请选择要排课的日期', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('💾 开始保存排课数据，日期数量:', datesToSave.length);\n\t\t\t\t\n\t\t\t\t// 显示保存进度\n\t\t\t\tuni.showLoading({ title: `正在保存${datesToSave.length}个日期的排课...` });\n\t\t\t\t\n\t\t\t\t// 批量保存\n\t\t\t\tconst savePromises = datesToSave.map(date => {\n\t\t\t\t\tconst dateStr = this.formatDate(date, 'yyyy-MM-dd');\n\t\t\t\t\tconsole.log('📅 保存日期:', dateStr);\n\t\t\t\t\t// 构建课程数据，每节课独立保存\n\t\t\t\t\tconst scheduleData = {\n\t\t\t\t\t\tusername: userInfo.username,\n\t\t\t\t\t\tuid: userInfo._id, // 保证uid一定有值\n\t\t\t\t\t\tdate: dateStr\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// 验证必要参数\n\t\t\t\t\tif (!userInfo.username || !userInfo._id || !dateStr) {\n\t\t\t\t\t\tconsole.error('❌ 缺少必要参数:', {\n\t\t\t\t\t\t\tusername: userInfo.username,\n\t\t\t\t\t\t\tuid: userInfo._id,\n\t\t\t\t\t\t\tdate: dateStr\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthrow new Error('缺少必要参数');\n\t\t\t\t\t}\n\n\t\t\t\t\t// 为6节课设置数据，每节课独立\n\t\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t\tconst courseSlot = i + 1; // 第1-6节课\n\t\t\t\t\t\t\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}`] = this.daySchedule.courses[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_type`] = this.daySchedule.types[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_location`] = this.daySchedule.locations[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_class`] = this.daySchedule.classes[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_remark`] = this.daySchedule.remarks[i] || ''; // 保存备注\n\t\t\t\t\t}\n\n\t\t\t\t\t// 为第7-8节课设置空数据（保持兼容）\n\t\t\t\t\tfor (let i = 6; i < 8; i++) {\n\t\t\t\t\t\tconst courseSlot = i + 1;\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}`] = '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_type`] = '无';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_location`] = '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_class`] = '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_remark`] = ''; // 空备注\n\t\t\t\t\t}\n\n\t\t\t\t\tconst adminInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t\tconst adminName = adminInfo.realName || adminInfo.username || '';\n\t\t\t\t\tconst remark = this.remark || '';\n\n\t\t\t\t\t// 取第1节课的课程名称、班级、教室、类型作为消息主内容（如有多节课可自行扩展）\n\t\t\t\t\tconst courseName = this.daySchedule.courses[0] || '';\n\t\t\t\t\tconst className = this.daySchedule.classes[0] || '';\n\t\t\t\t\tconst classroom = this.daySchedule.locations[0] || '';\n\t\t\t\t\tconst courseType = this.daySchedule.types[0] || '';\n\t\t\t\t\tconst scheduleTime = `${dateStr} 08:00-10:00`; // 如有时间选择器可动态生成\n\n\t\t\t\t\tconsole.log('排课参数', {\n\t\t\t\t\t\t...scheduleData,\n\t\t\t\t\t\tadminName,\n\t\t\t\t\t\tremark,\n\t\t\t\t\t\tcourseName,\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tclassroom,\n\t\t\t\t\t\tcourseType,\n\t\t\t\t\t\tscheduleTime\n\t\t\t\t\t});\n\n\t\t\t\t\treturn uniCloud.callFunction({\n\t\t\t\t\t\tname: 'schedule-center',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'set-schedule',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t...scheduleData,\n\t\t\t\t\t\t\t\tadminId: userInfo._id, // 发起人id\n\t\t\t\t\t\t\t\tadminName,\n\t\t\t\t\t\t\t\tremark,\n\t\t\t\t\t\t\t\tcourseName,\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\tclassroom,\n\t\t\t\t\t\t\t\tcourseType,\n\t\t\t\t\t\t\t\tscheduleTime\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(result => {\n\t\t\t\t\t\tconsole.log('📡 云函数返回结果:', result);\n\t\t\t\t\t\tif (result.result && result.result.code !== 200) {\n\t\t\t\t\t\t\tconsole.error('❌ 云函数返回错误:', {\n\t\t\t\t\t\t\t\tcode: result.result.code,\n\t\t\t\t\t\t\t\tmessage: result.result.message,\n\t\t\t\t\t\t\t\terror: result.result.error\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\tconsole.error('❌ 云函数调用失败:', error);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresult: {\n\t\t\t\t\t\t\t\tcode: 500,\n\t\t\t\t\t\t\t\tmessage: '云函数调用失败: ' + error.message\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tPromise.all(savePromises).then(results => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.log('📡 批量保存结果:', results);\n\t\t\t\t\t\n\t\t\t\t\t// 详细分析每个结果\n\t\t\t\t\tresults.forEach((result, index) => {\n\t\t\t\t\t\tconsole.log(`📊 第${index + 1}个日期的保存结果:`, {\n\t\t\t\t\t\t\tsuccess: result.success,\n\t\t\t\t\t\t\terrCode: result.errCode,\n\t\t\t\t\t\t\tresult: result.result\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.result && result.result.code !== 200) {\n\t\t\t\t\t\t\tconsole.error(`❌ 第${index + 1}个日期保存失败:`, {\n\t\t\t\t\t\t\t\tcode: result.result.code,\n\t\t\t\t\t\t\t\tmessage: result.result.message,\n\t\t\t\t\t\t\t\terror: result.result.error\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tconst successCount = results.filter(res => res.result && res.result.code === 200).length;\n\t\t\t\t\tconst totalCount = results.length;\n\t\t\t\t\t\n\t\t\t\t\tif (successCount === totalCount) {\n\t\t\t\t\t\tuni.showToast({ \n\t\t\t\t\t\t\ttitle: `成功保存${successCount}个日期的排课`, \n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst failedCount = totalCount - successCount;\n\t\t\t\t\t\tuni.showToast({ \n\t\t\t\t\t\t\ttitle: `保存完成：${successCount}/${totalCount}个日期成功，${failedCount}个失败`, \n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.error('❌ 批量保存失败:', err);\n\t\t\t\t\tuni.showToast({ title: '保存失败，请重试', icon: 'none' });\n\t\t\t\t});\n\t\t\t},\n\t\t\tchangeDay(direction) {\n\t\t\t\tthis.currentDate.setDate(this.currentDate.getDate() + direction);\n\t\t\t\tthis.currentDate = new Date(this.currentDate);\n\t\t\t\tthis.fetchDaySchedule();\n\t\t\t},\n\t\t\tonUserChange(e) {\n\t\t\t\tthis.userIndex = e.detail.value;\n\t\t\t\tthis.updateCurrentUserAndFetchSchedule();\n\t\t\t},\n\t\t\t// 切换多选日期模式\n\t\t\ttoggleMultiDateMode() {\n\t\t\t\tthis.isMultiDateMode = !this.isMultiDateMode;\n\t\t\t\tif (this.isMultiDateMode && this.selectedDates.length === 0) {\n\t\t\t\t\t// 进入多选模式时，默认选择当前日期\n\t\t\t\t\tthis.selectedDates = [new Date(this.currentDate)];\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 获取一周的日期\n\t\t\tgetWeekDates() {\n\t\t\t\tconst dates = [];\n\t\t\t\tconst today = new Date(this.currentDate);\n\t\t\t\tconst startOfWeek = new Date(today);\n\t\t\t\tstartOfWeek.setDate(today.getDate() - today.getDay()); // 从周日开始\n\t\t\t\t\n\t\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\t\tconst date = new Date(startOfWeek);\n\t\t\t\t\tdate.setDate(startOfWeek.getDate() + i);\n\t\t\t\t\tdates.push(date);\n\t\t\t\t}\n\t\t\t\treturn dates;\n\t\t\t},\n\t\t\t\n\t\t\t// 获取所有可用的日期（4个月）\n\t\t\tgetAllAvailableDates() {\n\t\t\t\tconst dates = [];\n\t\t\t\tconst today = new Date();\n\t\t\t\tconst startDate = new Date(today);\n\t\t\t\tstartDate.setDate(today.getDate() - today.getDay()); // 从当前周的周日开始\n\t\t\t\t\n\t\t\t\t// 生成4个月的日期（当前周 + 后4个月）\n\t\t\t\tconst totalWeeks = 4 * 4 + 2; // 4个月约等于18周，加上当前周\n\t\t\t\tfor (let week = 0; week < totalWeeks; week++) {\n\t\t\t\t\tfor (let day = 0; day < 7; day++) {\n\t\t\t\t\t\tconst date = new Date(startDate);\n\t\t\t\t\t\tdate.setDate(startDate.getDate() + week * 7 + day);\n\t\t\t\t\t\tdates.push(date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn dates;\n\t\t\t},\n\t\t\t\n\t\t\t// 获取当前周范围\n\t\t\tgetCurrentWeekRange() {\n\t\t\t\tconst today = new Date();\n\t\t\t\tconst startOfWeek = new Date(today);\n\t\t\t\tstartOfWeek.setDate(today.getDate() - today.getDay());\n\t\t\t\tconst endOfWeek = new Date(startOfWeek);\n\t\t\t\tendOfWeek.setDate(startOfWeek.getDate() + 6);\n\t\t\t\t\n\t\t\t\t// 如果跨月，显示月份信息\n\t\t\t\tif (startOfWeek.getMonth() !== endOfWeek.getMonth()) {\n\t\t\t\t\treturn `${this.formatDate(startOfWeek, 'MM月dd日')} ~ ${this.formatDate(endOfWeek, 'MM月dd日')}`;\n\t\t\t\t} else {\n\t\t\t\t\treturn `${this.formatDate(startOfWeek, 'MM-dd')} ~ ${this.formatDate(endOfWeek, 'MM-dd')}`;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 检查日期是否被选中\n\t\t\tisDateSelected(date) {\n\t\t\t\t// 确保传入的date是Date对象\n\t\t\t\tconst targetDate = date instanceof Date ? date : new Date(date);\n\t\t\t\treturn this.selectedDates.some(selectedDate => {\n\t\t\t\t\t// 确保selectedDate也是Date对象\n\t\t\t\t\tconst compareDate = selectedDate instanceof Date ? selectedDate : new Date(selectedDate);\n\t\t\t\t\treturn this.formatDate(compareDate, 'yyyy-MM-dd') === this.formatDate(targetDate, 'yyyy-MM-dd');\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 切换日期选择状态\n\t\t\ttoggleDateSelection(date) {\n\t\t\t\t// 确保传入的date是Date对象\n\t\t\t\tconst targetDate = date instanceof Date ? date : new Date(date);\n\t\t\t\tconst dateStr = this.formatDate(targetDate, 'yyyy-MM-dd');\n\t\t\t\t\n\t\t\t\tconst index = this.selectedDates.findIndex(selectedDate => {\n\t\t\t\t\t// 确保selectedDate也是Date对象\n\t\t\t\t\tconst compareDate = selectedDate instanceof Date ? selectedDate : new Date(selectedDate);\n\t\t\t\t\treturn this.formatDate(compareDate, 'yyyy-MM-dd') === dateStr;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.selectedDates.splice(index, 1);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedDates.push(new Date(targetDate));\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 选择所有工作日\n\t\t\tselectAllWeekdays() {\n\t\t\t\tthis.selectedDates = [];\n\t\t\t\tconst weekDates = this.getWeekDates();\n\t\t\t\tweekDates.forEach(date => {\n\t\t\t\t\tconst day = date.getDay();\n\t\t\t\t\tif (day >= 1 && day <= 5) { // 周一到周五\n\t\t\t\t\t\tthis.selectedDates.push(new Date(date));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 清空选择的日期\n\t\t\tclearSelectedDates() {\n\t\t\t\tthis.selectedDates = [];\n\t\t\t},\n\t\t\t\n\t\t\t// 切换周\n\t\t\tchangeWeek(direction) {\n\t\t\t\tthis.weekOffset += direction;\n\t\t\t\t// 限制周偏移量在合理范围内\n\t\t\t\tthis.weekOffset = Math.max(0, Math.min(this.weekOffset, 18)); // 最多18周（4个月）\n\t\t\t\t// 自动滚动到当前周的位置\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.scrollToCurrentWeek();\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 滚动到当前周\n\t\t\tscrollToCurrentWeek() {\n\t\t\t\t// 计算当前周在滚动容器中的位置\n\t\t\t\tconst itemWidth = 80; // 每个日期项的宽度（rpx转换为px）\n\t\t\t\tthis.scrollLeft = this.weekOffset * 7 * itemWidth;\n\t\t\t},\n\t\t\t\n\t\t\t// 处理日期滚动事件\n\t\t\tonDateScroll(e) {\n\t\t\t\t// 可以根据滚动位置更新当前周\n\t\t\t\tconst scrollLeft = e.detail.scrollLeft;\n\t\t\t\tconst itemWidth = 80;\n\t\t\t\tconst weekIndex = Math.round(scrollLeft / (7 * itemWidth));\n\t\t\t\tthis.weekOffset = Math.max(0, Math.min(weekIndex, 18)); // 限制在0-18周范围内\n\t\t\t},\n\t\t\t\n\t\t\t// 获取星期名称\n\t\t\tgetWeekdayName(date) {\n\t\t\t\tconst dayNames = ['日', '一', '二', '三', '四', '五', '六'];\n\t\t\t\treturn dayNames[date.getDay()];\n\t\t\t},\n\t\t\t\n\t\t\t// 判断是否是月份开始\n\t\t\tisMonthStart(date) {\n\t\t\t\treturn date.getDate() === 1;\n\t\t\t},\n\t\t\t\n\t\t\t// 判断是否与前一天是不同月份\n\t\t\tisDifferentMonth(date, index) {\n\t\t\t\tif (index === 0) return false;\n\t\t\t\tconst prevDate = this.getAllAvailableDates()[index - 1];\n\t\t\t\treturn date.getMonth() !== prevDate.getMonth();\n\t\t\t},\n\t\t\t\n\t\t\t// 显示周选择器\n\t\t\tshowWeekPicker() {\n\t\t\t\tthis.showWeekPickerModal = true;\n\t\t\t},\n\t\t\t\n\t\t\t// 隐藏周选择器\n\t\t\thideWeekPicker() {\n\t\t\t\tthis.showWeekPickerModal = false;\n\t\t\t},\n\t\t\t\n\t\t\t// 获取周选项列表\n\t\t\tgetWeekOptions() {\n\t\t\t\tconst options = [];\n\t\t\t\tconst today = new Date();\n\t\t\t\tconst startDate = new Date(today);\n\t\t\t\tstartDate.setDate(today.getDate() - today.getDay()); // 从当前周的周日开始\n\t\t\t\t\n\t\t\t\tfor (let week = 0; week < 18; week++) {\n\t\t\t\t\tconst weekStart = new Date(startDate);\n\t\t\t\t\tweekStart.setDate(startDate.getDate() + week * 7);\n\t\t\t\t\tconst weekEnd = new Date(weekStart);\n\t\t\t\t\tweekEnd.setDate(weekStart.getDate() + 6);\n\t\t\t\t\t\n\t\t\t\t\tlet label = '';\n\t\t\t\t\tif (week === 0) {\n\t\t\t\t\t\tlabel = `本周 (${this.formatDate(weekStart, 'MM-dd')} ~ ${this.formatDate(weekEnd, 'MM-dd')})`;\n\t\t\t\t\t} else if (week === 1) {\n\t\t\t\t\t\tlabel = `下周 (${this.formatDate(weekStart, 'MM-dd')} ~ ${this.formatDate(weekEnd, 'MM-dd')})`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabel = `第${week + 1}周 (${this.formatDate(weekStart, 'MM-dd')} ~ ${this.formatDate(weekEnd, 'MM-dd')})`;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\toptions.push({\n\t\t\t\t\t\tweekOffset: week,\n\t\t\t\t\t\tlabel: label\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn options;\n\t\t\t},\n\t\t\t\n\t\t\t// 选择周\n\t\t\tselectWeek(weekOffset) {\n\t\t\t\tthis.weekOffset = weekOffset;\n\t\t\t\tthis.hideWeekPicker();\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.scrollToCurrentWeek();\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 新增一个统一更新当前用户并获取课表的方法\n\t\t\tupdateCurrentUserAndFetchSchedule() {\n\t\t\t\tconsole.log('🔄 更新当前用户并获取课表...');\n\t\t\t\tconsole.log('当前搜索关键词:', this.searchKeyword);\n\t\t\t\tconsole.log('原始用户列表长度:', this.allUserList.length);\n\t\t\t\tconsole.log('过滤后用户列表长度:', this.filteredUserList.length);\n\t\t\t\tconsole.log('当前用户索引:', this.userIndex);\n\t\t\t\t\n\t\t\t\tif (this.filteredUserList.length > 0) {\n\t\t\t\t\t// 确保 userIndex 在有效范围内\n\t\t\t\t\tif (this.userIndex >= this.filteredUserList.length) {\n\t\t\t\t\t\tthis.userIndex = 0;\n\t\t\t\t\t\tconsole.log('⚠️ 用户索引超出范围，重置为0');\n\t\t\t\t\t}\n\t\t\t\t\tthis.currentUser = this.filteredUserList[this.userIndex];\n\t\t\t\t\tconsole.log('✅ 当前用户已更新:', this.currentUser);\n\t\t\t\t\tconsole.log('用户索引:', this.userIndex);\n\t\t\t\t\tconsole.log('✅ 当前用户 displayName:', this.currentUser.displayName);\n\t\t\t\t\tthis.fetchDaySchedule();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('⚠️ 过滤后用户列表为空，设置默认状态');\n\t\t\t\t\tthis.currentUser = null;\n\t\t\t\t\tthis.$set(this, 'daySchedule', {\n\t\t\t\t\t\tcourses: ['', '', '', '', '', ''],\n\t\t\t\t\t\ttypes: ['无', '无', '无', '无', '无', '无'],\n\t\t\t\t\t\tlocations: ['', '', '', '', '', ''],\n\t\t\t\t\t\tclasses: ['', '', '', '', '', ''],\n\t\t\t\t\t\tremarks: ['', '', '', '', '', '']\n\t\t\t\t\t});\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tformatDate(date, fmt) {\n\t\t\t\t// 确保date是Date对象\n\t\t\t\tif (!(date instanceof Date)) {\n\t\t\t\t\tdate = new Date(date);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 检查date是否有效\n\t\t\t\tif (isNaN(date.getTime())) {\n\t\t\t\t\tconsole.error('Invalid date:', date);\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst o = {\n\t\t\t\t\t'M+': date.getMonth() + 1,\n\t\t\t\t\t'd+': date.getDate(),\n\t\t\t\t};\n\t\t\t\tif (/(y+)/.test(fmt)) {\n\t\t\t\t\tfmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n\t\t\t\t}\n\t\t\t\tfor (let k in o) {\n\t\t\t\t\tif (new RegExp('(' + k + ')').test(fmt)) {\n\t\t\t\t\t\tfmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn fmt;\n\t\t\t},\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack();\n\t\t\t},\n\t\t\treturnToToday() {\n\t\t\t\tthis.currentDate = new Date();\n\t\t\t\tthis.fetchDaySchedule();\n\t\t\t},\n\t\t\tgetTimeLabel(index) {\n\t\t\t\tconst times = [\n\t\t\t\t\t'8:00-10:00',  // 第1节课\n\t\t\t\t\t'10:10-12:10', // 第2节课\n\t\t\t\t\t'14:00-16:00', // 第3节课\n\t\t\t\t\t'16:10-18:10', // 第4节课\n\t\t\t\t\t'18:00-20:00', // 第5节课\n\t\t\t\t\t'20:00-22:00', // 第6节课\n\t\t\t\t];\n\t\t\t\treturn times[index];\n\t\t\t},\n\t\t\tgetCourseColor(type, className) {\n\t\t\t\treturn getCourseColor(type, className);\n\t\t\t},\n\t\t\tonCourseChange(event, slotIndex, field) {\n\t\t\t\tconst value = event.detail.value;\n\t\t\t\tconsole.log('课程信息变化:', { slotIndex, field, value });\n\t\t\t\t\n\t\t\t\tswitch (field) {\n\t\t\t\t\tcase 'course':\n\t\t\t\t\t\tthis.$set(this.daySchedule.courses, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'location':\n\t\t\t\t\t\tthis.$set(this.daySchedule.locations, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'class':\n\t\t\t\t\t\tthis.$set(this.daySchedule.classes, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'remark':\n\t\t\t\t\t\tthis.$set(this.daySchedule.remarks, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonInputFocus(event) {\n\t\t\t\tconsole.log('输入框获得焦点:', event);\n\t\t\t},\n\t\t\tonInputChange(event) {\n\t\t\t\tconsole.log('输入框内容变化:', event);\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\t.page-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t\tbackground: #f0f2f5;\n\t\tpadding-bottom: 120rpx; /* 为固定按钮留出空间 */\n\t\tpadding-top: 60rpx; /* 为顶部内容留出空间，避免太靠上 */\n\t}\n\n\t.schedule-redesign-page {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100vh;\n\t\tbackground: #f0f2f5;\n\t\tpadding-top: calc(env(safe-area-inset-top) + 150rpx);\n\t}\n\n\t.form-item {\n\t\t/* 移除背景和边框，使其融入页面 */\n\t\tbackground: transparent;\n\t\tborder-bottom: none;\n\t\tpadding: 10rpx 40rpx; /* 减小上下边距 */\n\t\tflex-shrink: 0;\n\t}\n\n\t.search-input {\n\t\twidth: 100%;\n\t\theight: 70rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 35rpx;\n\t\tpadding: 0 30rpx;\n\t\tbox-sizing: border-box;\n\t\tmargin-top: 25rpx;\n\t\tfont-size: 28rpx;\n\t\tbox-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.picker {\n\t\t/* 全新胶囊按钮样式 */\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\theight: 80rpx;\n\t\t/* 使用主题色作为背景，使其更醒目 */\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tborder-radius: 50rpx; /* 大圆角 */\n\t\t/* 调整阴影以匹配新的背景色 */\n\t\tbox-shadow: 0 8rpx 25rpx rgba(102, 126, 234, 0.3); \n\t\tfont-size: 30rpx;\n\t\t/* 文字颜色改为白色 */\n\t\tcolor: #ffffff;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t}\n\n\t.picker-arrow {\n\t\tfont-size: 24rpx;\n\t\t/* 箭头颜色也改为白色 */\n\t\tcolor: #ffffff;\n\t\tmargin-left: 15rpx;\n\t\ttransform: scaleY(0.8);\n\t\topacity: 0.8; /* 稍微降低透明度，与文字区分 */\n\t}\n\n\t.schedule-scroll-view {\n\t\tflex: 1;\n\t\tmin-height: 0; /* 关键：确保 flex 生效，让 scroll-view 占据剩余空间 */\n\t\toverflow-y: auto;\n\t\tpadding: 20rpx;\n\t}\n\n\t.loading-container,\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column; /* 允许日期显示在文字下方 */\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tcolor: #999;\n\t\tfont-size: 32rpx;\n\t\tpadding: 150rpx 0; /* 增加上下内边距，替代 height:100% */\n\t}\n\n\t.week-schedule-container {\n\t\tpadding: 25rpx;\n\t}\n\n\t.day-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 25rpx;\n\t\tbox-shadow: 0 8rpx 30rpx rgba(0, 0, 0, 0.07); /* 更柔和的阴影 */\n\t\toverflow: hidden;\n\t}\n\n\t.schedule-grid {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.schedule-row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t\tmin-height: 120rpx;\n\t\tborder-bottom: 1rpx solid #f0f2f5;\n\t\tpadding: 20rpx;\n\t}\n\t.schedule-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.lesson-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 15rpx;\n\t}\n\n\t.session-label {\n\t\tbackground-color: #eaf8ff;\n\t\tcolor: #007aff;\n\t\tpadding: 8rpx 15rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tmargin-right: 15rpx;\n\t}\n\n\t.time-label {\n\t\tbackground-color: #fff9e6;\n\t\tcolor: #d68900;\n\t\tpadding: 8rpx 15rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.course-cell {\n\t\tbackground-color: #ffffff;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 10rpx;\n\t}\n\n\t.course-row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 15rpx;\n\t}\n\n\t.course-input {\n\t\tflex: 1;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 15rpx;\n\t\tfont-size: 28rpx;\n\t\tbackground-color: #ffffff;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.location-input {\n\t\twidth: 120rpx;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 10rpx;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #ffffff;\n\t\tflex-shrink: 0;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.class-input {\n\t\twidth: 120rpx;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 10rpx;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #ffffff;\n\t\tflex-shrink: 0;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.remark-input {\n\t\twidth: 100%;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 15rpx;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #ffffff;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.type-picker {\n\t\twidth: 120rpx;\n\t\tflex-shrink: 0;\n\t}\n\n\t.type-display {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: 60rpx;\n\t\tbackground-color: #f0f8ff;\n\t\tborder: 1rpx solid #b3d9ff;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #0066cc;\n\t\tpadding: 0 10rpx;\n\t}\n\n\t.type-arrow {\n\t\tfont-size: 20rpx;\n\t\tmargin-left: 5rpx;\n\t\tcolor: #0066cc;\n\t}\n\n\t.break-row {\n\t\tbackground-color: #f7f8fa;\n\t\tcolor: #a9adb3;\n\t\ttext-align: center;\n\t\tpadding: 20rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tborder-bottom: 1rpx solid #f0f2f5;\n\t}\n\n\t.bottom-actions {\n\t\tpadding: 30rpx 30rpx 40rpx; /* 恢复内边距 */\n\t\tbackground-color: transparent; /* 改为透明背景 */\n\t\tbox-shadow: none; /* 移除阴影 */\n\t\tmargin-top: 20rpx; /* 和上方内容增加间距 */\n\t}\n\n\t/* 底部操作区样式 - 固定定位 */\n\t.bottom-actions-fixed {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: #f8f9fa;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 -4rpx 12rpx rgba(0, 0, 0, 0.1);\n\t\tz-index: 1000;\n\t\tborder-top: 1rpx solid #e0e0e0;\n\t\t/* 确保按钮区域有足够的高度 */\n\t\tmin-height: 80rpx;\n\t}\n\n\t.day-navigator {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\talign-items: center;\n\t}\n\n\t.nav-btn {\n\t\ttext-align: center;\n\t\tpadding: 22rpx 40rpx;\n\t\tmargin: 0 10rpx;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #fff;\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* 修改为课程表主色调 */\n\t\tbox-shadow: 0 6rpx 20rpx rgba(102, 126, 234, 0.35); /* 修改阴影颜色 */\n\t\ttransition: all 0.2s ease;\n\t}\n\n\t.nav-btn.save-btn {\n\t\tbackground: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); /* 保存按钮使用绿色 */\n\t\tbox-shadow: 0 6rpx 20rpx rgba(67, 233, 123, 0.35);\n\t}\n\n\t.nav-btn.return-btn {\n\t\tbackground: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); /* 修改为与保存按钮相同的绿色 */\n\t\tbox-shadow: 0 6rpx 20rpx rgba(67, 233, 123, 0.35); /* 修改阴影颜色 */\n\t}\n\n\t.nav-btn:active {\n\t\ttransform: translateY(2rpx) scale(0.98);\n\t\tbox-shadow: 0 3rpx 10rpx rgba(0, 0, 0, 0.2);\n\t}\n\n\t.empty-state {\n\t\ttext-align: center;\n\t}\n\n\t.date-in-empty {\n\t\tfont-size: 28rpx;\n\t\tcolor: #b0b0b0;\n\t\tmargin-top: 10rpx;\n\t}\n\n\t/* 日期选择器样式 */\n\t.date-selector {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 5rpx 10rpx 10rpx; /* 减小边距 */\n\t\tflex-shrink: 0;\n\t}\n\t\n\t.nav-arrow {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #fff;\n\t\tbox-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.08);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tfont-size: 40rpx;\n\t\tcolor: #667eea;\n\t\tfont-weight: bold;\n\t\ttransition: all 0.2s ease;\n\t}\n\t\n\t.nav-arrow:active {\n\t\ttransform: scale(0.95);\n\t\tbackground-color: #f0f2f5;\n\t}\n\t\n\t.date-display-wrapper {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tpadding: 0 20rpx;\n\t}\n\t\n\t.date-text {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\twhite-space: nowrap; /* 核心：确保不换行 */\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t.course-block {\n\t\tborder-radius: 8rpx;\n\t\tpadding: 8rpx 0;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tbox-shadow: 0 2px 8px rgba(0,0,0,0.08);\n\t\tmargin-bottom: 8rpx;\n\t\ttext-align: center;\n\t}\n\n\t.course-remark-show {\n\t\tcolor: #888;\n\t\tfont-size: 22rpx;\n\t\tmargin: 2rpx 0 8rpx 0;\n\t\tline-height: 1.4;\n\t}\n\t\n\t/* 多选日期相关样式 */\n\t.multi-date-hint {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\tmargin-top: 5rpx;\n\t}\n\t\n\t.multi-date-selector {\n\t\tbackground: #fff;\n\t\tmargin: 20rpx;\n\t\tborder-radius: 20rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n\t\tpadding: 30rpx;\n\t}\n\t\n\t.multi-date-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.multi-date-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.multi-date-actions {\n\t\tdisplay: flex;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.action-btn {\n\t\tpadding: 10rpx 20rpx;\n\t\tbackground: #1976D2;\n\t\tcolor: #fff;\n\t\tborder-radius: 10rpx;\n\t\tfont-size: 24rpx;\n\t}\n\t\n\t/* 周导航样式 */\n\t.week-navigation {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\tpadding: 0 10rpx;\n\t}\n\t\n\t.week-nav-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 15rpx 20rpx;\n\t\tbackground: #f0f8ff;\n\t\tborder-radius: 20rpx;\n\t\tborder: 1rpx solid #b3d9ff;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.week-nav-btn:active {\n\t\tbackground: #e6f3ff;\n\t\ttransform: scale(0.95);\n\t}\n\t\n\t.week-nav-icon {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1976D2;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.week-nav-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1976D2;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.week-display {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tpadding: 15rpx 20rpx;\n\t\tbackground: #f8f9fa;\n\t\tborder-radius: 20rpx;\n\t\tborder: 2rpx solid #e9ecef;\n\t\ttransition: all 0.3s ease;\n\t\tcursor: pointer;\n\t}\n\t\n\t.week-display:active {\n\t\tbackground: #e9ecef;\n\t\ttransform: scale(0.98);\n\t}\n\t\n\t.week-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 500;\n\t\tdisplay: block;\n\t}\n\t\n\t.week-picker-hint {\n\t\tfont-size: 20rpx;\n\t\tcolor: #666;\n\t\tmargin-top: 5rpx;\n\t\topacity: 0.8;\n\t}\n\t\n\t/* 可滑动的日期容器 */\n\t.date-scroll-container {\n\t\twidth: 100%;\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.date-scroll-content {\n\t\tdisplay: flex;\n\t\tgap: 15rpx;\n\t\tpadding: 0 10rpx;\n\t}\n\t\n\t.date-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(7, 1fr);\n\t\tgap: 15rpx;\n\t}\n\t\n\t.date-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20rpx 10rpx;\n\t\tborder-radius: 15rpx;\n\t\tbackground: #f5f5f5;\n\t\tborder: 2rpx solid transparent;\n\t\ttransition: all 0.3s ease;\n\t\tmin-width: 80rpx;\n\t\tflex-shrink: 0;\n\t}\n\t\n\t.date-item.selected {\n\t\tbackground: #1976D2;\n\t\tcolor: #fff;\n\t\tborder-color: #1976D2;\n\t}\n\t\n\t.date-item.month-start {\n\t\tborder-left: 3rpx solid #ff6b6b;\n\t\tbackground: #fff5f5;\n\t}\n\t\n\t.date-item.different-month {\n\t\tborder-left: 2rpx solid #e0e0e0;\n\t}\n\t\n\t.month-label {\n\t\tfont-size: 20rpx;\n\t\tcolor: #ff6b6b;\n\t\tfont-weight: bold;\n\t\tmargin-top: 5rpx;\n\t}\n\t\n\t.date-item .date-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 5rpx;\n\t}\n\t\n\t.date-item .weekday-text {\n\t\tfont-size: 22rpx;\n\t\topacity: 0.8;\n\t}\n\t\n\t/* 周选择器弹窗样式 */\n\t.week-picker-modal {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tz-index: 1000;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 40rpx;\n\t}\n\t\n\t.week-picker-content {\n\t\tbackground: #fff;\n\t\tborder-radius: 20rpx;\n\t\twidth: 100%;\n\t\tmax-height: 70vh;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t\n\t.week-picker-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.week-picker-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.close-btn {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: #f0f0f0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.close-icon {\n\t\tfont-size: 32rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.week-picker-list {\n\t\tflex: 1;\n\t\toverflow-y: auto;\n\t\tpadding: 20rpx 0;\n\t}\n\t\n\t.week-option {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 25rpx 30rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.week-option:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.week-option.selected {\n\t\tbackground: #f0f8ff;\n\t\tborder-left: 4rpx solid #1976D2;\n\t}\n\t\n\t.week-option:active {\n\t\tbackground: #f5f5f5;\n\t}\n\t\n\t.week-option-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tflex: 1;\n\t}\n\t\n\t.check-icon {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1976D2;\n\t\tfont-weight: bold;\n\t}\n</style> ","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1759362723300\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}