{"version":3,"sources":["uni-app:///main.js","webpack:///D:/ä»£ç /å°ç¨‹åº/æ–°æ¬£ç«1/pages/schedule-manage/schedule-manage.vue?c3a2","webpack:///D:/ä»£ç /å°ç¨‹åº/æ–°æ¬£ç«1/pages/schedule-manage/schedule-manage.vue?28a5","webpack:///D:/ä»£ç /å°ç¨‹åº/æ–°æ¬£ç«1/pages/schedule-manage/schedule-manage.vue?3203","webpack:///D:/ä»£ç /å°ç¨‹åº/æ–°æ¬£ç«1/pages/schedule-manage/schedule-manage.vue?bddd","uni-app:///pages/schedule-manage/schedule-manage.vue","webpack:///D:/ä»£ç /å°ç¨‹åº/æ–°æ¬£ç«1/pages/schedule-manage/schedule-manage.vue?e95c","webpack:///D:/ä»£ç /å°ç¨‹åº/æ–°æ¬£ç«1/pages/schedule-manage/schedule-manage.vue?b791"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","allUserList","userIndex","isTeacher","currentUser","currentDate","selectedDates","isMultiDateMode","daySchedule","courses","types","locations","classes","remarks","isLoading","searchKeyword","courseTypes","remark","visibleSlots","weekOffset","scrollLeft","showWeekPickerModal","computed","dayDisplay","filteredUserList","list","user","displayName","console","watch","onLoad","username","date","onReady","methods","fetchUsers","uniCloud","name","action","success","fail","uni","title","icon","fetchDaySchedule","params","uid","result","resultUser","complete","onTypeChange","getTypeIndex","getTypeDisplay","saveSchedule","userInfo","scheduleData","adminName","courseName","className","classroom","courseType","scheduleTime","adminId","code","message","error","Promise","results","errCode","duration","changeDay","onUserChange","toggleMultiDateMode","getWeekDates","startOfWeek","dates","getAllAvailableDates","startDate","getCurrentWeekRange","endOfWeek","isDateSelected","toggleDateSelection","selectAllWeekdays","weekDates","clearSelectedDates","changeWeek","scrollToCurrentWeek","onDateScroll","getWeekdayName","isMonthStart","isDifferentMonth","showWeekPicker","hideWeekPicker","getWeekOptions","weekStart","weekEnd","label","options","selectWeek","updateCurrentUserAndFetchSchedule","formatDate","fmt","goBack","returnToToday","getTimeLabel","getCourseColor","onCourseChange","slotIndex","field","value","onInputFocus","onInputChange"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACa;;;AAG3E;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAA6qB,CAAgB,2qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACuJjsB;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;;MACAC;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;MACA;QACAA;UAAA,OACAC;QAAA,EACA;MACA;MACA;MACA;QAAA,uCACAA;UACAC;QAAA;MAAA,CACA;MACAC;MACA;QACAA;QACAA;QACA;UACAA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAd;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;EACA;EACAe;IACA;IACA;IACA;IACA;IACA;MAAAC;MAAAC;IACA;IACA;MACA;QACA;MACA;IACA;IACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACA;IACA;MACA;MACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAP;MACAQ;QACAC;QACArC;UAAAsC;QAAA;QACAC;UACAX;UACA;UACA;YACAA;YACA;YACAA;YACA;YACA;cACA;gBAAA;cAAA;cACA;gBACA;gBACAA;gBACA;gBACA;kBAAA;gBAAA;gBACA;kBACA;kBACAA;gBACA;kBACAA;gBACA;gBACA;gBACA;gBACA;gBACA;cACA;cACA;cACA;gBACA;kBAAA;gBAAA;gBACA;kBACA;kBACAA;kBACA;kBACA;oBAAA;kBAAA;kBACA;oBACA;oBACAA;kBACA;oBACAA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;YACA;YACA;YACA;cACA;cACA;cACA;YACA;UACA;YACAA;YACA;YACA;UACA;QACA;QACAY;UACAZ;UACA;UACAa;YAAAC;YAAAC;UAAA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAhB;QACA;MACA;MACA;MAEA;;MAEA;MACAA;MACAA;MACAA;MACAA;MACAA;MAEAQ;QACAC;QACArC;UACAsC;UACAO;YACAd;YACAe;YACAd;UACA;QACA;QACAO;UACAX;UACA;UACA;YACAA;YACA;cACA;cACA,2FACAmB;gBACAnB;kBACAxB;kBACA4C;oBAAAF;oBAAAf;kBAAA;gBACA;gBACAU;kBAAAC;kBAAAC;gBAAA;gBACA;cACA;cACA;cACA;gBACAlC,UACAsC,iCACAA,iCACAA,iCACAA,iCACAA,iCACAA,gCACA;gBACArC,QACAqC,uCACAA,uCACAA,uCACAA,uCACAA,uCACAA,sCACA;gBACApC,YACAoC,0CACAA,0CACAA,0CACAA,0CACAA,0CACAA,yCACA;gBACAnC,UACAmC,uCACAA,uCACAA,uCACAA,uCACAA,uCACAA,sCACA;gBACAlC,UACAkC,wCACAA,wCACAA,wCACAA,wCACAA,wCACAA;cAEA;cACAnB;YACA;cACAA;cACA;gBACAnB;gBACAC;gBACAC;gBACAC;gBACAC;cACA;YACA;UACA;YACAe;YACAa;cAAAC;cAAAC;YAAA;UACA;QACA;QACAH;UACAZ;UACAa;YAAAC;YAAAC;UAAA;QACA;QACAM;UACA;UACArB;QACA;MACA;IACA;IACAsB;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACAC;MACA;MACA;QACAb;UAAAC;UAAAC;QAAA;QACA;MACA;;MAEA;MACA;MAEA;QACAF;UAAAC;UAAAC;QAAA;QACA;MACA;MAEAf;;MAEA;MACAa;QAAAC;MAAA;;MAEA;MACA;QACA;QACAd;QACA;QACA;UACAG;UACAe;UAAA;UACAd;QACA;;QAEA;QACA;UACAJ;YACAG;YACAe;YACAd;UACA;UACA;QACA;;QAEA;QACA;UACA;;UAEAuB;UACAA;UACAA;UACAA;UACAA;QACA;;QAEA;QACA;UACA;UACAA;UACAA;UACAA;UACAA;UACAA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA3B,oDACA2B;UACAC;UACAvC;UACAwC;UACAC;UACAC;UACAC;UACAC;QAAA,GACA;QAEA;UACAxB;UACArC;YACAsC;YACAO,wCACAU;cACAO;cAAA;cACAN;cACAvC;cACAwC;cACAC;cACAC;cACAC;cACAC;YAAA;UAEA;QACA;UACAjC;UACA;YACAA;cACAmC;cACAC;cACAC;YACA;UACA;UACA;QACA;UACArC;UACA;YACAmB;cACAgB;cACAC;YACA;UACA;QACA;MACA;MAEAE;QACAzB;QACAb;;QAEA;QACAuC;UACAvC;YACAW;YACA6B;YACArB;UACA;UAEA;YACAnB;cACAmC;cACAC;cACAC;YACA;UACA;QACA;QAEA;UAAA;QAAA;QACA;QAEA;UACAxB;YACAC;YACAC;YACA0B;UACA;QACA;UACA;UACA5B;YACAC;YACAC;YACA0B;UACA;QACA;MACA;QACA5B;QACAb;QACAa;UAAAC;UAAAC;QAAA;MACA;IACA;IACA2B;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAC;;MAEA;QACA;QACA1C;QACA2C;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAC;;MAEA;MACA;MACA;QACA;UACA;UACA7C;UACA2C;QACA;MACA;MACA;IACA;IAEA;IACAG;MACA;MACA;MACAJ;MACA;MACAK;;MAEA;MACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;MAEA;QACA;QACA;QACA;MACA;MAEA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACAC;QACA;QACA;UAAA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAhB;;MAEA;QACA;QACAiB;QACA;QACAC;QAEA;QACA;UACAC;QACA;UACAA;QACA;UACAA;QACA;QAEAC;UACA9E;UACA6E;QACA;MACA;MACA;IACA;IAEA;IACAE;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACAvE;MACAA;MACAA;MACAA;MACAA;MAEA;QACA;QACA;UACA;UACAA;QACA;QACA;QACAA;QACAA;QACAA;QACA;MACA;QACAA;QACA;QACA;UACAnB;UACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;IACA;IACAuF;MACA;MACA;QACApE;MACA;;MAEA;MACA;QACAJ;QACA;MACA;MAEA;QACA;QACA;MACA;MACA;QACAyE;MACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;IACAC;MACA7D;IACA;IACA8D;MACA;MACA;IACA;IACAC;MACA,aACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA;MACA;MAAA,CACA;;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA9E;QAAA+E;QAAAC;QAAAC;MAAA;MAEA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IACAC;MACAlF;IACA;IACAmF;MACAnF;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACt6BA;AAAA;AAAA;AAAA;AAA09B,CAAgB,o7BAAG,EAAC,C;;;;;;;;;;;ACA9+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/schedule-manage/schedule-manage.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/schedule-manage/schedule-manage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./schedule-manage.vue?vue&type=template&id=c9c8c084&\"\nvar renderjs\nimport script from \"./schedule-manage.vue?vue&type=script&lang=js&\"\nexport * from \"./schedule-manage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./schedule-manage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/schedule-manage/schedule-manage.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=template&id=c9c8c084&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.isTeacher ? _vm.filteredUserList.length : null\n  var g1 = _vm.isMultiDateMode ? _vm.selectedDates.length : null\n  var m0 = _vm.isMultiDateMode ? _vm.getCurrentWeekRange() : null\n  var l0 = _vm.isMultiDateMode\n    ? _vm.__map(_vm.getAllAvailableDates(), function (date, index) {\n        var $orig = _vm.__get_orig(date)\n        var m1 = _vm.isDateSelected(date)\n        var m2 = _vm.isMonthStart(date)\n        var m3 = _vm.isDifferentMonth(date, index)\n        var m4 = _vm.formatDate(date, \"MM-dd\")\n        var m5 = _vm.getWeekdayName(date)\n        var m6 = _vm.isMonthStart(date)\n        var m7 = m6 ? _vm.formatDate(date, \"MMæœˆ\") : null\n        return {\n          $orig: $orig,\n          m1: m1,\n          m2: m2,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n          m6: m6,\n          m7: m7,\n        }\n      })\n    : null\n  var l1 = _vm.showWeekPickerModal ? _vm.getWeekOptions() : null\n  var l2 =\n    !_vm.isLoading && !!_vm.daySchedule\n      ? _vm.__map(_vm.visibleSlots, function (slot, __i0__) {\n          var $orig = _vm.__get_orig(slot)\n          var m8 = _vm.getTimeLabel(slot - 1)\n          var m9 = _vm.getTypeIndex(slot - 1)\n          var m10 = _vm.getTypeDisplay(slot - 1)\n          return {\n            $orig: $orig,\n            m8: m8,\n            m9: m9,\n            m10: m10,\n          }\n        })\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, date) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        date = _temp2.date\n      var _temp, _temp2\n      return _vm.toggleDateSelection(date)\n    }\n    _vm.e1 = function ($event, week) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        week = _temp4.week\n      var _temp3, _temp4\n      return _vm.selectWeek(week.weekOffset)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        m0: m0,\n        l0: l0,\n        l1: l1,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page-container\">\n\t\t<!-- ç”¨æˆ·é€‰æ‹© (ä»…ç®¡ç†å‘˜/è¶…ç®¡å¯è§) - å…¨æ–°ç¾åŒ–ç‰ˆ -->\n\t\t<view class=\"form-item\" v-if=\"!isTeacher\">\n\t\t\t<picker @change=\"onUserChange\" :value=\"userIndex\" :range=\"filteredUserList\" range-key=\"displayName\">\n\t\t\t\t<view class=\"picker\">\n\t\t\t\t\t<text>{{ filteredUserList.length > 0 ? filteredUserList[userIndex].displayName : 'æ— åŒ¹é…ç”¨æˆ·' }}</text>\n\t\t\t\t\t<text class=\"picker-arrow\">â–¼</text>\n\t\t\t\t</view>\n\t\t\t</picker>\n\t\t\t<!-- æ–°å¢æœç´¢æ¡† -->\n\t\t\t<input class=\"search-input\" v-model.trim=\"searchKeyword\" placeholder=\"ğŸ” æœç´¢æ•™å¸ˆå§“å\" />\n\t\t</view>\n\n\t\t<!-- å…¨æ–°æ—¥æœŸé€‰æ‹©å™¨ -->\n\t\t<view class=\"date-selector\">\n\t\t\t<view class=\"nav-arrow\" @click=\"changeDay(-1)\">\n\t\t\t\t<text>â€¹</text>\n\t\t\t</view>\n\t\t\t<view class=\"date-display-wrapper\" @click=\"toggleMultiDateMode\">\n\t\t\t\t<text class=\"date-text\">{{ isMultiDateMode ? `å·²é€‰æ‹©${selectedDates.length}ä¸ªæ—¥æœŸ` : dayDisplay }}</text>\n\t\t\t\t<text class=\"multi-date-hint\">{{ isMultiDateMode ? 'ç‚¹å‡»åˆ‡æ¢' : 'ç‚¹å‡»å¤šé€‰' }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"nav-arrow\" @click=\"changeDay(1)\">\n\t\t\t\t<text>â€º</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- å¤šé€‰æ—¥æœŸæ¨¡å¼ -->\n\t\t<view v-if=\"isMultiDateMode\" class=\"multi-date-selector\">\n\t\t\t<view class=\"multi-date-header\">\n\t\t\t\t<text class=\"multi-date-title\">é€‰æ‹©è¦æ’è¯¾çš„æ—¥æœŸï¼š</text>\n\t\t\t\t<view class=\"multi-date-actions\">\n\t\t\t\t\t<view class=\"action-btn\" @click=\"selectAllWeekdays\">é€‰æ‹©å·¥ä½œæ—¥</view>\n\t\t\t\t\t<view class=\"action-btn\" @click=\"clearSelectedDates\">æ¸…ç©ºé€‰æ‹©</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- å‘¨å¯¼èˆª -->\n\t\t\t<view class=\"week-navigation\">\n\t\t\t\t<view class=\"week-nav-btn\" @click=\"changeWeek(-1)\">\n\t\t\t\t\t<text class=\"week-nav-icon\">â€¹</text>\n\t\t\t\t\t<text class=\"week-nav-text\">ä¸Šä¸€å‘¨</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"week-display\" @click=\"showWeekPicker\">\n\t\t\t\t\t<text class=\"week-text\">{{ getCurrentWeekRange() }}</text>\n\t\t\t\t\t<text class=\"week-picker-hint\">ç‚¹å‡»é€‰æ‹©å‘¨</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"week-nav-btn\" @click=\"changeWeek(1)\">\n\t\t\t\t\t<text class=\"week-nav-text\">ä¸‹ä¸€å‘¨</text>\n\t\t\t\t\t<text class=\"week-nav-icon\">â€º</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- å¯æ»‘åŠ¨çš„æ—¥æœŸé€‰æ‹©å™¨ -->\n\t\t\t<scroll-view scroll-x class=\"date-scroll-container\" :scroll-left=\"scrollLeft\" @scroll=\"onDateScroll\">\n\t\t\t\t<view class=\"date-scroll-content\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(date, index) in getAllAvailableDates()\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"date-item\"\n\t\t\t\t\t\t:class=\"{ \n\t\t\t\t\t\t\t'selected': isDateSelected(date),\n\t\t\t\t\t\t\t'month-start': isMonthStart(date),\n\t\t\t\t\t\t\t'different-month': isDifferentMonth(date, index)\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@click=\"toggleDateSelection(date)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text class=\"date-text\">{{ formatDate(date, 'MM-dd') }}</text>\n\t\t\t\t\t\t<text class=\"weekday-text\">{{ getWeekdayName(date) }}</text>\n\t\t\t\t\t\t<text v-if=\"isMonthStart(date)\" class=\"month-label\">{{ formatDate(date, 'MMæœˆ') }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\n\t\t<!-- å‘¨é€‰æ‹©å™¨å¼¹çª— -->\n\t\t<view v-if=\"showWeekPickerModal\" class=\"week-picker-modal\" @click=\"hideWeekPicker\">\n\t\t\t<view class=\"week-picker-content\" @click.stop>\n\t\t\t\t<view class=\"week-picker-header\">\n\t\t\t\t\t<text class=\"week-picker-title\">é€‰æ‹©å‘¨</text>\n\t\t\t\t\t<view class=\"close-btn\" @click=\"hideWeekPicker\">\n\t\t\t\t\t\t<text class=\"close-icon\">Ã—</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<scroll-view scroll-y class=\"week-picker-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(week, index) in getWeekOptions()\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"week-option\"\n\t\t\t\t\t\t:class=\"{ 'selected': week.weekOffset === weekOffset }\"\n\t\t\t\t\t\t@click=\"selectWeek(week.weekOffset)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text class=\"week-option-text\">{{ week.label }}</text>\n\t\t\t\t\t\t<text v-if=\"week.weekOffset === weekOffset\" class=\"check-icon\">âœ“</text>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- è¯¾è¡¨å†…å®¹åŒºåŸŸ -->\n\t\t<scroll-view scroll-y class=\"schedule-scroll-view\">\n\t\t\t<view v-if=\"isLoading\" class=\"loading-container\">\n\t\t\t\t<view class=\"loading-text\">è¯¾è¡¨åŠ è½½ä¸­...</view>\n\t\t\t</view>\n\t\t\t<view v-else-if=\"!daySchedule\" class=\"empty-state\">\n\t\t\t\t<view class=\"empty-text\">\n\t\t\t\t\tä»Šå¤©æ²¡æœ‰è¯¾ç¨‹å®‰æ’\n\t\t\t\t\t<view class=\"date-in-empty\">{{ dayDisplay }}</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view v-else class=\"week-schedule-container\">\n\t\t\t\t<view class=\"day-card\">\n\t\t\t\t\t<view class=\"schedule-grid\">\n\t\t\t\t\t\t<!-- ä½¿ç”¨å›ºå®šæ•°ç»„ï¼Œç¡®ä¿ä»1å¼€å§‹ -->\n\t\t\t\t\t\t<view v-for=\"slot in visibleSlots\" :key=\"slot\" class=\"schedule-row\">\n\t\t\t\t\t\t\t<!-- è¯¾ç¨‹æ ‡ç­¾å’Œæ—¶é—´ -->\n\t\t\t\t\t\t\t<view class=\"lesson-header\">\n\t\t\t\t\t\t\t\t<view class=\"session-label\">ç¬¬{{ slot }}èŠ‚è¯¾</view>\n\t\t\t\t\t\t\t\t<view class=\"time-label\">{{ getTimeLabel(slot - 1) }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- è¾“å…¥æ¡†åŒºåŸŸ -->\n\t\t\t\t\t\t\t<view class=\"course-cell\">\n\t\t\t\t\t\t\t\t<view class=\"course-row\">\n\t\t\t\t\t\t\t\t\t<input class=\"course-input\" type=\"text\" v-model=\"daySchedule.courses[slot - 1]\" placeholder=\"è¯¾ç¨‹åç§°\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t\t\t<picker class=\"type-picker\" @change=\"onTypeChange(slot - 1, $event)\" :value=\"getTypeIndex(slot - 1)\" :range=\"courseTypes\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"type-display\">\n\t\t\t\t\t\t\t\t\t\t\t<text>{{ getTypeDisplay(slot - 1) }}</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"type-arrow\">â–¼</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</picker>\n\t\t\t\t\t\t\t\t\t<input class=\"location-input\" type=\"text\" v-model=\"daySchedule.locations[slot - 1]\" placeholder=\"åœ°ç‚¹\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t\t\t<input class=\"class-input\" type=\"text\" v-model=\"daySchedule.classes[slot - 1]\" placeholder=\"ç­çº§\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<input class=\"remark-input\" type=\"text\" v-model=\"daySchedule.remarks[slot - 1]\" placeholder=\"å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰\" :disabled=\"false\" :readonly=\"false\" @focus=\"onInputFocus\" @input=\"onInputChange\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\n\t\t<!-- åº•éƒ¨æ“ä½œåŒº (å›ºå®šåœ¨åº•éƒ¨ï¼Œä¸éšé¡µé¢æ»šåŠ¨) -->\n\t\t<view class=\"bottom-actions-fixed\">\n\t\t\t<view class=\"day-navigator\">\n\t\t\t\t<view class=\"nav-btn save-btn\" @click=\"saveSchedule\">ğŸ’¾ ä¿å­˜æ’è¯¾</view>\n\t\t\t\t<view class=\"nav-btn return-btn\" @click=\"goBack\">è¿”å›é¦–é¡µ</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { getCourseColor } from '../../utils/courseColor.js';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tallUserList: [], // å­˜å‚¨æ‰€æœ‰ç”¨æˆ·çš„åŸå§‹åˆ—è¡¨\n\t\t\t\tuserIndex: 0,\n\t\t\t\tisTeacher: false,\n\t\t\t\tcurrentUser: null,\n\t\t\t\tcurrentDate: new Date(),\n\t\t\t\tselectedDates: [], // å¤šé€‰æ—¥æœŸæ•°ç»„\n\t\t\t\tisMultiDateMode: false, // æ˜¯å¦å¼€å¯å¤šé€‰æ¨¡å¼\n\t\t\t\tdaySchedule: {\n\t\t\t\t\tcourses: ['', '', '', '', '', ''],\n\t\t\t\t\ttypes: ['æ— ', 'æ— ', 'æ— ', 'æ— ', 'æ— ', 'æ— '],\n\t\t\t\t\tlocations: ['', '', '', '', '', ''],\n\t\t\t\t\tclasses: ['', '', '', '', '', ''],\n\t\t\t\t\tremarks: ['', '', '', '', '', ''] // æ–°å¢å¤‡æ³¨å­—æ®µ\n\t\t\t\t},\n\t\t\t\tisLoading: true,\n\t\t\t\tsearchKeyword: '', // æœç´¢å…³é”®è¯\n\t\t\t\tcourseTypes: ['æ— ', 'ä¸€å¯¹ä¸€', 'ç­è¯¾', 'è„±äº§ç”Ÿ'],\n\t\t\t\tremark: '', // æ–°å¢remarkå­—æ®µï¼Œé˜²æ­¢é¡µé¢æŠ¥é”™\n\t\t\t\tvisibleSlots: [1,2,3,4,5,6],\n\t\t\t\t// å¤šé€‰æ—¥æœŸç›¸å…³\n\t\t\t\tweekOffset: 0, // å‘¨åç§»é‡ï¼Œ0è¡¨ç¤ºå½“å‰å‘¨ï¼Œ1è¡¨ç¤ºä¸‹ä¸€å‘¨ï¼Œ-1è¡¨ç¤ºä¸Šä¸€å‘¨\n\t\t\t\tscrollLeft: 0, // æ»šåŠ¨ä½ç½®\n\t\t\t\tshowWeekPickerModal: false // å‘¨é€‰æ‹©å™¨å¼¹çª—æ˜¾ç¤ºçŠ¶æ€\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tdayDisplay() {\n\t\t\t\tconst date = this.currentDate;\n\t\t\t\tconst dayNames = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];\n\t\t\t\tconst isToday = this.formatDate(new Date(), 'yyyy-MM-dd') === this.formatDate(date, 'yyyy-MM-dd');\n\t\t\t\treturn `${this.formatDate(date, 'yyyy-MM-dd')} ${dayNames[date.getDay()]} ${isToday ? '(ä»Šå¤©)' : ''}`;\n\t\t\t},\n\t\t\t// æ ¹æ®æœç´¢å…³é”®è¯è¿‡æ»¤ç”¨æˆ·åˆ—è¡¨\n\t\tfilteredUserList() {\n\t\t\tlet list;\n\t\t\tif (!this.searchKeyword) {\n\t\t\t\tlist = this.allUserList;\n\t\t\t} else {\n\t\t\t\tlist = this.allUserList.filter(user =>\n\t\t\t\t\tuser.teacherName && user.teacherName.toLowerCase().includes(this.searchKeyword.toLowerCase())\n\t\t\t\t);\n\t\t\t}\n\t\t\t// ä¸ºæ¯ä¸ªç”¨æˆ·æ·»åŠ  displayName å±æ€§\n\t\t\tconst result = list.map(user => ({\n\t\t\t\t...user,\n\t\t\t\tdisplayName: user.teacherName || user.username || user.nickname || 'æœªçŸ¥ç”¨æˆ·'\n\t\t\t}));\n\t\t\tconsole.log('ğŸ” filteredUserList å¤„ç†ç»“æœ:', result.length, 'ä¸ªç”¨æˆ·');\n\t\t\tif (result.length > 0) {\n\t\t\t\tconsole.log('ğŸ” ç¬¬ä¸€ä¸ªç”¨æˆ·:', result[0]);\n\t\t\t\tconsole.log('ğŸ” å½“å‰ userIndex:', this.userIndex);\n\t\t\t\tif (this.userIndex < result.length) {\n\t\t\t\t\tconsole.log('ğŸ” å½“å‰é€‰ä¸­ç”¨æˆ·:', result[this.userIndex]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t// ç›‘å¬æœç´¢å…³é”®è¯çš„å˜åŒ–\n\t\t\tsearchKeyword() {\n\t\t\t\t// å½“ç­›é€‰æ¡ä»¶å˜åŒ–ï¼Œé‡ç½®é€‰æ‹©å™¨åˆ°ç¬¬ä¸€é¡¹\n\t\t\t\tthis.userIndex = 0;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.updateCurrentUserAndFetchSchedule();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// è¯»å–è·¯ç”±å‚æ•°ï¼ˆé€šè¿‡æ°”æ³¡å…¥å£å¯èƒ½ä¼šä¼ å…¥æŒ‡å®šæ•™å¸ˆä¸æ—¥æœŸï¼‰\n\t\t\tconst pages = getCurrentPages();\n\t\t\tconst current = pages[pages.length - 1] || {};\n\t\t\tconst options = current.options || {};\n\t\t\tconst { uid, username, date } = options;\n\t\t\t// è‹¥ä¼ å…¥äº†æ—¥æœŸï¼Œä¼˜å…ˆè®¾ç½®æ—¥æœŸ\n\t\t\tif (date) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.currentDate = new Date(date);\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t\tif (uid) {\n\t\t\t\t// ä»å¤–éƒ¨æŒ‡å®šäº†æ•™å¸ˆï¼Œèµ°ç®¡ç†å‘˜è§†è§’ï¼ŒæŒ‰uidåœ¨ç”¨æˆ·åˆ—è¡¨ä¸­å®šä½\n\t\t\t\tthis.isTeacher = false;\n\t\t\t\tthis._pendingUid = uid;\n\t\t\t\tthis._pendingUsername = username || '';\n\t\t\t\tthis.fetchUsers();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// æ­£å¸¸é€»è¾‘ï¼šæ•™å¸ˆè‡ªå·±è¿›å…¥\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\tif (userInfo && userInfo.role && userInfo.role.includes('æ•™å¸ˆ')) {\n\t\t\t\tthis.isTeacher = true;\n\t\t\t\tthis.currentUser = userInfo;\n\t\t\t\tthis.fetchDaySchedule();\n\t\t\t} else {\n\t\t\t\tthis.fetchUsers();\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\t// ç¡®ä¿æ•°æ®å“åº”æ€§\n\t\t\tthis.$forceUpdate();\n\t\t},\n\t\tmethods: {\n\t\t\tfetchUsers() {\n\t\t\t\tconsole.log('ğŸ” å¼€å§‹è·å–ç”¨æˆ·åˆ—è¡¨...');\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'user-center',\n\t\t\t\t\tdata: { action: 'get-accounts' },\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('ğŸ“¡ ç”¨æˆ·åˆ—è¡¨è¿”å›ç»“æœ:', res);\n\t\t\t\t\t\tconst result = res.result;\n\t\t\t\t\t\tif (result.code === 200 && result.data.length > 0) {\n\t\t\t\t\t\t\tconsole.log('âœ… è·å–ç”¨æˆ·åˆ—è¡¨æˆåŠŸï¼Œç”¨æˆ·æ•°é‡:', result.data.length);\n\t\t\t\t\t\t\tthis.allUserList = result.data; // å­˜å…¥åŸå§‹åˆ—è¡¨\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·åˆ—è¡¨:', this.allUserList);\n\t\t\t\t\t\t\t// å¦‚æœæœ‰å¾…å®šä½çš„uidï¼ˆæ¥æºäºæ°”æ³¡è·³è½¬ï¼‰ï¼Œåœ¨è¿™é‡Œå®šä½ç”¨æˆ·\n\t\t\t\t\t\t\tif (this._pendingUid) {\n\t\t\t\t\t\t\t\tconst idx = this.allUserList.findIndex(u => u._id === this._pendingUid);\n\t\t\t\t\t\t\t\tif (idx !== -1) {\n\t\t\t\t\t\t\t\t\tthis.currentUser = this.allUserList[idx];\n\t\t\t\t\t\t\t\t\tconsole.log('ğŸ¯ é€šè¿‡uidå®šä½åˆ°ç”¨æˆ·:', this.currentUser);\n\t\t\t\t\t\t\t\t\t// æ‰¾åˆ°è¯¥ç”¨æˆ·åœ¨è¿‡æ»¤ååˆ—è¡¨ä¸­çš„ç´¢å¼•\n\t\t\t\t\t\t\t\t\tconst filteredIdx = this.filteredUserList.findIndex(u => u._id === this._pendingUid);\n\t\t\t\t\t\t\t\t\tif (filteredIdx !== -1) {\n\t\t\t\t\t\t\t\t\t\tthis.userIndex = filteredIdx;\n\t\t\t\t\t\t\t\t\t\tconsole.log('ğŸ¯ åœ¨è¿‡æ»¤åˆ—è¡¨ä¸­ç”¨æˆ·ç´¢å¼•å·²è®¾ç½®ä¸º:', this.userIndex);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconsole.warn('âš ï¸ ç”¨æˆ·åœ¨è¿‡æ»¤åˆ—è¡¨ä¸­æœªæ‰¾åˆ°ï¼Œå¯èƒ½è¢«æœç´¢å…³é”®è¯è¿‡æ»¤');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._pendingUid = '';\n\t\t\t\t\t\t\t\t\tthis._pendingUsername = '';\n\t\t\t\t\t\t\t\t\tthis.fetchDaySchedule();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// å…œåº•ï¼šå°è¯•ç”¨ç”¨æˆ·ååŒ¹é…\n\t\t\t\t\t\t\t\tif (this._pendingUsername) {\n\t\t\t\t\t\t\t\t\tconst byName = this.allUserList.findIndex(u => u.username === this._pendingUsername || u.teacherName === this._pendingUsername || u.nickname === this._pendingUsername);\n\t\t\t\t\t\t\t\t\tif (byName !== -1) {\n\t\t\t\t\t\t\t\t\t\tthis.currentUser = this.allUserList[byName];\n\t\t\t\t\t\t\t\t\t\tconsole.log('ğŸ¯ é€šè¿‡ç”¨æˆ·åå®šä½åˆ°ç”¨æˆ·:', this.currentUser);\n\t\t\t\t\t\t\t\t\t\t// æ‰¾åˆ°è¯¥ç”¨æˆ·åœ¨è¿‡æ»¤ååˆ—è¡¨ä¸­çš„ç´¢å¼•\n\t\t\t\t\t\t\t\t\t\tconst filteredIdx = this.filteredUserList.findIndex(u => u._id === this.allUserList[byName]._id);\n\t\t\t\t\t\t\t\t\t\tif (filteredIdx !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tthis.userIndex = filteredIdx;\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('ğŸ¯ åœ¨è¿‡æ»¤åˆ—è¡¨ä¸­ç”¨æˆ·ç´¢å¼•å·²è®¾ç½®ä¸º:', this.userIndex);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn('âš ï¸ ç”¨æˆ·åœ¨è¿‡æ»¤åˆ—è¡¨ä¸­æœªæ‰¾åˆ°ï¼Œå¯èƒ½è¢«æœç´¢å…³é”®è¯è¿‡æ»¤');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis._pendingUid = '';\n\t\t\t\t\t\t\t\t\t\tthis._pendingUsername = '';\n\t\t\t\t\t\t\t\t\t\tthis.fetchDaySchedule();\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// å¦‚æœæ²¡æœ‰å¾…å®šä½çš„uidï¼Œä½¿ç”¨é»˜è®¤é€»è¾‘\n\t\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\t\tthis.updateCurrentUserAndFetchSchedule();\n\t\t\t\t\t\t\t\t// å¼ºåˆ¶è§¦å‘å“åº”å¼æ›´æ–°\n\t\t\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('âŒ è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥:', result.message || 'æœªçŸ¥é”™è¯¯');\n\t\t\t\t\t\t\tthis.allUserList = [];\n\t\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('âŒ è·å–ç”¨æˆ·åˆ—è¡¨è¯·æ±‚å¤±è´¥:', err);\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\tuni.showToast({ title: 'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥: ' + (err.message || 'ç½‘ç»œé”™è¯¯'), icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tfetchDaySchedule() {\n\t\t\t\tif (!this.currentUser) {\n\t\t\t\t\tconsole.log('âŒ å½“å‰ç”¨æˆ·ä¸ºç©ºï¼Œæ— æ³•è·å–è¯¾è¡¨');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.isLoading = true;\n\n\t\t\t\tconst date = this.formatDate(this.currentDate, 'yyyy-MM-dd');\n\t\t\t\t\n\t\t\t\t// æ·»åŠ è°ƒè¯•æ—¥å¿—\n\t\t\t\tconsole.log('ğŸ” å¼€å§‹è·å–è¯¾è¡¨æ•°æ®:');\n\t\t\t\tconsole.log('å½“å‰ç”¨æˆ·:', this.currentUser);\n\t\t\t\tconsole.log('æŸ¥è¯¢æ—¥æœŸ:', date);\n\t\t\t\tconsole.log('ç”¨æˆ·ID:', this.currentUser._id);\n\t\t\t\tconsole.log('ç”¨æˆ·å:', this.currentUser.username);\n\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'schedule-center',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'get-schedules',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tusername: this.currentUser.username,\n\t\t\t\t\t\t\tuid: this.currentUser._id,\n\t\t\t\t\t\t\tdate: date\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('ğŸ“¡ äº‘å‡½æ•°è¿”å›ç»“æœ:', res);\n\t\t\t\t\t\tconst result = res.result;\n\t\t\t\t\t\tif (result.code === 200) {\n\t\t\t\t\t\t\tconsole.log('âœ… æŸ¥è¯¢æˆåŠŸï¼Œè¿”å›æ•°æ®:', result.data);\n\t\t\t\t\t\t\tif (result.data) {\n\t\t\t\t\t\t\t\t// å®‰å…¨æ ¡éªŒï¼šå¦‚æœæ¥å£è¿”å›çš„ uid/username ä¸å½“å‰ç”¨æˆ·ä¸ä¸€è‡´ï¼Œæç¤ºå¹¶ä¸è¦†ç›–æœ¬é¡µæ•°æ®\n\t\t\t\t\t\t\t\tif ((result.data.uid && this.currentUser && result.data.uid !== this.currentUser._id) ||\n\t\t\t\t\t\t\t\t\t(result.data.username && this.currentUser && result.data.username !== this.currentUser.username)) {\n\t\t\t\t\t\t\t\t\tconsole.warn('âš ï¸ è¿”å›æ•°æ®çš„ç”¨æˆ·ä¸å½“å‰é€‰æ‹©ä¸ä¸€è‡´ï¼Œå·²å¿½ç•¥', {\n\t\t\t\t\t\t\t\t\t\tcurrentUser: this.currentUser,\n\t\t\t\t\t\t\t\t\t\tresultUser: { uid: result.data.uid, username: result.data.username }\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tuni.showToast({ title: 'ç³»ç»Ÿè¿”å›äº†å…¶ä»–æ•™å¸ˆçš„æ•°æ®ï¼Œå·²å¿½ç•¥', icon: 'none' });\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// ä½¿ç”¨ $set ç¡®ä¿å“åº”æ€§\n\t\t\t\t\t\t\t\tthis.$set(this, 'daySchedule', {\n\t\t\t\t\t\t\t\t\tcourses: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5 || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6 || '',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\ttypes: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_type || 'æ— ',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_type || 'æ— ',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_type || 'æ— ',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_type || 'æ— ',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_type || 'æ— ',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_type || 'æ— ',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tlocations: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_location || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_location || '',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tclasses: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_class || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_class || '',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tremarks: [\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_1_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_2_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_3_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_4_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_5_remark || '',\n\t\t\t\t\t\t\t\t\t\tresult.data.course_slot_6_remark || '',\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tconsole.log('âœ… è¯¾è¡¨æ•°æ®å·²æ›´æ–°:', this.daySchedule);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('âš ï¸ æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œè®¾ç½®é»˜è®¤ç©ºæ•°æ®');\n\t\t\t\t\t\t\t\tthis.$set(this, 'daySchedule', {\n\t\t\t\t\t\t\t\t\tcourses: ['', '', '', '', '', ''],\n\t\t\t\t\t\t\t\t\ttypes: ['æ— ', 'æ— ', 'æ— ', 'æ— ', 'æ— ', 'æ— '],\n\t\t\t\t\t\t\t\t\tlocations: ['', '', '', '', '', ''],\n\t\t\t\t\t\t\t\t\tclasses: ['', '', '', '', '', ''],\n\t\t\t\t\t\t\t\t\tremarks: ['', '', '', '', '', '']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('âŒ æŸ¥è¯¢å¤±è´¥:', result.message);\n\t\t\t\t\t\t\tuni.showToast({ title: 'æŸ¥è¯¢å¤±è´¥: ' + (result.message || 'æœªçŸ¥é”™è¯¯'), icon: 'none' });\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('âŒ è¯·æ±‚å¤±è´¥:', err);\n\t\t\t\t\t\tuni.showToast({ title: 'æŸ¥è¯¢è¯·æ±‚å¤±è´¥: ' + (err.message || 'ç½‘ç»œé”™è¯¯'), icon: 'none' });\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\tconsole.log('ğŸ è¯¾è¡¨è·å–å®Œæˆ');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tonTypeChange(slotIndex, event) {\n\t\t\t\tconst typeIndex = event.detail.value;\n\t\t\t\tthis.$set(this.daySchedule.types, slotIndex, this.courseTypes[typeIndex]);\n\t\t\t},\n\t\t\tgetTypeIndex(slotIndex) {\n\t\t\t\treturn this.courseTypes.indexOf(this.daySchedule.types[slotIndex]);\n\t\t\t},\n\t\t\tgetTypeDisplay(slotIndex) {\n\t\t\t\treturn this.daySchedule.types[slotIndex] || 'æ— ';\n\t\t\t},\n\t\t\tsaveSchedule() {\n\t\t\t\t// ä¼˜å…ˆç”¨ currentUserï¼Œæ²¡æœ‰å°±ç”¨æœ¬åœ°ç¼“å­˜\n\t\t\t\tlet userInfo = this.currentUser;\n\t\t\t\tif (!userInfo || !userInfo._id) {\n\t\t\t\t\tuserInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t}\n\t\t\t\tif (!userInfo._id) {\n\t\t\t\t\tuni.showToast({ title: 'ç”¨æˆ·ä¿¡æ¯ç¼ºå¤±ï¼Œè¯·é‡æ–°ç™»å½•', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// ç¡®å®šè¦ä¿å­˜çš„æ—¥æœŸ\n\t\t\t\tconst datesToSave = this.isMultiDateMode ? this.selectedDates : [this.currentDate];\n\t\t\t\t\n\t\t\t\tif (this.isMultiDateMode && this.selectedDates.length === 0) {\n\t\t\t\t\tuni.showToast({ title: 'è¯·é€‰æ‹©è¦æ’è¯¾çš„æ—¥æœŸ', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('ğŸ’¾ å¼€å§‹ä¿å­˜æ’è¯¾æ•°æ®ï¼Œæ—¥æœŸæ•°é‡:', datesToSave.length);\n\t\t\t\t\n\t\t\t\t// æ˜¾ç¤ºä¿å­˜è¿›åº¦\n\t\t\t\tuni.showLoading({ title: `æ­£åœ¨ä¿å­˜${datesToSave.length}ä¸ªæ—¥æœŸçš„æ’è¯¾...` });\n\t\t\t\t\n\t\t\t\t// æ‰¹é‡ä¿å­˜\n\t\t\t\tconst savePromises = datesToSave.map(date => {\n\t\t\t\t\tconst dateStr = this.formatDate(date, 'yyyy-MM-dd');\n\t\t\t\t\tconsole.log('ğŸ“… ä¿å­˜æ—¥æœŸ:', dateStr);\n\t\t\t\t\t// æ„å»ºè¯¾ç¨‹æ•°æ®ï¼Œæ¯èŠ‚è¯¾ç‹¬ç«‹ä¿å­˜\n\t\t\t\t\tconst scheduleData = {\n\t\t\t\t\t\tusername: userInfo.username,\n\t\t\t\t\t\tuid: userInfo._id, // ä¿è¯uidä¸€å®šæœ‰å€¼\n\t\t\t\t\t\tdate: dateStr\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// éªŒè¯å¿…è¦å‚æ•°\n\t\t\t\t\tif (!userInfo.username || !userInfo._id || !dateStr) {\n\t\t\t\t\t\tconsole.error('âŒ ç¼ºå°‘å¿…è¦å‚æ•°:', {\n\t\t\t\t\t\t\tusername: userInfo.username,\n\t\t\t\t\t\t\tuid: userInfo._id,\n\t\t\t\t\t\t\tdate: dateStr\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthrow new Error('ç¼ºå°‘å¿…è¦å‚æ•°');\n\t\t\t\t\t}\n\n\t\t\t\t\t// ä¸º6èŠ‚è¯¾è®¾ç½®æ•°æ®ï¼Œæ¯èŠ‚è¯¾ç‹¬ç«‹\n\t\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t\tconst courseSlot = i + 1; // ç¬¬1-6èŠ‚è¯¾\n\t\t\t\t\t\t\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}`] = this.daySchedule.courses[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_type`] = this.daySchedule.types[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_location`] = this.daySchedule.locations[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_class`] = this.daySchedule.classes[i] || '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_remark`] = this.daySchedule.remarks[i] || ''; // ä¿å­˜å¤‡æ³¨\n\t\t\t\t\t}\n\n\t\t\t\t\t// ä¸ºç¬¬7-8èŠ‚è¯¾è®¾ç½®ç©ºæ•°æ®ï¼ˆä¿æŒå…¼å®¹ï¼‰\n\t\t\t\t\tfor (let i = 6; i < 8; i++) {\n\t\t\t\t\t\tconst courseSlot = i + 1;\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}`] = '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_type`] = 'æ— ';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_location`] = '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_class`] = '';\n\t\t\t\t\t\tscheduleData[`course_slot_${courseSlot}_remark`] = ''; // ç©ºå¤‡æ³¨\n\t\t\t\t\t}\n\n\t\t\t\t\tconst adminInfo = uni.getStorageSync('userInfo') || {};\n\t\t\t\t\tconst adminName = adminInfo.realName || adminInfo.username || '';\n\t\t\t\t\tconst remark = this.remark || '';\n\n\t\t\t\t\t// å–ç¬¬1èŠ‚è¯¾çš„è¯¾ç¨‹åç§°ã€ç­çº§ã€æ•™å®¤ã€ç±»å‹ä½œä¸ºæ¶ˆæ¯ä¸»å†…å®¹ï¼ˆå¦‚æœ‰å¤šèŠ‚è¯¾å¯è‡ªè¡Œæ‰©å±•ï¼‰\n\t\t\t\t\tconst courseName = this.daySchedule.courses[0] || '';\n\t\t\t\t\tconst className = this.daySchedule.classes[0] || '';\n\t\t\t\t\tconst classroom = this.daySchedule.locations[0] || '';\n\t\t\t\t\tconst courseType = this.daySchedule.types[0] || '';\n\t\t\t\t\tconst scheduleTime = `${dateStr} 08:00-10:00`; // å¦‚æœ‰æ—¶é—´é€‰æ‹©å™¨å¯åŠ¨æ€ç”Ÿæˆ\n\n\t\t\t\t\tconsole.log('æ’è¯¾å‚æ•°', {\n\t\t\t\t\t\t...scheduleData,\n\t\t\t\t\t\tadminName,\n\t\t\t\t\t\tremark,\n\t\t\t\t\t\tcourseName,\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\tclassroom,\n\t\t\t\t\t\tcourseType,\n\t\t\t\t\t\tscheduleTime\n\t\t\t\t\t});\n\n\t\t\t\t\treturn uniCloud.callFunction({\n\t\t\t\t\t\tname: 'schedule-center',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'set-schedule',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t...scheduleData,\n\t\t\t\t\t\t\t\tadminId: userInfo._id, // å‘èµ·äººid\n\t\t\t\t\t\t\t\tadminName,\n\t\t\t\t\t\t\t\tremark,\n\t\t\t\t\t\t\t\tcourseName,\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\tclassroom,\n\t\t\t\t\t\t\t\tcourseType,\n\t\t\t\t\t\t\t\tscheduleTime\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(result => {\n\t\t\t\t\t\tconsole.log('ğŸ“¡ äº‘å‡½æ•°è¿”å›ç»“æœ:', result);\n\t\t\t\t\t\tif (result.result && result.result.code !== 200) {\n\t\t\t\t\t\t\tconsole.error('âŒ äº‘å‡½æ•°è¿”å›é”™è¯¯:', {\n\t\t\t\t\t\t\t\tcode: result.result.code,\n\t\t\t\t\t\t\t\tmessage: result.result.message,\n\t\t\t\t\t\t\t\terror: result.result.error\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}).catch(error => {\n\t\t\t\t\t\tconsole.error('âŒ äº‘å‡½æ•°è°ƒç”¨å¤±è´¥:', error);\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresult: {\n\t\t\t\t\t\t\t\tcode: 500,\n\t\t\t\t\t\t\t\tmessage: 'äº‘å‡½æ•°è°ƒç”¨å¤±è´¥: ' + error.message\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tPromise.all(savePromises).then(results => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.log('ğŸ“¡ æ‰¹é‡ä¿å­˜ç»“æœ:', results);\n\t\t\t\t\t\n\t\t\t\t\t// è¯¦ç»†åˆ†ææ¯ä¸ªç»“æœ\n\t\t\t\t\tresults.forEach((result, index) => {\n\t\t\t\t\t\tconsole.log(`ğŸ“Š ç¬¬${index + 1}ä¸ªæ—¥æœŸçš„ä¿å­˜ç»“æœ:`, {\n\t\t\t\t\t\t\tsuccess: result.success,\n\t\t\t\t\t\t\terrCode: result.errCode,\n\t\t\t\t\t\t\tresult: result.result\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (result.result && result.result.code !== 200) {\n\t\t\t\t\t\t\tconsole.error(`âŒ ç¬¬${index + 1}ä¸ªæ—¥æœŸä¿å­˜å¤±è´¥:`, {\n\t\t\t\t\t\t\t\tcode: result.result.code,\n\t\t\t\t\t\t\t\tmessage: result.result.message,\n\t\t\t\t\t\t\t\terror: result.result.error\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tconst successCount = results.filter(res => res.result && res.result.code === 200).length;\n\t\t\t\t\tconst totalCount = results.length;\n\t\t\t\t\t\n\t\t\t\t\tif (successCount === totalCount) {\n\t\t\t\t\t\tuni.showToast({ \n\t\t\t\t\t\t\ttitle: `æˆåŠŸä¿å­˜${successCount}ä¸ªæ—¥æœŸçš„æ’è¯¾`, \n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst failedCount = totalCount - successCount;\n\t\t\t\t\t\tuni.showToast({ \n\t\t\t\t\t\t\ttitle: `ä¿å­˜å®Œæˆï¼š${successCount}/${totalCount}ä¸ªæ—¥æœŸæˆåŠŸï¼Œ${failedCount}ä¸ªå¤±è´¥`, \n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.error('âŒ æ‰¹é‡ä¿å­˜å¤±è´¥:', err);\n\t\t\t\t\tuni.showToast({ title: 'ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•', icon: 'none' });\n\t\t\t\t});\n\t\t\t},\n\t\t\tchangeDay(direction) {\n\t\t\t\tthis.currentDate.setDate(this.currentDate.getDate() + direction);\n\t\t\t\tthis.currentDate = new Date(this.currentDate);\n\t\t\t\tthis.fetchDaySchedule();\n\t\t\t},\n\t\t\tonUserChange(e) {\n\t\t\t\tthis.userIndex = e.detail.value;\n\t\t\t\tthis.updateCurrentUserAndFetchSchedule();\n\t\t\t},\n\t\t\t// åˆ‡æ¢å¤šé€‰æ—¥æœŸæ¨¡å¼\n\t\t\ttoggleMultiDateMode() {\n\t\t\t\tthis.isMultiDateMode = !this.isMultiDateMode;\n\t\t\t\tif (this.isMultiDateMode && this.selectedDates.length === 0) {\n\t\t\t\t\t// è¿›å…¥å¤šé€‰æ¨¡å¼æ—¶ï¼Œé»˜è®¤é€‰æ‹©å½“å‰æ—¥æœŸ\n\t\t\t\t\tthis.selectedDates = [new Date(this.currentDate)];\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–ä¸€å‘¨çš„æ—¥æœŸ\n\t\t\tgetWeekDates() {\n\t\t\t\tconst dates = [];\n\t\t\t\tconst today = new Date(this.currentDate);\n\t\t\t\tconst startOfWeek = new Date(today);\n\t\t\t\tstartOfWeek.setDate(today.getDate() - today.getDay()); // ä»å‘¨æ—¥å¼€å§‹\n\t\t\t\t\n\t\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\t\tconst date = new Date(startOfWeek);\n\t\t\t\t\tdate.setDate(startOfWeek.getDate() + i);\n\t\t\t\t\tdates.push(date);\n\t\t\t\t}\n\t\t\t\treturn dates;\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æ‰€æœ‰å¯ç”¨çš„æ—¥æœŸï¼ˆ4ä¸ªæœˆï¼‰\n\t\t\tgetAllAvailableDates() {\n\t\t\t\tconst dates = [];\n\t\t\t\tconst today = new Date();\n\t\t\t\tconst startDate = new Date(today);\n\t\t\t\tstartDate.setDate(today.getDate() - today.getDay()); // ä»å½“å‰å‘¨çš„å‘¨æ—¥å¼€å§‹\n\t\t\t\t\n\t\t\t\t// ç”Ÿæˆ4ä¸ªæœˆçš„æ—¥æœŸï¼ˆå½“å‰å‘¨ + å4ä¸ªæœˆï¼‰\n\t\t\t\tconst totalWeeks = 4 * 4 + 2; // 4ä¸ªæœˆçº¦ç­‰äº18å‘¨ï¼ŒåŠ ä¸Šå½“å‰å‘¨\n\t\t\t\tfor (let week = 0; week < totalWeeks; week++) {\n\t\t\t\t\tfor (let day = 0; day < 7; day++) {\n\t\t\t\t\t\tconst date = new Date(startDate);\n\t\t\t\t\t\tdate.setDate(startDate.getDate() + week * 7 + day);\n\t\t\t\t\t\tdates.push(date);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn dates;\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–å½“å‰å‘¨èŒƒå›´\n\t\t\tgetCurrentWeekRange() {\n\t\t\t\tconst today = new Date();\n\t\t\t\tconst startOfWeek = new Date(today);\n\t\t\t\tstartOfWeek.setDate(today.getDate() - today.getDay());\n\t\t\t\tconst endOfWeek = new Date(startOfWeek);\n\t\t\t\tendOfWeek.setDate(startOfWeek.getDate() + 6);\n\t\t\t\t\n\t\t\t\t// å¦‚æœè·¨æœˆï¼Œæ˜¾ç¤ºæœˆä»½ä¿¡æ¯\n\t\t\t\tif (startOfWeek.getMonth() !== endOfWeek.getMonth()) {\n\t\t\t\t\treturn `${this.formatDate(startOfWeek, 'MMæœˆddæ—¥')} ~ ${this.formatDate(endOfWeek, 'MMæœˆddæ—¥')}`;\n\t\t\t\t} else {\n\t\t\t\t\treturn `${this.formatDate(startOfWeek, 'MM-dd')} ~ ${this.formatDate(endOfWeek, 'MM-dd')}`;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// æ£€æŸ¥æ—¥æœŸæ˜¯å¦è¢«é€‰ä¸­\n\t\t\tisDateSelected(date) {\n\t\t\t\t// ç¡®ä¿ä¼ å…¥çš„dateæ˜¯Dateå¯¹è±¡\n\t\t\t\tconst targetDate = date instanceof Date ? date : new Date(date);\n\t\t\t\treturn this.selectedDates.some(selectedDate => {\n\t\t\t\t\t// ç¡®ä¿selectedDateä¹Ÿæ˜¯Dateå¯¹è±¡\n\t\t\t\t\tconst compareDate = selectedDate instanceof Date ? selectedDate : new Date(selectedDate);\n\t\t\t\t\treturn this.formatDate(compareDate, 'yyyy-MM-dd') === this.formatDate(targetDate, 'yyyy-MM-dd');\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ‡æ¢æ—¥æœŸé€‰æ‹©çŠ¶æ€\n\t\t\ttoggleDateSelection(date) {\n\t\t\t\t// ç¡®ä¿ä¼ å…¥çš„dateæ˜¯Dateå¯¹è±¡\n\t\t\t\tconst targetDate = date instanceof Date ? date : new Date(date);\n\t\t\t\tconst dateStr = this.formatDate(targetDate, 'yyyy-MM-dd');\n\t\t\t\t\n\t\t\t\tconst index = this.selectedDates.findIndex(selectedDate => {\n\t\t\t\t\t// ç¡®ä¿selectedDateä¹Ÿæ˜¯Dateå¯¹è±¡\n\t\t\t\t\tconst compareDate = selectedDate instanceof Date ? selectedDate : new Date(selectedDate);\n\t\t\t\t\treturn this.formatDate(compareDate, 'yyyy-MM-dd') === dateStr;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.selectedDates.splice(index, 1);\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedDates.push(new Date(targetDate));\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// é€‰æ‹©æ‰€æœ‰å·¥ä½œæ—¥\n\t\t\tselectAllWeekdays() {\n\t\t\t\tthis.selectedDates = [];\n\t\t\t\tconst weekDates = this.getWeekDates();\n\t\t\t\tweekDates.forEach(date => {\n\t\t\t\t\tconst day = date.getDay();\n\t\t\t\t\tif (day >= 1 && day <= 5) { // å‘¨ä¸€åˆ°å‘¨äº”\n\t\t\t\t\t\tthis.selectedDates.push(new Date(date));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// æ¸…ç©ºé€‰æ‹©çš„æ—¥æœŸ\n\t\t\tclearSelectedDates() {\n\t\t\t\tthis.selectedDates = [];\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ‡æ¢å‘¨\n\t\t\tchangeWeek(direction) {\n\t\t\t\tthis.weekOffset += direction;\n\t\t\t\t// é™åˆ¶å‘¨åç§»é‡åœ¨åˆç†èŒƒå›´å†…\n\t\t\t\tthis.weekOffset = Math.max(0, Math.min(this.weekOffset, 18)); // æœ€å¤š18å‘¨ï¼ˆ4ä¸ªæœˆï¼‰\n\t\t\t\t// è‡ªåŠ¨æ»šåŠ¨åˆ°å½“å‰å‘¨çš„ä½ç½®\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.scrollToCurrentWeek();\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// æ»šåŠ¨åˆ°å½“å‰å‘¨\n\t\t\tscrollToCurrentWeek() {\n\t\t\t\t// è®¡ç®—å½“å‰å‘¨åœ¨æ»šåŠ¨å®¹å™¨ä¸­çš„ä½ç½®\n\t\t\t\tconst itemWidth = 80; // æ¯ä¸ªæ—¥æœŸé¡¹çš„å®½åº¦ï¼ˆrpxè½¬æ¢ä¸ºpxï¼‰\n\t\t\t\tthis.scrollLeft = this.weekOffset * 7 * itemWidth;\n\t\t\t},\n\t\t\t\n\t\t\t// å¤„ç†æ—¥æœŸæ»šåŠ¨äº‹ä»¶\n\t\t\tonDateScroll(e) {\n\t\t\t\t// å¯ä»¥æ ¹æ®æ»šåŠ¨ä½ç½®æ›´æ–°å½“å‰å‘¨\n\t\t\t\tconst scrollLeft = e.detail.scrollLeft;\n\t\t\t\tconst itemWidth = 80;\n\t\t\t\tconst weekIndex = Math.round(scrollLeft / (7 * itemWidth));\n\t\t\t\tthis.weekOffset = Math.max(0, Math.min(weekIndex, 18)); // é™åˆ¶åœ¨0-18å‘¨èŒƒå›´å†…\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æ˜ŸæœŸåç§°\n\t\t\tgetWeekdayName(date) {\n\t\t\t\tconst dayNames = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];\n\t\t\t\treturn dayNames[date.getDay()];\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ¤æ–­æ˜¯å¦æ˜¯æœˆä»½å¼€å§‹\n\t\t\tisMonthStart(date) {\n\t\t\t\treturn date.getDate() === 1;\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ¤æ–­æ˜¯å¦ä¸å‰ä¸€å¤©æ˜¯ä¸åŒæœˆä»½\n\t\t\tisDifferentMonth(date, index) {\n\t\t\t\tif (index === 0) return false;\n\t\t\t\tconst prevDate = this.getAllAvailableDates()[index - 1];\n\t\t\t\treturn date.getMonth() !== prevDate.getMonth();\n\t\t\t},\n\t\t\t\n\t\t\t// æ˜¾ç¤ºå‘¨é€‰æ‹©å™¨\n\t\t\tshowWeekPicker() {\n\t\t\t\tthis.showWeekPickerModal = true;\n\t\t\t},\n\t\t\t\n\t\t\t// éšè—å‘¨é€‰æ‹©å™¨\n\t\t\thideWeekPicker() {\n\t\t\t\tthis.showWeekPickerModal = false;\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–å‘¨é€‰é¡¹åˆ—è¡¨\n\t\t\tgetWeekOptions() {\n\t\t\t\tconst options = [];\n\t\t\t\tconst today = new Date();\n\t\t\t\tconst startDate = new Date(today);\n\t\t\t\tstartDate.setDate(today.getDate() - today.getDay()); // ä»å½“å‰å‘¨çš„å‘¨æ—¥å¼€å§‹\n\t\t\t\t\n\t\t\t\tfor (let week = 0; week < 18; week++) {\n\t\t\t\t\tconst weekStart = new Date(startDate);\n\t\t\t\t\tweekStart.setDate(startDate.getDate() + week * 7);\n\t\t\t\t\tconst weekEnd = new Date(weekStart);\n\t\t\t\t\tweekEnd.setDate(weekStart.getDate() + 6);\n\t\t\t\t\t\n\t\t\t\t\tlet label = '';\n\t\t\t\t\tif (week === 0) {\n\t\t\t\t\t\tlabel = `æœ¬å‘¨ (${this.formatDate(weekStart, 'MM-dd')} ~ ${this.formatDate(weekEnd, 'MM-dd')})`;\n\t\t\t\t\t} else if (week === 1) {\n\t\t\t\t\t\tlabel = `ä¸‹å‘¨ (${this.formatDate(weekStart, 'MM-dd')} ~ ${this.formatDate(weekEnd, 'MM-dd')})`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabel = `ç¬¬${week + 1}å‘¨ (${this.formatDate(weekStart, 'MM-dd')} ~ ${this.formatDate(weekEnd, 'MM-dd')})`;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\toptions.push({\n\t\t\t\t\t\tweekOffset: week,\n\t\t\t\t\t\tlabel: label\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn options;\n\t\t\t},\n\t\t\t\n\t\t\t// é€‰æ‹©å‘¨\n\t\t\tselectWeek(weekOffset) {\n\t\t\t\tthis.weekOffset = weekOffset;\n\t\t\t\tthis.hideWeekPicker();\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.scrollToCurrentWeek();\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// æ–°å¢ä¸€ä¸ªç»Ÿä¸€æ›´æ–°å½“å‰ç”¨æˆ·å¹¶è·å–è¯¾è¡¨çš„æ–¹æ³•\n\t\t\tupdateCurrentUserAndFetchSchedule() {\n\t\t\t\tconsole.log('ğŸ”„ æ›´æ–°å½“å‰ç”¨æˆ·å¹¶è·å–è¯¾è¡¨...');\n\t\t\t\tconsole.log('å½“å‰æœç´¢å…³é”®è¯:', this.searchKeyword);\n\t\t\t\tconsole.log('åŸå§‹ç”¨æˆ·åˆ—è¡¨é•¿åº¦:', this.allUserList.length);\n\t\t\t\tconsole.log('è¿‡æ»¤åç”¨æˆ·åˆ—è¡¨é•¿åº¦:', this.filteredUserList.length);\n\t\t\t\tconsole.log('å½“å‰ç”¨æˆ·ç´¢å¼•:', this.userIndex);\n\t\t\t\t\n\t\t\t\tif (this.filteredUserList.length > 0) {\n\t\t\t\t\t// ç¡®ä¿ userIndex åœ¨æœ‰æ•ˆèŒƒå›´å†…\n\t\t\t\t\tif (this.userIndex >= this.filteredUserList.length) {\n\t\t\t\t\t\tthis.userIndex = 0;\n\t\t\t\t\t\tconsole.log('âš ï¸ ç”¨æˆ·ç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œé‡ç½®ä¸º0');\n\t\t\t\t\t}\n\t\t\t\t\tthis.currentUser = this.filteredUserList[this.userIndex];\n\t\t\t\t\tconsole.log('âœ… å½“å‰ç”¨æˆ·å·²æ›´æ–°:', this.currentUser);\n\t\t\t\t\tconsole.log('ç”¨æˆ·ç´¢å¼•:', this.userIndex);\n\t\t\t\t\tconsole.log('âœ… å½“å‰ç”¨æˆ· displayName:', this.currentUser.displayName);\n\t\t\t\t\tthis.fetchDaySchedule();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn('âš ï¸ è¿‡æ»¤åç”¨æˆ·åˆ—è¡¨ä¸ºç©ºï¼Œè®¾ç½®é»˜è®¤çŠ¶æ€');\n\t\t\t\t\tthis.currentUser = null;\n\t\t\t\t\tthis.$set(this, 'daySchedule', {\n\t\t\t\t\t\tcourses: ['', '', '', '', '', ''],\n\t\t\t\t\t\ttypes: ['æ— ', 'æ— ', 'æ— ', 'æ— ', 'æ— ', 'æ— '],\n\t\t\t\t\t\tlocations: ['', '', '', '', '', ''],\n\t\t\t\t\t\tclasses: ['', '', '', '', '', ''],\n\t\t\t\t\t\tremarks: ['', '', '', '', '', '']\n\t\t\t\t\t});\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tformatDate(date, fmt) {\n\t\t\t\t// ç¡®ä¿dateæ˜¯Dateå¯¹è±¡\n\t\t\t\tif (!(date instanceof Date)) {\n\t\t\t\t\tdate = new Date(date);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// æ£€æŸ¥dateæ˜¯å¦æœ‰æ•ˆ\n\t\t\t\tif (isNaN(date.getTime())) {\n\t\t\t\t\tconsole.error('Invalid date:', date);\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst o = {\n\t\t\t\t\t'M+': date.getMonth() + 1,\n\t\t\t\t\t'd+': date.getDate(),\n\t\t\t\t};\n\t\t\t\tif (/(y+)/.test(fmt)) {\n\t\t\t\t\tfmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n\t\t\t\t}\n\t\t\t\tfor (let k in o) {\n\t\t\t\t\tif (new RegExp('(' + k + ')').test(fmt)) {\n\t\t\t\t\t\tfmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn fmt;\n\t\t\t},\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack();\n\t\t\t},\n\t\t\treturnToToday() {\n\t\t\t\tthis.currentDate = new Date();\n\t\t\t\tthis.fetchDaySchedule();\n\t\t\t},\n\t\t\tgetTimeLabel(index) {\n\t\t\t\tconst times = [\n\t\t\t\t\t'8:00-10:00',  // ç¬¬1èŠ‚è¯¾\n\t\t\t\t\t'10:10-12:10', // ç¬¬2èŠ‚è¯¾\n\t\t\t\t\t'14:00-16:00', // ç¬¬3èŠ‚è¯¾\n\t\t\t\t\t'16:10-18:10', // ç¬¬4èŠ‚è¯¾\n\t\t\t\t\t'18:00-20:00', // ç¬¬5èŠ‚è¯¾\n\t\t\t\t\t'20:00-22:00', // ç¬¬6èŠ‚è¯¾\n\t\t\t\t];\n\t\t\t\treturn times[index];\n\t\t\t},\n\t\t\tgetCourseColor(type, className) {\n\t\t\t\treturn getCourseColor(type, className);\n\t\t\t},\n\t\t\tonCourseChange(event, slotIndex, field) {\n\t\t\t\tconst value = event.detail.value;\n\t\t\t\tconsole.log('è¯¾ç¨‹ä¿¡æ¯å˜åŒ–:', { slotIndex, field, value });\n\t\t\t\t\n\t\t\t\tswitch (field) {\n\t\t\t\t\tcase 'course':\n\t\t\t\t\t\tthis.$set(this.daySchedule.courses, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'location':\n\t\t\t\t\t\tthis.$set(this.daySchedule.locations, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'class':\n\t\t\t\t\t\tthis.$set(this.daySchedule.classes, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'remark':\n\t\t\t\t\t\tthis.$set(this.daySchedule.remarks, slotIndex, value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tonInputFocus(event) {\n\t\t\t\tconsole.log('è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹:', event);\n\t\t\t},\n\t\t\tonInputChange(event) {\n\t\t\t\tconsole.log('è¾“å…¥æ¡†å†…å®¹å˜åŒ–:', event);\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\t.page-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t\tbackground: #f0f2f5;\n\t\tpadding-bottom: 120rpx; /* ä¸ºå›ºå®šæŒ‰é’®ç•™å‡ºç©ºé—´ */\n\t\tpadding-top: 60rpx; /* ä¸ºé¡¶éƒ¨å†…å®¹ç•™å‡ºç©ºé—´ï¼Œé¿å…å¤ªé ä¸Š */\n\t}\n\n\t.schedule-redesign-page {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100vh;\n\t\tbackground: #f0f2f5;\n\t\tpadding-top: calc(env(safe-area-inset-top) + 150rpx);\n\t}\n\n\t.form-item {\n\t\t/* ç§»é™¤èƒŒæ™¯å’Œè¾¹æ¡†ï¼Œä½¿å…¶èå…¥é¡µé¢ */\n\t\tbackground: transparent;\n\t\tborder-bottom: none;\n\t\tpadding: 10rpx 40rpx; /* å‡å°ä¸Šä¸‹è¾¹è· */\n\t\tflex-shrink: 0;\n\t}\n\n\t.search-input {\n\t\twidth: 100%;\n\t\theight: 70rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 35rpx;\n\t\tpadding: 0 30rpx;\n\t\tbox-sizing: border-box;\n\t\tmargin-top: 25rpx;\n\t\tfont-size: 28rpx;\n\t\tbox-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.picker {\n\t\t/* å…¨æ–°èƒ¶å›ŠæŒ‰é’®æ ·å¼ */\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\theight: 80rpx;\n\t\t/* ä½¿ç”¨ä¸»é¢˜è‰²ä½œä¸ºèƒŒæ™¯ï¼Œä½¿å…¶æ›´é†’ç›® */\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tborder-radius: 50rpx; /* å¤§åœ†è§’ */\n\t\t/* è°ƒæ•´é˜´å½±ä»¥åŒ¹é…æ–°çš„èƒŒæ™¯è‰² */\n\t\tbox-shadow: 0 8rpx 25rpx rgba(102, 126, 234, 0.3); \n\t\tfont-size: 30rpx;\n\t\t/* æ–‡å­—é¢œè‰²æ”¹ä¸ºç™½è‰² */\n\t\tcolor: #ffffff;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t}\n\n\t.picker-arrow {\n\t\tfont-size: 24rpx;\n\t\t/* ç®­å¤´é¢œè‰²ä¹Ÿæ”¹ä¸ºç™½è‰² */\n\t\tcolor: #ffffff;\n\t\tmargin-left: 15rpx;\n\t\ttransform: scaleY(0.8);\n\t\topacity: 0.8; /* ç¨å¾®é™ä½é€æ˜åº¦ï¼Œä¸æ–‡å­—åŒºåˆ† */\n\t}\n\n\t.schedule-scroll-view {\n\t\tflex: 1;\n\t\tmin-height: 0; /* å…³é”®ï¼šç¡®ä¿ flex ç”Ÿæ•ˆï¼Œè®© scroll-view å æ®å‰©ä½™ç©ºé—´ */\n\t\toverflow-y: auto;\n\t\tpadding: 20rpx;\n\t}\n\n\t.loading-container,\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column; /* å…è®¸æ—¥æœŸæ˜¾ç¤ºåœ¨æ–‡å­—ä¸‹æ–¹ */\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tcolor: #999;\n\t\tfont-size: 32rpx;\n\t\tpadding: 150rpx 0; /* å¢åŠ ä¸Šä¸‹å†…è¾¹è·ï¼Œæ›¿ä»£ height:100% */\n\t}\n\n\t.week-schedule-container {\n\t\tpadding: 25rpx;\n\t}\n\n\t.day-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 25rpx;\n\t\tbox-shadow: 0 8rpx 30rpx rgba(0, 0, 0, 0.07); /* æ›´æŸ”å’Œçš„é˜´å½± */\n\t\toverflow: hidden;\n\t}\n\n\t.schedule-grid {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.schedule-row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t\tmin-height: 120rpx;\n\t\tborder-bottom: 1rpx solid #f0f2f5;\n\t\tpadding: 20rpx;\n\t}\n\t.schedule-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.lesson-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 15rpx;\n\t}\n\n\t.session-label {\n\t\tbackground-color: #eaf8ff;\n\t\tcolor: #007aff;\n\t\tpadding: 8rpx 15rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tmargin-right: 15rpx;\n\t}\n\n\t.time-label {\n\t\tbackground-color: #fff9e6;\n\t\tcolor: #d68900;\n\t\tpadding: 8rpx 15rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.course-cell {\n\t\tbackground-color: #ffffff;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 10rpx;\n\t}\n\n\t.course-row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 15rpx;\n\t}\n\n\t.course-input {\n\t\tflex: 1;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 15rpx;\n\t\tfont-size: 28rpx;\n\t\tbackground-color: #ffffff;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.location-input {\n\t\twidth: 120rpx;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 10rpx;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #ffffff;\n\t\tflex-shrink: 0;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.class-input {\n\t\twidth: 120rpx;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 10rpx;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #ffffff;\n\t\tflex-shrink: 0;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.remark-input {\n\t\twidth: 100%;\n\t\theight: 60rpx;\n\t\tborder: 1rpx solid #e0e0e0;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 0 15rpx;\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #ffffff;\n\t\tposition: relative;\n\t\tz-index: 10;\n\t\tcursor: text;\n\t\tpointer-events: auto;\n\t\tuser-select: text;\n\t\t-webkit-user-select: text;\n\t}\n\n\t.type-picker {\n\t\twidth: 120rpx;\n\t\tflex-shrink: 0;\n\t}\n\n\t.type-display {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: 60rpx;\n\t\tbackground-color: #f0f8ff;\n\t\tborder: 1rpx solid #b3d9ff;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #0066cc;\n\t\tpadding: 0 10rpx;\n\t}\n\n\t.type-arrow {\n\t\tfont-size: 20rpx;\n\t\tmargin-left: 5rpx;\n\t\tcolor: #0066cc;\n\t}\n\n\t.break-row {\n\t\tbackground-color: #f7f8fa;\n\t\tcolor: #a9adb3;\n\t\ttext-align: center;\n\t\tpadding: 20rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tborder-bottom: 1rpx solid #f0f2f5;\n\t}\n\n\t.bottom-actions {\n\t\tpadding: 30rpx 30rpx 40rpx; /* æ¢å¤å†…è¾¹è· */\n\t\tbackground-color: transparent; /* æ”¹ä¸ºé€æ˜èƒŒæ™¯ */\n\t\tbox-shadow: none; /* ç§»é™¤é˜´å½± */\n\t\tmargin-top: 20rpx; /* å’Œä¸Šæ–¹å†…å®¹å¢åŠ é—´è· */\n\t}\n\n\t/* åº•éƒ¨æ“ä½œåŒºæ ·å¼ - å›ºå®šå®šä½ */\n\t.bottom-actions-fixed {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground: #f8f9fa;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 -4rpx 12rpx rgba(0, 0, 0, 0.1);\n\t\tz-index: 1000;\n\t\tborder-top: 1rpx solid #e0e0e0;\n\t\t/* ç¡®ä¿æŒ‰é’®åŒºåŸŸæœ‰è¶³å¤Ÿçš„é«˜åº¦ */\n\t\tmin-height: 80rpx;\n\t}\n\n\t.day-navigator {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\talign-items: center;\n\t}\n\n\t.nav-btn {\n\t\ttext-align: center;\n\t\tpadding: 22rpx 40rpx;\n\t\tmargin: 0 10rpx;\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #fff;\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%); /* ä¿®æ”¹ä¸ºè¯¾ç¨‹è¡¨ä¸»è‰²è°ƒ */\n\t\tbox-shadow: 0 6rpx 20rpx rgba(102, 126, 234, 0.35); /* ä¿®æ”¹é˜´å½±é¢œè‰² */\n\t\ttransition: all 0.2s ease;\n\t}\n\n\t.nav-btn.save-btn {\n\t\tbackground: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); /* ä¿å­˜æŒ‰é’®ä½¿ç”¨ç»¿è‰² */\n\t\tbox-shadow: 0 6rpx 20rpx rgba(67, 233, 123, 0.35);\n\t}\n\n\t.nav-btn.return-btn {\n\t\tbackground: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); /* ä¿®æ”¹ä¸ºä¸ä¿å­˜æŒ‰é’®ç›¸åŒçš„ç»¿è‰² */\n\t\tbox-shadow: 0 6rpx 20rpx rgba(67, 233, 123, 0.35); /* ä¿®æ”¹é˜´å½±é¢œè‰² */\n\t}\n\n\t.nav-btn:active {\n\t\ttransform: translateY(2rpx) scale(0.98);\n\t\tbox-shadow: 0 3rpx 10rpx rgba(0, 0, 0, 0.2);\n\t}\n\n\t.empty-state {\n\t\ttext-align: center;\n\t}\n\n\t.date-in-empty {\n\t\tfont-size: 28rpx;\n\t\tcolor: #b0b0b0;\n\t\tmargin-top: 10rpx;\n\t}\n\n\t/* æ—¥æœŸé€‰æ‹©å™¨æ ·å¼ */\n\t.date-selector {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 5rpx 10rpx 10rpx; /* å‡å°è¾¹è· */\n\t\tflex-shrink: 0;\n\t}\n\t\n\t.nav-arrow {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #fff;\n\t\tbox-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.08);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tfont-size: 40rpx;\n\t\tcolor: #667eea;\n\t\tfont-weight: bold;\n\t\ttransition: all 0.2s ease;\n\t}\n\t\n\t.nav-arrow:active {\n\t\ttransform: scale(0.95);\n\t\tbackground-color: #f0f2f5;\n\t}\n\t\n\t.date-display-wrapper {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tpadding: 0 20rpx;\n\t}\n\t\n\t.date-text {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\twhite-space: nowrap; /* æ ¸å¿ƒï¼šç¡®ä¿ä¸æ¢è¡Œ */\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t.course-block {\n\t\tborder-radius: 8rpx;\n\t\tpadding: 8rpx 0;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tbox-shadow: 0 2px 8px rgba(0,0,0,0.08);\n\t\tmargin-bottom: 8rpx;\n\t\ttext-align: center;\n\t}\n\n\t.course-remark-show {\n\t\tcolor: #888;\n\t\tfont-size: 22rpx;\n\t\tmargin: 2rpx 0 8rpx 0;\n\t\tline-height: 1.4;\n\t}\n\t\n\t/* å¤šé€‰æ—¥æœŸç›¸å…³æ ·å¼ */\n\t.multi-date-hint {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\tmargin-top: 5rpx;\n\t}\n\t\n\t.multi-date-selector {\n\t\tbackground: #fff;\n\t\tmargin: 20rpx;\n\t\tborder-radius: 20rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n\t\tpadding: 30rpx;\n\t}\n\t\n\t.multi-date-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.multi-date-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.multi-date-actions {\n\t\tdisplay: flex;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.action-btn {\n\t\tpadding: 10rpx 20rpx;\n\t\tbackground: #1976D2;\n\t\tcolor: #fff;\n\t\tborder-radius: 10rpx;\n\t\tfont-size: 24rpx;\n\t}\n\t\n\t/* å‘¨å¯¼èˆªæ ·å¼ */\n\t.week-navigation {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\tpadding: 0 10rpx;\n\t}\n\t\n\t.week-nav-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 15rpx 20rpx;\n\t\tbackground: #f0f8ff;\n\t\tborder-radius: 20rpx;\n\t\tborder: 1rpx solid #b3d9ff;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.week-nav-btn:active {\n\t\tbackground: #e6f3ff;\n\t\ttransform: scale(0.95);\n\t}\n\t\n\t.week-nav-icon {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1976D2;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.week-nav-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1976D2;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.week-display {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tpadding: 15rpx 20rpx;\n\t\tbackground: #f8f9fa;\n\t\tborder-radius: 20rpx;\n\t\tborder: 2rpx solid #e9ecef;\n\t\ttransition: all 0.3s ease;\n\t\tcursor: pointer;\n\t}\n\t\n\t.week-display:active {\n\t\tbackground: #e9ecef;\n\t\ttransform: scale(0.98);\n\t}\n\t\n\t.week-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 500;\n\t\tdisplay: block;\n\t}\n\t\n\t.week-picker-hint {\n\t\tfont-size: 20rpx;\n\t\tcolor: #666;\n\t\tmargin-top: 5rpx;\n\t\topacity: 0.8;\n\t}\n\t\n\t/* å¯æ»‘åŠ¨çš„æ—¥æœŸå®¹å™¨ */\n\t.date-scroll-container {\n\t\twidth: 100%;\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.date-scroll-content {\n\t\tdisplay: flex;\n\t\tgap: 15rpx;\n\t\tpadding: 0 10rpx;\n\t}\n\t\n\t.date-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(7, 1fr);\n\t\tgap: 15rpx;\n\t}\n\t\n\t.date-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20rpx 10rpx;\n\t\tborder-radius: 15rpx;\n\t\tbackground: #f5f5f5;\n\t\tborder: 2rpx solid transparent;\n\t\ttransition: all 0.3s ease;\n\t\tmin-width: 80rpx;\n\t\tflex-shrink: 0;\n\t}\n\t\n\t.date-item.selected {\n\t\tbackground: #1976D2;\n\t\tcolor: #fff;\n\t\tborder-color: #1976D2;\n\t}\n\t\n\t.date-item.month-start {\n\t\tborder-left: 3rpx solid #ff6b6b;\n\t\tbackground: #fff5f5;\n\t}\n\t\n\t.date-item.different-month {\n\t\tborder-left: 2rpx solid #e0e0e0;\n\t}\n\t\n\t.month-label {\n\t\tfont-size: 20rpx;\n\t\tcolor: #ff6b6b;\n\t\tfont-weight: bold;\n\t\tmargin-top: 5rpx;\n\t}\n\t\n\t.date-item .date-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 5rpx;\n\t}\n\t\n\t.date-item .weekday-text {\n\t\tfont-size: 22rpx;\n\t\topacity: 0.8;\n\t}\n\t\n\t/* å‘¨é€‰æ‹©å™¨å¼¹çª—æ ·å¼ */\n\t.week-picker-modal {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tz-index: 1000;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 40rpx;\n\t}\n\t\n\t.week-picker-content {\n\t\tbackground: #fff;\n\t\tborder-radius: 20rpx;\n\t\twidth: 100%;\n\t\tmax-height: 70vh;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t\n\t.week-picker-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.week-picker-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.close-btn {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: #f0f0f0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.close-icon {\n\t\tfont-size: 32rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t.week-picker-list {\n\t\tflex: 1;\n\t\toverflow-y: auto;\n\t\tpadding: 20rpx 0;\n\t}\n\t\n\t.week-option {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 25rpx 30rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.week-option:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.week-option.selected {\n\t\tbackground: #f0f8ff;\n\t\tborder-left: 4rpx solid #1976D2;\n\t}\n\t\n\t.week-option:active {\n\t\tbackground: #f5f5f5;\n\t}\n\t\n\t.week-option-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tflex: 1;\n\t}\n\t\n\t.check-icon {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1976D2;\n\t\tfont-weight: bold;\n\t}\n</style> ","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./schedule-manage.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1759362723300\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}