{"version":3,"sources":["uni-app:///main.js","webpack:///D:/代码/小程序/新欣火1/pages/exam-scores/exam-scores.vue?ec7d","webpack:///D:/代码/小程序/新欣火1/pages/exam-scores/exam-scores.vue?7b86","webpack:///D:/代码/小程序/新欣火1/pages/exam-scores/exam-scores.vue?3db2","webpack:///D:/代码/小程序/新欣火1/pages/exam-scores/exam-scores.vue?143b","uni-app:///pages/exam-scores/exam-scores.vue","webpack:///D:/代码/小程序/新欣火1/pages/exam-scores/exam-scores.vue?0d50","webpack:///D:/代码/小程序/新欣火1/pages/exam-scores/exam-scores.vue?fa0a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","activeTab","formData","studentId","studentName","grade","examType","examDate","examYear","examMonth","remark","inputUser","examTypeOptions","examTypeIndex","gradeOptions","gradeIndex","subjectOptions","showSubjectModalFlag","selectedSubjects","subjectScores","yearOptions","yearIndex","monthOptions","monthIndex","allStudentHours","showStudentModalFlag","availableStudents","studentSearchKeyword","filteredStudents","tempStudent","subjects","examTypes","filterSubjectIndex","analysisSubjectIndex","analysisExamTypeIndex","showStudentList","onLoad","onShow","methods","formatYearMonth","initExamDate","switchTab","loadStudentHours","console","uniCloud","name","action","teacherId","result","uni","title","icon","loadStudents","onGradeChange","showSubjectModal","closeSubjectModal","isSubjectSelected","toggleSubject","removeSubject","confirmSubjects","showStudentModal","closeStudentModal","onStudentSearchInput","isStudentSelected","selectStudent","confirmStudent","onYearChange","onMonthChange","updateExamDateByPickers","onExamTypeChange","adjustExamDate","day","submitScore","userInfo","subject","score","isNaN","promises","scoreData","id","Promise","results","resetForm","loadScores","filterScores","filtered","onFilterSubjectChange","onFilterGradeChange","onAnalysisSubjectChange","onAnalysisExamTypeChange","getProgressAnalysis","goBack","getScoreColor","editScore","courseType","maxScore","className","item","deleteScore","content","showCancel","cancelText","confirmText","success","res","confirmDeleteScore","handleScoreConflict","newScore","conflictInfo","fail","handleDuplicateEntry","duplicateInfo","updateInputUser","updateTime","resolveConflict","resolvedBy","existingScoreId","newScoreData","resolution"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACqC;;;AAG/F;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAyqB,CAAgB,uqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC6R7rB;EACAC;IAAA;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;IAAA,2DACA,sDACA,2DACA,yDACA,8DACA,6DACA,uDACA,2DACA;EAEA;EAEAC;IACA;IACA;IACA;IACA;EACA;EAEAC;IACA;IACA;IACA;EACA;EAEAC;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;QACA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAC;gBAAA;gBAAA,OACAC;kBACAC;kBACA7C;oBAAA8C;oBAAAC;kBAAA;gBACA;cAAA;gBAHAC;gBAIAL;gBACA;kBACA;kBACA;oBAAA;kBAAA;kBACAA;gBACA;kBACAA;kBACAM;oBAAAC;oBAAAC;kBAAA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAR;gBACAM;kBAAAC;kBAAAC;gBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAR;kBACAC;kBACA7C;oBACA8C;kBACA;gBACA;cAAA;gBALAE;gBAOA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAL;gBACAM;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAE;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA,6CACA;QAAA;MAAA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;MAEA;MACA;QACA;QACA;QACA,+CACA3D;MACA;IACA;IACA4D;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;QACA;QACA;UAAA;QAAA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;UACAC;QACA;UACAA;QACA;UACAA;QACA;UACAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACAC;gBACA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBACAxB;kBAAAC;kBAAAC;gBAAA;gBAAA;cAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBACAF;kBAAAC;kBAAAC;gBAAA;gBAAA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACAF;kBAAAC;kBAAAC;gBAAA;gBAAA;cAAA;gBAEA;gBAAA,uCACA;gBAAA;gBAAA;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAuB;gBACAC;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBACA3B;kBAAAC;kBAAAC;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;gBAAA,IAGA;kBAAA;kBAAA;gBAAA;gBACAF;kBAAAC;kBAAAC;gBAAA;gBAAA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACAF;kBAAAC;kBAAAC;gBAAA;gBAAA;cAAA;gBAEAR;gBAEAM;kBAAAC;gBAAA;gBAAA;gBAGA;gBACA2B;gBAAA,wCACA;gBAAA;kBAAA;oBAAAH;oBACAI,4CACA;sBACAJ;sBACAC;oBAAA;oBAGA;sBACA;sBACAE;wBACAhC;wBACA7C;0BAAA8C;0BAAAiC;0BAAA/E;wBAAA;sBACA;oBACA;sBACA;sBACA6E;wBACAhC;wBACA7C;0BAAA8C;0BAAA9C;wBAAA;sBACA;oBACA;kBACA;gBAAA;kBAAA;gBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAEAgF;cAAA;gBAAAC;gBACAjC;gBAEAL;gBAEAM;gBACA;kBACAA;oBAAAC;oBAAAC;kBAAA;kBACA;kBACA;gBACA;kBACA;kBACAR;kBACA;gBACA;kBACA;kBACAA;kBACA;gBACA;kBACAM;oBAAAC;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;gBACAN;gBACAM;kBAAAC;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA+B;MACA;MACA;MACA;MACA;MACA;QACA/E;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;;MACA;MACA;MACA;IACA;IAEA;IACAwE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAxC;gBAAA;gBAAA,OACAC;kBACAC;kBACA7C;oBACA8C;oBACA9C;kBACA;gBACA;cAAA;gBANAgD;gBAOAL;gBACA;kBACA;kBACAA;kBACA;kBACA;oBAAA;kBAAA;kBACA;oBAAA;kBAAA;kBACA;oBAAA;kBAAA;kBACA;gBACA;kBACAA;kBACAM;oBAAAC;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAR;gBACAM;kBAAAC;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAiC;MACA;MACA;QACA;QACAC;UAAA;QAAA;MACA;MACA;QACA;QACAA;UAAA;QAAA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACAzC;kBACAC;kBACAC;gBACA;gBAAA;cAAA;gBAIAuB;gBACApE;gBAAA;gBAAA;gBAAA,OAGAsC;kBACAC;kBACA7C;oBACA8C;oBACA9C;sBACA0E;sBACApE;oBACA;kBACA;gBACA;cAAA;gBATA0C;gBAWA;kBACA;gBACA;kBACAC;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAR;gBACAM;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAwC;MACA1C;IACA;IACA2C;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA1F;QACAC;QACAC;QACAyF;QACApB;QACAC;QACAoB;QACAzF;QACAC;QACAyF;QACAtF;QACAC;MACA;MACA;MACA;QAAA;MAAA;MACA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;MACA;QAAA,OACAsF,8BACAA,wCACAA;MAAA,EACA;MACA;QAAA;MAAA;IACA;IAEA;IACAC;MAAA;MACAjD;QACAC;QACAiD;QACAC;QACAC;QACAC;QACAC;UAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA,KACAC;sBAAA;sBAAA;oBAAA;oBAAA;oBAAA,OACA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CAEA;UAAA;YAAA;UAAA;UAAA;QAAA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAxD;kBAAAC;gBAAA;gBAAA;gBAAA;gBAAA,OAGAN;kBACAC;kBACA7C;oBACA8C;oBACAiC;kBACA;gBACA;cAAA;gBANA/B;gBAQAC;gBAEA;kBACAA;oBAAAC;oBAAAC;kBAAA;kBACA;gBACA;kBACAF;oBAAAC;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;gBACAN;gBACAM;kBAAAC;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAuD;MAAA;MACA/D;MACA;QAAAgE;QAAAC;MAEA3D;QACAC;QACAiD;QACAC;QACAC;QACAC;QACAC;UACA5D;UACA;YACA;UACA;YACA;UACA;QACA;QACAkE;UACAlE;QACA;MACA;IACA;IAEA;IACAmE;MAAA;MACA;QAAAH;QAAAI;MAEA9D;QACAC;QACAiD;QACAC;QACAC;QACAC;QACAC;UACA;YACA;UACA;YACAtD;cAAAC;cAAAC;YAAA;UACA;QACA;MACA;IACA;IAEA;IACA6D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA/D;kBAAAC;gBAAA;gBAAA;gBAAA;gBAAA,OAGAN;kBACAC;kBACA7C;oBACA8C;oBACAiC;oBACA/E;sBACAW;sBACAsG;oBACA;kBACA;gBACA;cAAA;gBAVAjE;gBAYAC;gBAEA;kBACAA;oBAAAC;oBAAAC;kBAAA;kBACA;kBACA;gBACA;kBACAF;oBAAAC;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;gBACAN;gBACAM;kBAAAC;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA+D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAzC;gBACA0C;gBAEAlE;kBAAAC;gBAAA;gBAAA;gBAAA;gBAAA,OAGAN;kBACAC;kBACA7C;oBACA8C;oBACA9C;sBACAoH;sBACAC;sBACAC;sBACAH;oBACA;kBACA;gBACA;cAAA;gBAXAnE;gBAaAC;gBAEA;kBACAA;oBAAAC;oBAAAC;kBAAA;kBACA;kBACA;gBACA;kBACAF;oBAAAC;oBAAAC;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;gBACAN;gBACAM;kBAAAC;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACj+BA;AAAA;AAAA;AAAA;AAA8+B,CAAgB,w8BAAG,EAAC,C;;;;;;;;;;;ACAlgC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/exam-scores/exam-scores.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/exam-scores/exam-scores.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./exam-scores.vue?vue&type=template&id=46a4f9b4&scoped=true&\"\nvar renderjs\nimport script from \"./exam-scores.vue?vue&type=script&lang=js&\"\nexport * from \"./exam-scores.vue?vue&type=script&lang=js&\"\nimport style0 from \"./exam-scores.vue?vue&type=style&index=0&id=46a4f9b4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46a4f9b4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/exam-scores/exam-scores.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam-scores.vue?vue&type=template&id=46a4f9b4&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.activeTab === \"input\" ? _vm.selectedSubjects.length : null\n  var g1 = _vm.activeTab === \"input\" ? _vm.selectedSubjects.length : null\n  var l0 = _vm.showStudentModalFlag\n    ? _vm.__map(_vm.filteredStudents, function (student, __i2__) {\n        var $orig = _vm.__get_orig(student)\n        var m0 = _vm.isStudentSelected(student)\n        var g2 = (student.name || \"学\").charAt(0)\n        var m1 = _vm.isStudentSelected(student)\n        var m2 = _vm.isStudentSelected(student)\n        return {\n          $orig: $orig,\n          m0: m0,\n          g2: g2,\n          m1: m1,\n          m2: m2,\n        }\n      })\n    : null\n  var g3 = _vm.showStudentModalFlag ? _vm.filteredStudents.length : null\n  var l1 = _vm.showSubjectModalFlag\n    ? _vm.__map(_vm.subjectOptions, function (subject, __i3__) {\n        var $orig = _vm.__get_orig(subject)\n        var m3 = _vm.isSubjectSelected(subject)\n        var m4 = _vm.isSubjectSelected(subject)\n        var m5 = _vm.isSubjectSelected(subject)\n        return {\n          $orig: $orig,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n        }\n      })\n    : null\n  var g4 = _vm.showSubjectModalFlag ? _vm.selectedSubjects.length : null\n  var l2 =\n    _vm.activeTab === \"list\"\n      ? _vm.__map(_vm.filteredScores, function (score, __i4__) {\n          var $orig = _vm.__get_orig(score)\n          var m6 = _vm.getScoreColor(score.score, score.maxScore)\n          var m7 = _vm.formatYearMonth(score.examDate)\n          return {\n            $orig: $orig,\n            m6: m6,\n            m7: m7,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l0: l0,\n        g3: g3,\n        l1: l1,\n        g4: g4,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam-scores.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam-scores.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<!-- 顶部导航 -->\n\t\t<view class=\"nav-bar\">\n\t\t\t<text class=\"back-btn\" @click=\"goBack\">返回</text>\n\t\t\t<view class=\"nav-title\">考试成绩管理</view>\n\t\t</view>\n\t\t\n\t\t<!-- 功能切换 -->\n\t\t<view class=\"tab-container\">\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\t:class=\"{ active: activeTab === 'input' }\"\n\t\t\t\t@click=\"switchTab('input')\"\n\t\t\t>\n\t\t\t\t成绩录入\n\t\t\t</view>\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\t:class=\"{ active: activeTab === 'list' }\"\n\t\t\t\t@click=\"switchTab('list')\"\n\t\t\t>\n\t\t\t\t成绩列表\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 成绩录入表单 -->\n\t\t<view v-if=\"activeTab === 'input'\" class=\"form-outer\">\n\t\t\t<view class=\"form-container\" :style=\"{minHeight: 'calc(100vh - 180px)'}\">\n\t\t\t\t<!-- 学生选择 -->\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"label\">学生</text>\n\t\t\t\t\t<view class=\"student-selector\" @click=\"showStudentModal\">\n\t\t\t\t\t\t<view class=\"student-display\">\n\t\t\t\t\t\t\t<text v-if=\"!formData.studentName\" class=\"placeholder\">请选择学生</text>\n\t\t\t\t\t\t\t<view v-else class=\"selected-student\">\n\t\t\t\t\t\t\t\t<text class=\"student-text\">{{ formData.studentName }}</text>\n\t\t\t\t\t\t\t\t<text class=\"student-id\">{{ formData.studentId }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"arrow\">></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 年级选择 -->\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"label\">年级</text>\n\t\t\t\t\t<picker :range=\"gradeOptions\" :value=\"gradeIndex\" @change=\"onGradeChange\" class=\"picker\">\n\t\t\t\t\t\t<view class=\"picker-text input-grade\">{{ gradeOptions[gradeIndex] || '请选择年级' }}</view>\n\t\t\t\t\t</picker>\n\t\t\t\t</view>\n\t\t\t\t\n                <!-- 考试日期和类型 -->\n                <view class=\"form-item\">\n                    <text class=\"label\">考试日期和类型</text>\n                    <view class=\"date-type-row\">\n                        <!-- 年份选择 -->\n                        <picker class=\"picker year-picker\" :range=\"yearOptions\" :value=\"yearIndex\" @change=\"onYearChange\">\n                            <view class=\"picker-text input-year\">{{ yearOptions[yearIndex] || '年份' }}</view>\n                        </picker>\n                        <!-- 月份选择 -->\n                        <picker class=\"picker month-picker\" :range=\"monthOptions\" :value=\"monthIndex\" @change=\"onMonthChange\">\n                            <view class=\"picker-text input-month\">{{ monthOptions[monthIndex] || '月份' }}</view>\n                        </picker>\n                        <!-- 考试类型选择 -->\n                        <picker class=\"picker exam-type-picker\" :range=\"examTypeOptions\" :value=\"examTypeIndex\" @change=\"onExamTypeChange\">\n                            <view class=\"picker-text input-examtype\">{{ examTypeOptions[examTypeIndex] || '考试类型' }}</view>\n                        </picker>\n                    </view>\n                </view>\n\t\t\t\t\n\t\t\t\t<!-- 科目选择 -->\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"label\">选择科目</text>\n\t\t\t\t\t<view class=\"subject-selector\" @click=\"showSubjectModal\">\n\t\t\t\t\t\t<view class=\"subject-display\">\n\t\t\t\t\t\t\t<text v-if=\"selectedSubjects.length === 0\" class=\"placeholder\">请选择科目（可多选）</text>\n\t\t\t\t\t\t\t<view v-else class=\"selected-subjects\">\n\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\tv-for=\"subject in selectedSubjects\" \n\t\t\t\t\t\t\t\t\t:key=\"subject\"\n\t\t\t\t\t\t\t\t\tclass=\"subject-tag\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<text class=\"subject-text\">{{ subject }}</text>\n\t\t\t\t\t\t\t\t\t<text class=\"remove-subject\" @click.stop=\"removeSubject(subject)\">×</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"arrow\">></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 多科目成绩录入 -->\n\t\t\t\t<view v-if=\"selectedSubjects.length > 0\" class=\"form-item\">\n\t\t\t\t\t<text class=\"label\">各科成绩</text>\n\t\t\t\t\t<view class=\"scores-container\">\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tv-for=\"subject in selectedSubjects\" \n\t\t\t\t\t\t\t:key=\"subject\"\n\t\t\t\t\t\t\tclass=\"score-input-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<text class=\"score-label\">{{ subject }}</text>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tv-model=\"subjectScores[subject]\" \n\t\t\t\t\t\t\t\tclass=\"input score-input\" \n\t\t\t\t\t\t\t\ttype=\"number\" \n\t\t\t\t\t\t\t\t:placeholder=\"`${subject}成绩`\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 备注 -->\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"label\">备注</text>\n\t\t\t\t\t<textarea v-model=\"formData.remark\" class=\"textarea small\" placeholder=\"备注信息\" />\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<button class=\"submit-btn card\" @click=\"submitScore\">提交成绩</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 学生选择弹窗 -->\n\t\t<view v-if=\"showStudentModalFlag\" class=\"student-modal\" @click=\"closeStudentModal\">\n\t\t\t<view class=\"student-modal-content\" @click.stop>\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">选择学生</text>\n\t\t\t\t\t<view class=\"close-btn\" @click=\"closeStudentModal\">\n\t\t\t\t\t\t<text class=\"close-icon\">×</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"modal-body\">\n\t\t\t\t\t<view class=\"search-container\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclass=\"search-input\" \n\t\t\t\t\t\t\tv-model=\"studentSearchKeyword\" \n\t\t\t\t\t\t\tplaceholder=\"搜索学生姓名或学号\" \n\t\t\t\t\t\t\t@input=\"onStudentSearchInput\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"student-selection-list\">\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tv-for=\"student in filteredStudents\" \n\t\t\t\t\t\t\t:key=\"student._id\"\n\t\t\t\t\t\t\tclass=\"student-selection-item\"\n\t\t\t\t\t\t\t:class=\"{selected: isStudentSelected(student)}\"\n\t\t\t\t\t\t\t@click=\"selectStudent(student)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<view class=\"student-avatar\">\n\t\t\t\t\t\t\t\t<text class=\"avatar-text\">{{ (student.name || '学').charAt(0) }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"student-info\">\n\t\t\t\t\t\t\t\t<text class=\"student-name\">{{ student.name }}</text>\n\t\t\t\t\t\t\t\t<text class=\"student-details\">{{ student.studentId }} · {{ student.grade }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"selection-indicator\" :class=\"{selected: isStudentSelected(student)}\">\n\t\t\t\t\t\t\t\t<text v-if=\"isStudentSelected(student)\" class=\"check-icon\">✓</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<view v-if=\"filteredStudents.length === 0\" class=\"no-result\">\n\t\t\t\t\t\t\t<text class=\"no-result-text\">暂无匹配的学生</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"modal-footer\">\n\t\t\t\t\t<button class=\"cancel-btn\" @click=\"closeStudentModal\">取消</button>\n\t\t\t\t\t<view class=\"confirm-btn-container\">\n\t\t\t\t\t\t<button class=\"confirm-btn\" @click=\"confirmStudent\">确定</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 科目选择弹窗 -->\n\t\t<view v-if=\"showSubjectModalFlag\" class=\"subject-modal\" @click=\"closeSubjectModal\">\n\t\t\t<view class=\"subject-modal-content\" @click.stop>\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">选择科目</text>\n\t\t\t\t\t<view class=\"close-btn\" @click=\"closeSubjectModal\">\n\t\t\t\t\t\t<text class=\"close-icon\">×</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"modal-body\">\n\t\t\t\t\t<view class=\"subject-selection-list\">\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tv-for=\"subject in subjectOptions\" \n\t\t\t\t\t\t\t:key=\"subject\"\n\t\t\t\t\t\t\tclass=\"subject-selection-item\"\n\t\t\t\t\t\t\t:class=\"{selected: isSubjectSelected(subject)}\"\n\t\t\t\t\t\t\t@click=\"toggleSubject(subject)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<text class=\"subject-name\">{{ subject }}</text>\n\t\t\t\t\t\t\t<view class=\"selection-indicator\" :class=\"{selected: isSubjectSelected(subject)}\">\n\t\t\t\t\t\t\t\t<text v-if=\"isSubjectSelected(subject)\" class=\"check-icon\">✓</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"modal-footer\">\n\t\t\t\t\t<button class=\"cancel-btn\" @click=\"closeSubjectModal\">取消</button>\n\t\t\t\t\t<view class=\"confirm-btn-container\">\n\t\t\t\t\t\t<button class=\"confirm-btn\" @click=\"confirmSubjects\">确定 ({{ selectedSubjects.length }})</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 成绩列表 -->\n\t\t<view v-if=\"activeTab === 'list'\" class=\"list-container\">\n\t\t\t<view class=\"filter-container\">\n\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t<picker \n\t\t\t\t\t\t:value=\"filterGradeIndex\" \n\t\t\t\t\t\t:range=\"gradeFilterList\" \n\t\t\t\t\t\t@change=\"onFilterGradeChange\"\n\t\t\t\t\t\tclass=\"filter-picker\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view class=\"filter-text\">\n\t\t\t\t\t\t\t{{ gradeFilterList[filterGradeIndex] || '全部年级' }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</picker>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t<picker \n\t\t\t\t\t\t:value=\"filterSubjectIndex\" \n\t\t\t\t\t\t:range=\"subjects\" \n\t\t\t\t\t\t@change=\"onFilterSubjectChange\"\n\t\t\t\t\t\tclass=\"filter-picker\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view class=\"filter-text\">\n\t\t\t\t\t\t\t{{ subjects[filterSubjectIndex] || '全部科目' }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</picker>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"score-list\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"score in filteredScores\" \n\t\t\t\t\t:key=\"score._id\"\n\t\t\t\t\tclass=\"score-item\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"score-content\" @click=\"editScore(score)\">\n\t\t\t\t\t\t<view class=\"score-header\">\n\t\t\t\t\t\t\t<text class=\"grade-label\">{{ score.grade }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"score-header\">\n\t\t\t\t\t\t\t<text class=\"student-name\">{{ score.studentName }}</text>\n\t\t\t\t\t\t\t<text :class=\"['score-value', getScoreColor(score.score, score.maxScore)]\">\n\t\t\t\t\t\t\t    成绩：{{ score.score }}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"score-info\">\n\t\t\t\t\t\t\t<text class=\"subject-label\">{{ score.subject }}</text>\n\t\t\t\t\t\t\t<text class=\"coursetype-label\">{{ score.courseType }}</text>\n\t\t\t\t\t\t\t<text class=\"examtype-label\">{{ score.examType }}</text>\n\t                        <text class=\"date-label\">考试时间：{{ formatYearMonth(score.examDate) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-if=\"score.remark\" class=\"score-remark\">\n\t\t\t\t\t\t\t<text class=\"remark-text\">{{ score.remark }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"score-actions\">\n\t\t\t\t\t\t<view class=\"action-btn edit-btn\" @click.stop=\"editScore(score)\">\n\t\t\t\t\t\t\t<text class=\"action-text\">修改</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"action-btn delete-btn\" @click.stop=\"deleteScore(score)\">\n\t\t\t\t\t\t\t<text class=\"action-text\">删除</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 删除进步分析tab和内容 -->\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tactiveTab: 'input',\n\t\t\tformData: {\n\t\t\t\tstudentId: '',\n\t\t\t\tstudentName: '',\n\t\t\t\tgrade: '',\n\t\t\t\texamType: '',\n\t\t\t\texamDate: '',\n\t\t\t\texamYear: '',\n\t\t\t\texamMonth: '',\n\t\t\t\tremark: '',\n\t\t\t\tinputUser: '' // 新增：录入人/修改人\n\t\t\t},\n\t\t\texamTypeOptions: ['期中', '期末', '月考', '中考'],\n\t\t\texamTypeIndex: -1,\n\t\t\tgradeOptions: ['一年级', '二年级', '三年级', '四年级', '五年级', '六年级', '七年级', '八年级', '九年级', '高一', '高二', '高三'],\n\t\t\tgradeIndex: -1,\n\t\t\tsubjectOptions: ['语文', '数学', '英语', '物理', '化学'],\n\t\t\tshowSubjectModalFlag: false,\n\t\t\tselectedSubjects: [],\n\t\t\tsubjectScores: {},\n          // 日期选择器数据\n          yearOptions: [],\n          yearIndex: 0,\n          monthOptions: ['01','02','03','04','05','06','07','08','09','10','11','12'],\n          monthIndex: 0,\n\t\t\tallStudentHours: [],\n\t\t\tshowStudentModalFlag: false,\n\t\t\tavailableStudents: [],\n\t\t\tstudentSearchKeyword: '',\n\t\t\tfilteredStudents: [],\n\t\t\ttempStudent: null,\n\t\t\tsubjects: [], // 新增：科目下拉选项\n\t\t\texamTypes: [], // 考试类型选项（用于进步分析）\n\t\t\tfilterSubjectIndex: -1,\n\t\t\tanalysisSubjectIndex: -1,\n\t\t\tanalysisExamTypeIndex: -1,\n\t\t\tshowStudentList: false,\n\t\t\tfilteredStudents: [],\n\t\t\tallScores: [],\n\t\t\tfilteredScores: [],\n\t\t\tprogressData: null,\n\t\t\tgradeFilterList: [], // 年级筛选下拉选项\n\t\t\tfilterGradeIndex: -1, // 年级筛选下标\n\t\t\tshowRemark: false,\n\t\t\teditScoreId: null,\n\t\t}\n\t},\n\t\n\tonLoad() {\n\t\tthis.initExamDate();\n\t\tthis.loadStudentHours();\n\t\tthis.loadStudents(); // 加载学生列表\n\t\tthis.loadScores(); // 加载成绩列表\n\t},\n\t\n\tonShow() {\n\t\t// 页面显示时重新加载数据\n\t\tthis.loadStudentHours();\n\t\tthis.loadScores();\n\t},\n\t\t\n\tmethods: {\n    // 展示用：从 YYYY-MM-DD 中提取 YYYY-MM\n    formatYearMonth(dateStr) {\n      if (!dateStr) return '';\n      // 兼容 Date 对象或字符串\n      if (dateStr instanceof Date) {\n        const y = dateStr.getFullYear();\n        const m = String(dateStr.getMonth() + 1).padStart(2, '0');\n        return `${y}-${m}`;\n      }\n      // 期望格式: 'YYYY-MM-DD' 或 'YYYY-MM'\n      const str = String(dateStr);\n      if (str.length >= 7) {\n        return str.slice(0, 7);\n      }\n      return str;\n    },\n\t\t// 初始化考试日期\n    initExamDate() {\n      const now = new Date();\n      const currentYear = now.getFullYear();\n      const currentMonthNum = now.getMonth() + 1;\n      const currentMonth = currentMonthNum.toString().padStart(2, '0');\n      const currentDay = now.getDate().toString().padStart(2, '0');\n\n      // 生成年份选项（当前年前后5年）\n      this.yearOptions = [];\n      for (let y = currentYear - 5; y <= currentYear + 5; y++) {\n        this.yearOptions.push(String(y));\n      }\n      this.yearIndex = this.yearOptions.indexOf(String(currentYear));\n\n      // 设置月份索引\n      this.monthIndex = currentMonthNum - 1;\n\n      // 设置表单数据为当前日期\n      this.formData.examYear = String(currentYear);\n      this.formData.examMonth = currentMonth;\n      this.formData.examDate = `${currentYear}-${currentMonth}-${currentDay}`;\n    },\n\t\t// 切换tab\n\t\tswitchTab(tab) {\n\t\t\tthis.activeTab = tab;\n\t\t\tif (tab === 'list') {\n\t\t\t\tthis.loadScores(); // 切换到成绩列表时重新加载\n\t\t\t}\n\t\t},\n\t\tasync loadStudentHours() {\n\t\t\ttry {\n\t\t\t\tconsole.log('开始调用student-hours云函数...');\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'student-hours',\n\t\t\t\t\tdata: { action: 'getMyStudents', teacherId: 'default' }\n\t\t\t\t});\n\t\t\t\tconsole.log('student-hours云函数返回结果:', result);\n\t\t\t\tif (result.result.code === 200 && Array.isArray(result.result.data)) {\n\t\t\t\t\tthis.allStudentHours = result.result.data;\n\t\t\t\t\tthis.gradeList = [...new Set(this.allStudentHours.map(item => item.grade).filter(Boolean))];\n\t\t\t\t\tconsole.log('年级列表:', this.gradeList);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('student-hours云函数返回错误:', result.result);\n\t\t\t\t\tuni.showToast({ title: '课时数据为空: ' + (result.result.message || '未知错误'), icon: 'none' });\n\t\t\t\t\tthis.gradeList = [];\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('加载学生课时失败:', e);\n\t\t\t\tuni.showToast({ title: '加载学生课时失败', icon: 'none' });\n\t\t\t\tthis.gradeList = [];\n\t\t\t}\n\t\t},\n\t\tasync loadStudents() {\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'archive-manager',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'getStudents'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (result.result.code === 0) {\n\t\t\t\t\tthis.availableStudents = result.result.data || [];\n\t\t\t\t\tthis.filteredStudents = this.availableStudents;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('加载学生列表失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加载学生列表失败',\n\t\t\t\t\ticon: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonGradeChange(e) {\n\t\t\tthis.gradeIndex = e.detail.value;\n\t\t\tconst grade = this.gradeOptions[this.gradeIndex];\n\t\t\tthis.formData.grade = grade;\n\t\t},\n\t\tshowSubjectModal() {\n\t\t\tthis.showSubjectModalFlag = true;\n\t\t},\n\t\tcloseSubjectModal() {\n\t\t\tthis.showSubjectModalFlag = false;\n\t\t},\n\t\tisSubjectSelected(subject) {\n\t\t\treturn this.selectedSubjects.includes(subject);\n\t\t},\n\t\ttoggleSubject(subject) {\n\t\t\tconst index = this.selectedSubjects.indexOf(subject);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.selectedSubjects.splice(index, 1);\n\t\t\t\tdelete this.subjectScores[subject];\n\t\t\t} else {\n\t\t\t\tthis.selectedSubjects.push(subject);\n\t\t\t\tthis.subjectScores[subject] = '';\n\t\t\t}\n\t\t},\n\t\tremoveSubject(subject) {\n\t\t\tconst index = this.selectedSubjects.indexOf(subject);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.selectedSubjects.splice(index, 1);\n\t\t\t\tdelete this.subjectScores[subject];\n\t\t\t}\n\t\t},\n\t\tconfirmSubjects() {\n\t\t\tthis.showSubjectModalFlag = false;\n\t\t},\n\t\tshowStudentModal() {\n\t\t\tthis.tempStudent = this.formData.studentId ? \n\t\t\t\tthis.availableStudents.find(s => s.studentId === this.formData.studentId) : null;\n\t\t\tthis.showStudentModalFlag = true;\n\t\t\tthis.filteredStudents = this.availableStudents;\n\t\t\tthis.studentSearchKeyword = '';\n\t\t},\n\t\tcloseStudentModal() {\n\t\t\tthis.showStudentModalFlag = false;\n\t\t},\n\t\tonStudentSearchInput() {\n\t\t\tif (!this.studentSearchKeyword) {\n\t\t\t\tthis.filteredStudents = this.availableStudents;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst keyword = this.studentSearchKeyword.toLowerCase();\n\t\t\tthis.filteredStudents = this.availableStudents.filter(student => {\n\t\t\t\tconst name = student.name || '';\n\t\t\t\tconst studentId = student.studentId || '';\n\t\t\t\treturn name.toLowerCase().includes(keyword) || \n\t\t\t\t\t   studentId.toLowerCase().includes(keyword);\n\t\t\t});\n\t\t},\n\t\tisStudentSelected(student) {\n\t\t\treturn this.tempStudent && this.tempStudent._id === student._id;\n\t\t},\n\t\tselectStudent(student) {\n\t\t\tthis.tempStudent = student;\n\t\t},\n\t\tconfirmStudent() {\n\t\t\tif (this.tempStudent) {\n\t\t\t\tthis.formData.studentId = this.tempStudent.studentId;\n\t\t\t\tthis.formData.studentName = this.tempStudent.name;\n\t\t\t\tthis.formData.grade = this.tempStudent.grade;\n\t\t\t\t// 自动设置年级选择\n\t\t\t\tthis.gradeIndex = this.gradeOptions.findIndex(g => g === this.tempStudent.grade);\n\t\t\t} else {\n\t\t\t\tthis.formData.studentId = '';\n\t\t\t\tthis.formData.studentName = '';\n\t\t\t\tthis.formData.grade = '';\n\t\t\t\tthis.gradeIndex = -1;\n\t\t\t}\n\t\t\tthis.showStudentModalFlag = false;\n\t\t},\n    onYearChange(e) {\n      this.yearIndex = e.detail.value;\n      const year = Number(this.yearOptions[this.yearIndex]);\n      const monthNum = this.monthIndex + 1;\n      this.formData.examYear = String(year);\n      this.updateExamDateByPickers();\n    },\n    onMonthChange(e) {\n      this.monthIndex = e.detail.value;\n      const year = Number(this.yearOptions[this.yearIndex]);\n      const monthNum = this.monthIndex + 1;\n      this.formData.examMonth = String(monthNum).padStart(2, '0');\n      this.updateExamDateByPickers();\n    },\n    updateExamDateByPickers() {\n      const year = this.yearOptions[this.yearIndex];\n      const month = String(this.monthIndex + 1).padStart(2, '0');\n      const day = '01'; // 默认使用1号\n      this.formData.examYear = year;\n      this.formData.examMonth = month;\n      this.formData.examDate = `${year}-${month}-${day}`;\n    },\n    onExamTypeChange(e) {\n\t\t\tthis.examTypeIndex = e.detail.value;\n\t\t\tthis.formData.examType = this.examTypeOptions[this.examTypeIndex];\n\t\t\t// 根据考试类型调整日期\n\t\t\tthis.adjustExamDate();\n\t\t},\n\t\t    adjustExamDate() {\n      if (this.formData.examType) {\n        // 根据考试类型调整日期\n        let day = '01'; // 默认1号\n        if (this.formData.examType === '期中') {\n          day = '15'; // 期中考试通常在月中\n        } else if (this.formData.examType === '期末') {\n          day = '25'; // 期末考试通常在月末\n        } else if (this.formData.examType === '月考') {\n          day = '20'; // 月考通常在月中下旬\n        } else if (this.formData.examType === '中考') {\n          day = '15'; // 中考通常在月中\n        }\n        // 使用当前年份和月份，只调整日期\n        const year = this.yearOptions[this.yearIndex];\n        const month = String(this.monthIndex + 1).padStart(2, '0');\n        // 若目标日期超过当月天数，则取该月最后一天\n        const daysInMonth = new Date(Number(year), this.monthIndex + 1, 0).getDate();\n        let dayNum = Number(day);\n        if (dayNum > daysInMonth) dayNum = daysInMonth;\n        const dayStr = String(dayNum).padStart(2, '0');\n        this.formData.examYear = year;\n        this.formData.examMonth = month;\n        this.formData.examDate = `${year}-${month}-${dayStr}`;\n      }\n    },\n\t\tasync submitScore() {\n\t\t\t// 校验\n\t\t\t// 获取当前登录用户信息，优先取姓名、昵称、teacherName\n\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {};\n\t\t\tthis.formData.inputUser = userInfo.name || userInfo.nickname || userInfo.teacherName || '未填写姓名';\n\t\t\t\n\t\t\tif (!this.formData.studentId) {\n\t\t\t\tuni.showToast({ title: '请选择学生', icon: 'none' }); return;\n\t\t\t}\n\t\t\tif (!this.formData.grade) {\n\t\t\t\tuni.showToast({ title: '请选择年级', icon: 'none' }); return;\n\t\t\t}\n\t\t\tif (this.selectedSubjects.length === 0) {\n\t\t\t\tuni.showToast({ title: '请选择至少一个科目', icon: 'none' }); return;\n\t\t\t}\n\t\t\t// 验证每个科目的成绩\n\t\t\tfor (let subject of this.selectedSubjects) {\n\t\t\t\tconst score = Number(this.subjectScores[subject]);\n\t\t\t\tif (isNaN(score) || score < 0) {\n\t\t\t\t\tuni.showToast({ title: `请输入${subject}的有效成绩`, icon: 'none' }); return;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.formData.examDate) {\n\t\t\t\tuni.showToast({ title: '考试日期不能为空', icon: 'none' }); return;\n\t\t\t}\n\t\t\tif (this.examTypeIndex < 0) {\n\t\t\t\tuni.showToast({ title: '请选择考试类型', icon: 'none' }); return;\n\t\t\t}\n\t\t\tconsole.log('提交成绩数据', this.formData, this.selectedSubjects, this.subjectScores);\n\t\t\t\n\t\t\tuni.showLoading({ title: '提交中...' });\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 批量提交多个科目的成绩\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (let subject of this.selectedSubjects) {\n\t\t\t\t\tconst scoreData = {\n\t\t\t\t\t\t...this.formData,\n\t\t\t\t\t\tsubject: subject,\n\t\t\t\t\t\tscore: Number(this.subjectScores[subject])\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tif (this.editScoreId) {\n\t\t\t\t\t\t// 编辑模式 - 这里需要根据实际情况调整\n\t\t\t\t\t\tpromises.push(uniCloud.callFunction({\n\t\t\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\t\t\tdata: { action: 'updateScore', id: this.editScoreId, data: scoreData }\n\t\t\t\t\t\t}));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 新增模式\n\t\t\t\t\t\tpromises.push(uniCloud.callFunction({\n\t\t\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\t\t\tdata: { action: 'addScore', data: scoreData }\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst results = await Promise.all(promises);\n\t\t\t\tlet result = results[0]; // 使用第一个结果作为主要结果\n\t\t\t\t\n\t\t\t\tconsole.log('提交成绩云函数返回:', result);\n\t\t\t\t\n\t\t\t\tuni.hideLoading();\n\t\t\t\tif (result.result.code === 200) {\n\t\t\t\t\tuni.showToast({ title: '成绩录入成功', icon: 'success' });\n\t\t\t\t\tthis.resetForm();\n\t\t\t\t\tthis.loadScores(); // 重新加载成绩列表\n\t\t\t\t} else if (result.result.code === 409 || result.result.isConflict) {\n\t\t\t\t\t// 处理冲突情况\n\t\t\t\t\tconsole.log('检测到冲突，调用冲突处理函数');\n\t\t\t\t\tthis.handleScoreConflict(result.result.data);\n\t\t\t\t} else if (result.result.code === 408 || (result.result.isDuplicate && result.result.code !== 200)) {\n\t\t\t\t\t// 处理重复录入情况（不同用户录入相同成绩）\n\t\t\t\t\tconsole.log('检测到重复录入，调用重复录入处理函数');\n\t\t\t\t\tthis.handleDuplicateEntry(result.result.data);\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({ title: result.result.message, icon: 'none' });\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('提交失败:', error);\n\t\t\t\tuni.showToast({ title: '提交失败', icon: 'none' });\n\t\t\t}\n\t\t},\n\t\tresetForm() {\n\t\t\tthis.gradeIndex = -1;\n\t\t\tthis.examTypeIndex = -1;\n\t\t\t// 重置日期为当前值\n\t\t\tthis.initExamDate();\n\t\t\tthis.formData = {\n\t\t\t\tstudentId: '',\n\t\t\t\tstudentName: '',\n\t\t\t\tgrade: '',\n\t\t\t\texamType: '',\n\t\t\t\texamDate: '',\n\t\t\t\texamYear: '',\n\t\t\t\texamMonth: '',\n\t\t\t\tremark: '',\n\t\t\t\tinputUser: '' // 重置录入人/修改人\n\t\t\t};\n\t\t\tthis.selectedSubjects = [];\n\t\t\tthis.subjectScores = {};\n\t\t\tthis.editScoreId = null;\n\t\t},\n\t\t\n\t\t// 加载成绩列表\n\t\tasync loadScores() {\n\t\t\ttry {\n\t\t\t\tconsole.log('开始调用exam-scores云函数...');\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'getStudentScores',\n\t\t\t\t\t\tdata: {} // 传递空的data对象\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconsole.log('exam-scores云函数返回结果:', result);\n\t\t\t\tif (result.result.code === 200) {\n\t\t\t\t\tthis.allScores = result.result.data;\n\t\t\t\t\tconsole.log('获取到的成绩数据:', this.allScores);\n\t\t\t\t\t// 动态提取科目、年级、考试类型\n\t\t\t\t\tthis.subjects = [...new Set(this.allScores.map(item => item.subject).filter(Boolean))];\n\t\t\t\t\tthis.gradeFilterList = [...new Set(this.allScores.map(item => item.grade).filter(Boolean))];\n\t\t\t\t\tthis.examTypes = [...new Set(this.allScores.map(item => item.examType).filter(Boolean))];\n\t\t\t\t\tthis.filterScores();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('云函数返回错误:', result.result);\n\t\t\t\t\tuni.showToast({ title: '加载成绩失败: ' + result.result.message, icon: 'none' });\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('加载成绩列表失败:', error);\n\t\t\t\tuni.showToast({ title: '加载成绩失败', icon: 'none' });\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 过滤成绩\n\t\tfilterScores() {\n\t\t\tlet filtered = this.allScores;\n\t\t\tif (this.filterGradeIndex >= 0) {\n\t\t\t\tconst grade = this.gradeFilterList[this.filterGradeIndex];\n\t\t\t\tfiltered = filtered.filter(score => score.grade === grade);\n\t\t\t}\n\t\t\tif (this.filterSubjectIndex >= 0) {\n\t\t\t\tconst subject = this.subjects[this.filterSubjectIndex];\n\t\t\t\tfiltered = filtered.filter(score => score.subject === subject);\n\t\t\t}\n\t\t\tthis.filteredScores = filtered;\n\t\t},\n\t\t\n\t\t// 过滤科目变化\n\t\tonFilterSubjectChange(e) {\n\t\t\tthis.filterSubjectIndex = e.detail.value;\n\t\t\tthis.filterScores();\n\t\t},\n\t\t\n\t\t// 过滤考试类型变化\n\t\t// 过滤年级变化\n\t\tonFilterGradeChange(e) {\n\t\t\tthis.filterGradeIndex = e.detail.value;\n\t\t\tthis.filterScores();\n\t\t},\n\t\t\n\t\t// 分析科目变化\n\t\tonAnalysisSubjectChange(e) {\n\t\t\tthis.analysisSubjectIndex = e.detail.value;\n\t\t},\n\t\t\n\t\t// 分析考试类型变化\n\t\tonAnalysisExamTypeChange(e) {\n\t\t\tthis.analysisExamTypeIndex = e.detail.value;\n\t\t},\n\t\t\n\t\t// 获取进步分析\n\t\tasync getProgressAnalysis() {\n\t\t\tif (this.analysisSubjectIndex < 0 || this.analysisExamTypeIndex < 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择科目和考试类型',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst subject = this.subjects[this.analysisSubjectIndex];\n\t\t\tconst examType = this.examTypes[this.analysisExamTypeIndex];\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'getClassProgressAnalysis',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tsubject,\n\t\t\t\t\t\t\texamType\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (result.result.code === 200) {\n\t\t\t\t\tthis.progressData = result.result.data;\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.result.message,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('获取进步分析失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '分析失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgoBack() {\n\t\t\tuni.navigateBack();\n\t\t},\n\t\tgetScoreColor(score, maxScore) {\n\t\t\t// 如果没有maxScore，使用默认的100分制\n\t\t\tconst total = maxScore || 100;\n\t\t\tconst percent = score / total;\n\t\t\tif (percent >= 0.85) return 'score-high';\n\t\t\tif (percent >= 0.6) return 'score-mid';\n\t\t\treturn 'score-low';\n\t\t},\n\t\t// 编辑成绩\n\t\teditScore(score) {\n\t\t\tthis.activeTab = 'input';\n\t\t\tthis.editScoreId = score._id;\n\t\t\tthis.formData = {\n\t\t\t\tstudentId: score.studentId || '',\n\t\t\t\tstudentName: score.studentName || '',\n\t\t\t\tgrade: score.grade || '',\n\t\t\t\tcourseType: score.courseType || '',\n\t\t\t\tsubject: score.subject || '',\n\t\t\t\tscore: score.score || '',\n\t\t\t\tmaxScore: score.maxScore || '',\n\t\t\t\texamType: score.examType || '',\n\t\t\t\texamDate: score.examDate || '',\n\t\t\t\tclassName: score.className || '',\n\t\t\t\tremark: score.remark || '',\n\t\t\t\tinputUser: score.inputUser || '' // 编辑时也设置录入人/修改人\n\t\t\t};\n\t\t\t// 自动选中年级\n\t\t\tthis.gradeIndex = this.gradeOptions.findIndex(g => g === score.grade);\n\t\t\t// 级联出课程类型列表\n\t\t\tconst filteredCourseTypes = this.allStudentHours.filter(item => item.grade === score.grade);\n\t\t\tthis.courseTypeList = [...new Set(filteredCourseTypes.map(item => item.courseType))];\n\t\t\tthis.courseTypeIndex = this.courseTypeList.findIndex(c => c === score.courseType);\n\t\t\t// 级联出科目列表\n\t\t\tconst filteredSubjects = this.allStudentHours.filter(item => item.grade === score.grade && item.courseType === score.courseType);\n\t\t\tthis.subjectList = [...new Set(filteredSubjects.map(item => item.subject))];\n\t\t\tthis.subjectIndex = this.subjectList.findIndex(s => s === score.subject);\n\t\t\t// 级联出学生列表\n\t\t\tthis.studentList = this.allStudentHours.filter(item =>\n\t\t\t\titem.grade === score.grade &&\n\t\t\t\titem.courseType === score.courseType &&\n\t\t\t\titem.subject === score.subject\n\t\t\t);\n\t\t\tthis.studentIndex = this.studentList.findIndex(s => s._id === score.studentId);\n\t\t},\n\t\t\n\t\t// 删除成绩\n\t\tdeleteScore(score) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认删除',\n\t\t\t\tcontent: `确定要删除 ${score.studentName} 的 ${score.subject} 成绩吗？\\n成绩：${score.score}/${score.maxScore}`,\n\t\t\t\tshowCancel: true,\n\t\t\t\tcancelText: '取消',\n\t\t\t\tconfirmText: '删除',\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tawait this.confirmDeleteScore(score);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 确认删除成绩\n\t\tasync confirmDeleteScore(score) {\n\t\t\tuni.showLoading({ title: '删除中...' });\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'deleteScore',\n\t\t\t\t\t\tid: score._id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tuni.hideLoading();\n\t\t\t\t\n\t\t\t\tif (result.result.code === 200) {\n\t\t\t\t\tuni.showToast({ title: '删除成功', icon: 'success' });\n\t\t\t\t\tthis.loadScores(); // 重新加载成绩列表\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({ title: result.result.message || '删除失败', icon: 'none' });\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('删除成绩失败:', error);\n\t\t\t\tuni.showToast({ title: '删除失败', icon: 'none' });\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 处理成绩冲突\n\t\thandleScoreConflict(conflictData) {\n\t\t\tconsole.log('handleScoreConflict 被调用，参数:', conflictData);\n\t\t\tconst { existingScore, newScore, conflictInfo } = conflictData;\n\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '检测到成绩冲突',\n\t\t\t\tcontent: `学生：${conflictInfo.studentName}\\n考试：${conflictInfo.examType} - ${conflictInfo.subject}\\n日期：${conflictInfo.examDate}\\n\\n现有成绩：${existingScore.score}/${existingScore.maxScore} (录入人：${conflictInfo.existingInputUser})\\n新成绩：${newScore.score}/${newScore.maxScore} (录入人：${conflictInfo.newInputUser})\\n\\n请选择处理方式：`,\n\t\t\t\tshowCancel: true,\n\t\t\t\tcancelText: '保留',\n\t\t\t\tconfirmText: '替换',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('冲突处理弹窗回调:', res);\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.resolveConflict(existingScore._id, newScore, 'use_new');\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tthis.resolveConflict(existingScore._id, newScore, 'keep_existing');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('显示冲突处理弹窗失败:', err);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 处理重复录入（不同用户录入相同成绩）\n\t\thandleDuplicateEntry(duplicateData) {\n\t\t\tconst { existingScore, newScore, duplicateInfo } = duplicateData;\n\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '检测到重复录入',\n\t\t\t\tcontent: `学生：${duplicateInfo.studentName}\\n考试：${duplicateInfo.examType} - ${duplicateInfo.subject}\\n日期：${duplicateInfo.examDate}\\n\\n成绩：${existingScore.score}/${existingScore.maxScore}\\n\\n现有录入人：${duplicateInfo.existingInputUser}\\n当前录入人：${duplicateInfo.newInputUser}\\n\\n检测到相同成绩由不同用户录入，请选择处理方式：`,\n\t\t\t\tshowCancel: true,\n\t\t\t\tcancelText: '取消录入',\n\t\t\t\tconfirmText: '更新',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.updateInputUser(existingScore._id, duplicateInfo.newInputUser);\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tuni.showToast({ title: '已取消录入', icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 更新录入人\n\t\tasync updateInputUser(existingScoreId, newInputUser) {\n\t\t\tuni.showLoading({ title: '更新中...' });\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'updateScore',\n\t\t\t\t\t\tid: existingScoreId,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tinputUser: newInputUser,\n\t\t\t\t\t\t\tupdateTime: new Date().toISOString()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tuni.hideLoading();\n\t\t\t\t\n\t\t\t\tif (result.result.code === 200) {\n\t\t\t\t\tuni.showToast({ title: '录入人已更新', icon: 'success' });\n\t\t\t\t\tthis.resetForm();\n\t\t\t\t\tthis.loadScores(); // 重新加载成绩列表\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({ title: result.result.message, icon: 'none' });\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('更新录入人失败:', error);\n\t\t\t\tuni.showToast({ title: '更新录入人失败', icon: 'none' });\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 解决冲突\n\t\tasync resolveConflict(existingScoreId, newScoreData, resolution) {\n\t\t\tconst userInfo = uni.getStorageSync('userInfo') || {};\n\t\t\tconst resolvedBy = userInfo.name || userInfo.nickname || userInfo.teacherName || '未知用户';\n\t\t\t\n\t\t\tuni.showLoading({ title: '处理中...' });\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\tname: 'exam-scores',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'resolveConflict',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\texistingScoreId,\n\t\t\t\t\t\t\tnewScoreData,\n\t\t\t\t\t\t\tresolution,\n\t\t\t\t\t\t\tresolvedBy\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tuni.hideLoading();\n\t\t\t\t\n\t\t\t\tif (result.result.code === 200) {\n\t\t\t\t\tuni.showToast({ title: result.result.message, icon: 'success' });\n\t\t\t\t\tthis.resetForm();\n\t\t\t\t\tthis.loadScores(); // 重新加载成绩列表\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({ title: result.result.message, icon: 'none' });\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('解决冲突失败:', error);\n\t\t\t\tuni.showToast({ title: '解决冲突失败', icon: 'none' });\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\tpadding-top: 24px; /* 整体下移 */\n\tposition: relative;\n}\n.container::before {\n\tcontent: '';\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 24px;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tz-index: 0;\n}\n\n.nav-bar {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tpadding: 20px;\n\ttext-align: center;\n\tposition: relative; /* Added for back button positioning */\n}\n\n.nav-title {\n\tcolor: white;\n\tfont-size: 18px;\n\tfont-weight: bold;\n}\n\n.back-btn {\n\tposition: absolute;\n\tleft: 16px;\n\ttop: 20px;\n\tcolor: white;\n\tfont-size: 16px;\n\tz-index: 10;\n}\n\n.tab-container {\n\tdisplay: flex;\n\tbackground: white;\n\tmargin: 10px;\n\tborder-radius: 8px;\n\toverflow: hidden;\n}\n\n.tab-item {\n\tflex: 1;\n\tpadding: 12px;\n\ttext-align: center;\n\tfont-size: 14px;\n\tcolor: #666;\n\tbackground: white;\n\ttransition: all 0.3s;\n}\n\n.tab-item.active {\n\tbackground: #667eea;\n\tcolor: white;\n}\n\n.form-outer {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 0;\n\tmin-height: calc(100vh - 100px);\n}\n.form-container {\n\tbackground: #fff;\n\tborder-radius: 16px;\n\tbox-shadow: 0 2px 12px 0 rgba(0,0,0,0.06);\n\tpadding: 18px 14px 12px 14px;\n\twidth: 100%;\n\tmax-width: 420px;\n\tmargin: 0 auto;\n\tbox-sizing: border-box;\n}\n.form-title {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tmargin-bottom: 10px;\n\tcolor: #333;\n}\n.form-item {\n\tmargin-bottom: 16px;\n}\n.label {\n\tdisplay: block;\n\tmargin-bottom: 2px;\n\tfont-size: 13px;\n\tcolor: #333;\n}\n.input, .textarea, .picker-text {\n\twidth: 100%;\n\tpadding: 7px 8px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tbackground: white;\n}\n.textarea.small {\n\theight: 36px;\n\tmin-height: 28px;\n\tmax-height: 48px;\n}\n.picker {\n\twidth: 100%;\n}\n.picker-text {\n\tpadding: 7px 8px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n}\n.remark-btn {\n\twidth: 100%;\n\tbackground: #f5f5f5;\n\tcolor: #888;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tpadding: 7px 0;\n}\n.submit-btn.card {\n\twidth: 80%;\n\tmargin: 24px auto 8px auto;\n\tdisplay: block;\n\tpadding: 14px 0;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 12px;\n\tfont-size: 16px;\n\tbox-shadow: 0 2px 8px 0 rgba(118,75,162,0.08);\n}\n.student-list {\n\tbackground: white;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tmargin-top: 5px;\n\tmax-height: 200px;\n\toverflow-y: auto;\n}\n\n.student-item {\n\tpadding: 12px;\n\tborder-bottom: 1px solid #eee;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.student-item:last-child {\n\tborder-bottom: none;\n}\n\n.student-info {\n\tfont-size: 12px;\n\tcolor: #999;\n}\n\n.exam-type-picker {\n    flex: 1.2;\n}\n\n.input-examtype {\n\ttext-align: center;\n}\n\n/* 日期-类型横向布局 */\n.date-type-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1.2fr; /* 年 月 类型 */\n  gap: 8px;\n  align-items: center;\n}\n\n.input-year,.input-month {\n  text-align: center;\n}\n\n.submit-btn {\n\twidth: 100%;\n\tpadding: 10px;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-size: 15px;\n\tmargin-top: 10px;\n}\n\n.filter-container {\n\tdisplay: flex;\n\tgap: 10px;\n\tmargin-bottom: 20px;\n}\n\n.filter-item {\n\tflex: 1;\n}\n\n.filter-picker {\n\twidth: 100%;\n}\n\n.filter-text {\n\tpadding: 10px;\n\tborder: 1px solid #ddd;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n\tbackground: white;\n\ttext-align: center;\n}\n\n.score-list {\n\tbackground: white;\n\tborder-radius: 8px;\n\toverflow: hidden;\n}\n\n.score-item {\n\tpadding: 15px;\n\tborder-bottom: 1px solid #eee;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.score-item:last-child {\n\tborder-bottom: none;\n}\n\n.score-content {\n\tflex: 1;\n\tcursor: pointer;\n}\n\n.score-actions {\n\tdisplay: flex;\n\tgap: 8px;\n\tmargin-left: 10px;\n}\n\n.action-btn {\n\tpadding: 6px 12px;\n\tborder-radius: 4px;\n\tfont-size: 12px;\n\tcursor: pointer;\n\ttransition: all 0.3s;\n}\n\n.edit-btn {\n\tbackground: #667eea;\n\tcolor: white;\n}\n\n.edit-btn:active {\n\tbackground: #5a6fd8;\n}\n\n.delete-btn {\n\tbackground: #ff6b6b;\n\tcolor: white;\n}\n\n.delete-btn:active {\n\tbackground: #ff5252;\n}\n\n.action-text {\n\tfont-size: 12px;\n}\n\n.score-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 8px;\n}\n\n.grade-label {\n\tfont-size: 15px;\n\tcolor: #764ba2;\n\tfont-weight: bold;\n\tmargin-bottom: 2px;\n\tdisplay: block;\n}\n.subject-label {\n\tcolor: #3a7afe;\n\tfont-weight: bold;\n\tmargin-right: 8px;\n}\n.examtype-label {\n\tcolor: #4caf50;\n\tmargin-left: 8px;\n\tfont-weight: bold;\n}\n.date-label {\n\tcolor: #bbb;\n\tmargin-left: 8px;\n}\n.score-value {\n\tfont-weight: bold;\n}\n.score-high {\n\tcolor: #3a7afe;\n}\n.score-mid {\n\tcolor: #ff9800;\n}\n.score-low {\n\tcolor: #f44336;\n}\n\n.student-name {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.score-info {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 5px;\n}\n\n.info-text {\n\tfont-size: 12px;\n\tcolor: #666;\n}\n\n.score-remark {\n\tmargin-top: 5px;\n}\n\n.remark-text {\n\tfont-size: 12px;\n\tcolor: #999;\n\tfont-style: italic;\n}\n\n.analysis-filter {\n\tdisplay: flex;\n\tgap: 10px;\n\tmargin-bottom: 20px;\n\talign-items: center;\n}\n\n.analysis-btn {\n\tpadding: 10px 20px;\n\tbackground: #667eea;\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 6px;\n\tfont-size: 14px;\n}\n\n.progress-result {\n\tbackground: white;\n\tborder-radius: 8px;\n\tpadding: 20px;\n}\n\n.progress-summary {\n\tmargin-bottom: 20px;\n}\n\n.summary-title {\n\tdisplay: block;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tcolor: #333;\n\tmargin-bottom: 10px;\n}\n\n.summary-text {\n\tfont-size: 14px;\n\tcolor: #666;\n\tline-height: 1.5;\n}\n\n.student-progress-list {\n\tbackground: #f9f9f9;\n\tborder-radius: 6px;\n\tpadding: 15px;\n}\n\n.student-progress-item {\n\tbackground: white;\n\tborder-radius: 6px;\n\tpadding: 15px;\n\tmargin-bottom: 10px;\n}\n\n.student-progress-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.student-progress-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 10px;\n}\n\n.progress-rate {\n\tfont-size: 16px;\n\tfont-weight: bold;\n}\n\n.progress-rate.positive {\n\tcolor: #4caf50;\n}\n\n.progress-rate.negative {\n\tcolor: #f44336;\n}\n\n.progress-detail {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.detail-text {\n\tfont-size: 12px;\n\tcolor: #666;\n}\n.coursetype-label {\n  color: #00bfae;\n  font-weight: bold;\n  margin-left: 8px;\n  margin-right: 8px;\n}\n.input-blue { color: #3a7afe; }\n.input-green { color: #4caf50; }\n.input-orange { color: #ff9800; }\n.input-purple { color: #764ba2; }\n.input-default { color: #333; }\n.input-grade { color: #764ba2; }\n.input-coursetype { color: #00bfae; }\n.input-subject { color: #3a7afe; }\n.input-student { color: #ff9800; }\n.input-user-label {\n  color: #888;\n  font-size: 12px;\n  margin-left: 8px;\n}\n\n/* 学生选择器样式 */\n.student-selector {\n  width: 100%;\n  min-height: 40px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  padding: 7px 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-sizing: border-box;\n  background: white;\n}\n\n.student-display {\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n\n.placeholder {\n  font-size: 14px;\n  color: #999;\n}\n\n.selected-student {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.student-text {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 2px;\n}\n\n.student-id {\n  font-size: 12px;\n  color: #999;\n}\n\n.arrow {\n  color: #999;\n  font-size: 12px;\n}\n\n/* 学生选择弹窗样式 */\n.student-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40rpx;\n}\n\n.student-modal-content {\n  background: #fff;\n  border-radius: 16rpx;\n  width: 100%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 30rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.modal-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.close-btn {\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  background: #f0f0f0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-icon {\n  font-size: 32rpx;\n  color: #999;\n}\n\n.modal-body {\n  padding: 20rpx 30rpx;\n  overflow-y: auto;\n  flex: 1;\n}\n\n.search-container {\n  padding: 0 0 20rpx 0;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.search-input {\n  width: 100%;\n  height: 70rpx;\n  border: 2rpx solid #e5e5e5;\n  border-radius: 8rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n  color: #333;\n  box-sizing: border-box;\n}\n\n.search-input:focus {\n  border-color: #667eea;\n}\n\n.student-selection-list {\n  display: flex;\n  flex-direction: column;\n  gap: 15rpx;\n  padding: 10rpx 0;\n}\n\n.student-selection-item {\n  display: flex;\n  align-items: center;\n  padding: 20rpx;\n  border: 2rpx solid #e5e5e5;\n  border-radius: 8rpx;\n  background: #fff;\n  transition: all 0.3s;\n}\n\n.student-selection-item.selected {\n  border-color: #667eea;\n  background: #f0f8ff;\n}\n\n.student-avatar {\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  background: #667eea;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 20rpx;\n  flex-shrink: 0;\n}\n\n.avatar-text {\n  font-size: 24rpx;\n  color: #fff;\n  font-weight: bold;\n}\n\n.student-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.student-details {\n  font-size: 24rpx;\n  color: #999;\n  margin-top: 3rpx;\n}\n\n.selection-indicator {\n  width: 40rpx;\n  height: 40rpx;\n  border-radius: 50%;\n  background: #e5e5e5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  margin-left: 20rpx;\n}\n\n.selection-indicator.selected {\n  background: #667eea;\n}\n\n.check-icon {\n  font-size: 20rpx;\n  color: #fff;\n  font-weight: bold;\n}\n\n.no-result {\n  padding: 40rpx;\n  text-align: center;\n}\n\n.no-result-text {\n  font-size: 28rpx;\n  color: #999;\n}\n\n.modal-footer {\n  display: flex;\n  padding: 30rpx;\n  gap: 20rpx;\n  border-top: 1rpx solid #f0f0f0;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.cancel-btn {\n  height: 80rpx;\n  border-radius: 8rpx;\n  font-size: 28rpx;\n  font-weight: bold;\n  border: none;\n  background: #f0f0f0;\n  color: #666;\n  padding: 0 30rpx;\n}\n\n.confirm-btn-container {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.confirm-btn {\n  height: 80rpx;\n  border-radius: 8rpx;\n  font-size: 28rpx;\n  font-weight: bold;\n  border: none;\n  background: #667eea;\n  color: #fff;\n  padding: 0 30rpx;\n}\n\n/* 科目选择器样式 */\n.subject-selector {\n  width: 100%;\n  min-height: 40px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  padding: 7px 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-sizing: border-box;\n  background: white;\n}\n\n.subject-display {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.selected-subjects {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.subject-tag {\n  display: flex;\n  align-items: center;\n  background: #667eea;\n  color: #fff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.subject-text {\n  margin-right: 4px;\n}\n\n.remove-subject {\n  font-size: 14px;\n  font-weight: bold;\n  cursor: pointer;\n}\n\n/* 多科目成绩录入样式 */\n.scores-container {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.score-input-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.score-label {\n  min-width: 60px;\n  font-size: 14px;\n  color: #333;\n  font-weight: 500;\n}\n\n.score-input {\n  flex: 1;\n  height: 40px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  padding: 0 12px;\n  font-size: 14px;\n  color: #333;\n}\n\n/* 科目选择弹窗样式 */\n.subject-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40rpx;\n}\n\n.subject-modal-content {\n  background: #fff;\n  border-radius: 16rpx;\n  width: 100%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.subject-selection-list {\n  display: flex;\n  flex-direction: column;\n  gap: 15rpx;\n  padding: 10rpx 0;\n}\n\n.subject-selection-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20rpx;\n  border: 2rpx solid #e5e5e5;\n  border-radius: 8rpx;\n  background: #fff;\n  transition: all 0.3s;\n}\n\n.subject-selection-item.selected {\n  border-color: #667eea;\n  background: #f0f8ff;\n}\n\n.subject-name {\n  font-size: 28rpx;\n  color: #333;\n  font-weight: 500;\n}\n\n</style> ","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam-scores.vue?vue&type=style&index=0&id=46a4f9b4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam-scores.vue?vue&type=style&index=0&id=46a4f9b4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1759881831274\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}