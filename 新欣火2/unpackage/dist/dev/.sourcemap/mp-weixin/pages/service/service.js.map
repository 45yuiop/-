{"version":3,"sources":["uni-app:///main.js","webpack:///D:/代码/小程序/新欣火1/pages/service/service.vue?c0d5","webpack:///D:/代码/小程序/新欣火1/pages/service/service.vue?e395","webpack:///D:/代码/小程序/新欣火1/pages/service/service.vue?6ef5","webpack:///D:/代码/小程序/新欣火1/pages/service/service.vue?d382","uni-app:///pages/service/service.vue","webpack:///D:/代码/小程序/新欣火1/pages/service/service.vue?19d8","webpack:///D:/代码/小程序/新欣火1/pages/service/service.vue?088f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","searchText","featureList","text","icon","page","color","category","bgAlpha","recentFeatures","activeCategory","allCategories","key","name","showAllGroups","computed","isAcademic","filteredFeatures","feature","features","filteredCategories","categories","preClassFeatures","preClassIndexes","dailyFeatures","dailyIndexes","filteredRecentFeatures","created","onShow","methods","goToFeatureByIndex","goToFeature","uni","title","url","getLightColor","getCategoryFeatures","f","getCategoryIndexes","map","filter","i","getCategoryName","getFeatureKey","switchCategory","showAllGroupsMode","goToSearch"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAAqqB,CAAgB,mqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCsHzrB;EACAC;IACA;MACAC;MACAC,cACA;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAE;QACAD;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;QACAE;MACA,GAEA;QACAL;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAJ;QACAC;QACAC;QACAC;QACAC;MACA,EACA;MACAE;MACAC;MACAC,gBACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;UACA;UACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;UACA,IACAC,2BACAA,2BACAA,2BACAA,2BACAA,yBACAA,2BACAA,2BACAA;UAAA,EACA;UACA;YACA;YACA;UACA;UACA;QACA;QACA;UACA;UACA,IACAA,4BACAA,2BACAA,6BACAA,2BACAA;UAAA;UACAA;UAAA;UACAA,yBACAA;UAAA,EACA;UACA;UACA;YACA;YACA;UACA;UACA;QACA;QACA;MACA;MACA;MACA;QACAC;UAAA;QAAA;MACA;MACA;QACAA;UAAA;QAAA;MACA;MACA;QACAA;UAAA;QAAA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MAAA,2CACA;QAAA;MAAA;QAAA;UAAA;UACA;UACA;YACAC;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;IACA;IACAC;MACA;MACA;QAAA;MAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;QAAA;MAAA;IACA;IACAC;MACA;QAAA;MAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACA;QACA;UAAA;QAAA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;;IAEA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IAEA;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACAC;UAAAC;UAAA7B;QAAA;QACA;MACA;MACA;MAEA;QAAA;MAAA;MACA;QACA;QACA;QACA;QACA;QACA4B;MACA;MACA;QACAA;UAAAE;QAAA;MACA;QACAF;UAAAE;QAAA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QAAA;MAAA;MACA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA,OACAC,qBACAA,sBACAA,qBACAA,qBACAA,qBACAA,qBACAA,qBACAA,mBACAA,kCACAA,0BACAA;MAAA,EACA;MACA;IACA;IACAC;MACA;MACA,8CACAC;QAAA;MAAA,GACAC;QAAA;MAAA;MACA;MACA;MACA;QAAA;MAAA;QAAA;MAAA;MACA;QAAA;MAAA;QAAA;MAAA;MACA;QAAA;MAAA;QAAA;MAAA;MACA;QAAA;MAAA;QAAA;MAAA;MACA;QAAA,OACAH,qBACAA,sBACAA,qBACAA,qBACAA,qBACAA,qBACAA,qBACAA,kCACAA;QACA;QAAA,EACAI;MAAA;QAAA;MAAA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAd;QAAAE;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvgBA;AAAA;AAAA;AAAA;AAA0+B,CAAgB,o8BAAG,EAAC,C;;;;;;;;;;;ACA9/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/service/service.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/service/service.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./service.vue?vue&type=template&id=4c0f6f1c&scoped=true&\"\nvar renderjs\nimport script from \"./service.vue?vue&type=script&lang=js&\"\nexport * from \"./service.vue?vue&type=script&lang=js&\"\nimport style0 from \"./service.vue?vue&type=style&index=0&id=4c0f6f1c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c0f6f1c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/service/service.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./service.vue?vue&type=template&id=4c0f6f1c&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.showAllGroups ? _vm.filteredRecentFeatures.length : null\n  var l0 =\n    _vm.showAllGroups && g0\n      ? _vm.__map(_vm.filteredRecentFeatures, function (feature, idx) {\n          var $orig = _vm.__get_orig(feature)\n          var m0 = _vm.getLightColor(feature.color, feature.bgAlpha || 0.15)\n          return {\n            $orig: $orig,\n            m0: m0,\n          }\n        })\n      : null\n  var l2 = _vm.showAllGroups\n    ? _vm.__map(\n        _vm.filteredCategories.filter(function (c) {\n          return c.key !== \"recent\"\n        }),\n        function (cat, __i1__) {\n          var $orig = _vm.__get_orig(cat)\n          var l1 = _vm.__map(\n            _vm.getCategoryFeatures(cat.key),\n            function (feature, idx) {\n              var $orig = _vm.__get_orig(feature)\n              var m1 = _vm.getLightColor(feature.color, feature.bgAlpha || 0.15)\n              return {\n                $orig: $orig,\n                m1: m1,\n              }\n            }\n          )\n          return {\n            $orig: $orig,\n            l1: l1,\n          }\n        }\n      )\n    : null\n  var g1 = !_vm.showAllGroups\n    ? _vm.activeCategory === \"recent\" && _vm.filteredRecentFeatures.length\n    : null\n  var l3 =\n    !_vm.showAllGroups && g1\n      ? _vm.__map(_vm.filteredRecentFeatures, function (feature, idx) {\n          var $orig = _vm.__get_orig(feature)\n          var m2 = _vm.getLightColor(feature.color, feature.bgAlpha || 0.15)\n          return {\n            $orig: $orig,\n            m2: m2,\n          }\n        })\n      : null\n  var m3 =\n    !_vm.showAllGroups && !g1 ? _vm.getCategoryName(_vm.activeCategory) : null\n  var l4 =\n    !_vm.showAllGroups && !g1\n      ? _vm.__map(\n          _vm.getCategoryFeatures(_vm.activeCategory),\n          function (feature, idx) {\n            var $orig = _vm.__get_orig(feature)\n            var m4 = _vm.getLightColor(feature.color, feature.bgAlpha || 0.15)\n            return {\n              $orig: $orig,\n              m4: m4,\n            }\n          }\n        )\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, cat, idx) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        cat = _temp2.cat,\n        idx = _temp2.idx\n      var _temp, _temp2\n      _vm.goToFeatureByIndex(_vm.getCategoryIndexes(cat.key)[idx], false)\n    }\n    _vm.e1 = function ($event, idx) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        idx = _temp4.idx\n      var _temp3, _temp4\n      _vm.goToFeatureByIndex(\n        _vm.getCategoryIndexes(_vm.activeCategory)[idx],\n        false\n      )\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        l2: l2,\n        g1: g1,\n        l3: l3,\n        m3: m3,\n        l4: l4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./service.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./service.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"service-container\">\n    <view class=\"search-bar\" @click=\"goToSearch\">\n      <image class=\"search-logo\" src=\"/static/b3318194914f809af324de8884bd906(1).png\" mode=\"aspectFit\" />\n      <input class=\"search-input-real\" :disabled=\"true\" placeholder=\"大家都在搜：我的课表\" placeholder-class=\"search-placeholder\" />\n    </view>\n    <!-- 分类标签栏 -->\n    <scroll-view class=\"category-tabs\" scroll-x>\n      <view\n        class=\"category-tab\"\n        :class=\"{active: showAllGroups}\"\n        @click=\"showAllGroupsMode\"\n      >\n        全部\n        <view v-if=\"showAllGroups\" class=\"tab-underline\"></view>\n      </view>\n      <view\n        v-for=\"cat in filteredCategories\"\n        :key=\"cat.key\"\n        class=\"category-tab\"\n        :class=\"{active: !showAllGroups && activeCategory === cat.key}\"\n        @click=\"switchCategory(cat.key)\"\n      >\n        {{ cat.name }}\n        <view v-if=\"!showAllGroups && activeCategory === cat.key\" class=\"tab-underline\"></view>\n      </view>\n    </scroll-view>\n    <!-- 全部分组常驻模式 -->\n    <view v-if=\"showAllGroups\">\n      <view v-if=\"filteredRecentFeatures.length\" class=\"recent-grid\">\n        <view\n          v-for=\"(feature, idx) in filteredRecentFeatures\"\n          :key=\"'recent-' + idx\"\n          class=\"service-card\"\n          @click=\"goToFeatureByIndex(idx, true)\"\n        >\n          <view\n            class=\"service-icon-bg\"\n            :style=\"{ background: getLightColor(feature.color, feature.bgAlpha || 0.15) }\"\n          >\n            <image class=\"service-icon\" :src=\"feature.icon\" mode=\"aspectFit\"></image>\n          </view>\n          <text class=\"service-text\">{{ feature.text }}</text>\n        </view>\n      </view>\n      <view\n        v-for=\"cat in filteredCategories.filter(c => c.key !== 'recent')\"\n        :key=\"cat.key\"\n        :id=\"'cat-' + cat.key\"\n        class=\"group\"\n      >\n        <view class=\"group-title\">\n          <view class=\"group-bar\" :class=\"cat.key === 'pre' ? 'bar-pre' : 'bar-daily'\" />\n          <text>{{ cat.name }}</text>\n        </view>\n        <view class=\"group-grid\">\n          <view\n            v-for=\"(feature, idx) in getCategoryFeatures(cat.key)\"\n            :key=\"cat.key + '-' + idx\"\n            class=\"service-card\"\n            @click=\"goToFeatureByIndex(getCategoryIndexes(cat.key)[idx], false)\"\n          >\n            <view\n              class=\"service-icon-bg\"\n              :style=\"{ background: getLightColor(feature.color, feature.bgAlpha || 0.15) }\"\n            >\n              <image class=\"service-icon\" :src=\"feature.icon\" mode=\"aspectFit\"></image>\n            </view>\n            <text class=\"service-text\">{{ feature.text }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    <!-- 分组聚焦模式 -->\n    <view v-else>\n      <view v-if=\"activeCategory === 'recent' && filteredRecentFeatures.length\" class=\"recent-grid\">\n        <view\n          v-for=\"(feature, idx) in filteredRecentFeatures\"\n          :key=\"'recent-' + idx\"\n          class=\"service-card\"\n          @click=\"goToFeatureByIndex(idx, true)\"\n        >\n          <view\n            class=\"service-icon-bg\"\n            :style=\"{ background: getLightColor(feature.color, feature.bgAlpha || 0.15) }\"\n          >\n            <image class=\"service-icon\" :src=\"feature.icon\" mode=\"aspectFit\"></image>\n          </view>\n          <text class=\"service-text\">{{ feature.text }}</text>\n        </view>\n      </view>\n      <view v-else class=\"group\">\n        <view class=\"group-title\">\n          <view class=\"group-bar\" :class=\"activeCategory === 'pre' ? 'bar-pre' : 'bar-daily'\" />\n          <text>{{ getCategoryName(activeCategory) }}</text>\n        </view>\n        <view class=\"group-grid\">\n          <view\n            v-for=\"(feature, idx) in getCategoryFeatures(activeCategory)\"\n            :key=\"activeCategory + '-' + idx\"\n            class=\"service-card\"\n            @click=\"goToFeatureByIndex(getCategoryIndexes(activeCategory)[idx], false)\"\n          >\n            <view\n              class=\"service-icon-bg\"\n              :style=\"{ background: getLightColor(feature.color, feature.bgAlpha || 0.15) }\"\n            >\n              <image class=\"service-icon\" :src=\"feature.icon\" mode=\"aspectFit\"></image>\n            </view>\n            <text class=\"service-text\">{{ feature.text }}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      searchText: '',\n      featureList: [\n        {\n          text: '注册账号',\n          icon: '/static/aaa.png',\n          page: '/pages/register/register',\n          color: '#4FC3F7'\n        },\n        {\n          text: '账号管理',\n          icon: '/static/c.png',\n          page: '/pages/account-manage/account-manage',\n          color: '#FFD600'\n        },\n        {\n          text: '教师排课',\n          icon: '/static/bb.png',\n          page: '/pages/teacher-schedule/teacher-schedule',\n          color: '#7C4DFF'\n        },\n        {\n          text: '课时统计',\n          icon: '/static/b.png',\n          page: '/pages/salary-statistics/salary-statistics',\n          color: '#FF8A65'\n        },\n        {\n          text: '教师课程表',\n          icon: '/static/bbb.png',\n          page: '/pages/admin-teacher-schedule/admin-teacher-schedule',\n          color: '#64B5F6',\n          category: 'pre'\n        },\n        {\n          text: '我的课表',\n          icon: '/static/d.png',\n          page: '/pages/teacher-courses/teacher-courses',\n          color: '#FFF3CD',\n          bgAlpha: 0.8,\n          category: 'pre'\n        },\n        {\n          text: '调课审批',\n          icon: '/static/e.png',\n          page: '/pages/course-change-approval/course-change-approval',\n          color: '#FFB300'\n        },\n        {\n          text: '权限分配',\n          icon: '/static/dd.png',\n          page: '/pages/permission-assign/index',\n          color: '#BA68C8',\n          bgAlpha: 1\n        },\n\n        {\n          text: '系统设置',\n          icon: '/static/cc.png',\n          page: '/pages/system-setting/system-setting',\n          color: '#42A5F7'\n        },\n        {\n          text: '我的班级',\n          icon: '/static/教室.png',\n          page: '/pages/my-class/my-class',\n          color: '#9C27B0',\n          category: 'student-input'\n        },\n        {\n          text: '班级管理',\n          icon: '/static/222.png',\n          page: '/pages/class-management/class-management',\n          color: '#9C27B0',\n          category: 'student-input'\n        },\n        {\n          text: '学生录入',\n          icon: '/static/1234.png',\n          page: '/pages/student-input/student-input',\n          color: '#4FC3F7',\n          category: 'student-input'\n        },\n        {\n          text: '学生档案',\n          icon: '/static/gongju.png',\n          page: '/pages/archive/archive',\n          color: '#42A5F5',\n          category: 'student-input'\n        },\n        {\n          text: '成绩',\n          icon: '/static/1.png',\n          page: '/pages/exam-scores/exam-scores',\n          color: '#FF6B6B',\n          category: 'score' // 只属于成绩管理\n        },\n        {\n          text: '进步分析',\n          icon: '/static/ii.png',\n          page: '/pages/student-progress/student-progress',\n          color: '#4ECDC4',\n          category: 'score' // 只属于成绩管理\n        },\n        {\n          text: '教室',\n          icon: '/static/2.png',\n          page: '/pages/classroom/classroom',\n          color: '#1976D2',\n          category: 'pre'\n        },\n        {\n          text: '师资力量',\n          icon: '/static/user.png',\n          page: '/pages/faculty-strength/faculty-strength',\n          color: '#FF9800',\n          category: 'faculty'\n        },\n        {\n          text: '试卷分析',\n          icon: '/static/22.png',\n          page: '/pages/exam-analysis/exam-analysis',\n          color: '#E91E63',\n          category: 'score'\n        }\n      ],\n      recentFeatures: [],\n      activeCategory: 'recent',\n      allCategories: [\n        { key: 'recent', name: '最近使用' },\n        { key: 'pre', name: '课前准备' },\n        { key: 'account', name: '账号管理' },\n        { key: 'schedule', name: '排课管理' },\n        { key: 'score', name: '成绩管理' },\n        { key: 'approval', name: '审批' },\n        { key: 'student-input', name: '学生管理' },\n        { key: 'faculty', name: '师资力量' },\n        { key: 'daily', name: '设置' }\n      ],\n      showAllGroups: true\n    }\n  },\n  computed: {\n    isAcademic() {\n      const userInfo = uni.getStorageSync('userInfo');\n      return userInfo && (Array.isArray(userInfo.role) ? userInfo.role.includes('教务') : userInfo.role === '教务');\n    },\n    // 根据用户权限过滤功能列表\n    filteredFeatures() {\n      const userInfo = uni.getStorageSync('userInfo');\n      if (!userInfo) return [];\n      const isSuperAdmin = userInfo.permission === 'superadmin';\n      const isAdmin = userInfo.permission === '管理员' || isSuperAdmin || (Array.isArray(userInfo.role) && userInfo.role.includes('管理员'));\n      const isTeacher = Array.isArray(userInfo.role) ? userInfo.role.includes('教师') : userInfo.role === '教师';\n      const isParent = Array.isArray(userInfo.role) ? userInfo.role.includes('家长') : userInfo.role === 'parent';\n      const isAcademic = this.isAcademic;\n      const isAdminAcademic = isAcademic && userInfo.permission === '管理员';\n      const isTeacherAndAdmin = isTeacher && isAdmin;\n      let features = this.featureList.filter(feature => {\n        if (isTeacherAndAdmin && feature.text === '学生课时录入') return false;\n        if (isAcademic && feature.text === '调课审批') return false;\n        if (isSuperAdmin && feature.text === '我的课表') return false;\n        if (isAdminAcademic && feature.text === '课时统计') return false;\n        if (isAdmin) {\n          // 管理员不能看到\"师资力量\"功能\n          if (feature.text === '师资力量') return false;\n          return true;\n        }\n        if (isParent) {\n          return feature.text === '教师课程表' || feature.text === '系统设置' || feature.text === '师资力量';\n        }\n        if (isTeacher) {\n          // 教师服务页和搜索都显示\"成绩\"\"进步分析\"\"试卷分析\"\n          if (\n            feature.text === '我的课表' ||\n            feature.text === '学生课时' ||\n            feature.text === '我的班级' ||\n            feature.text === '课时统计' ||\n            feature.text === '成绩' ||\n            feature.text === '进步分析' ||\n            feature.text === '试卷分析' ||\n            feature.text === '教室' // 新增\n          ) return true;\n          if (userInfo.featureList && Array.isArray(userInfo.featureList)) {\n            const featureKey = this.getFeatureKey(feature.text);\n            return userInfo.featureList.includes(featureKey) || feature.text === '系统设置';\n          }\n          return feature.text === '系统设置';\n        }\n        if (isAcademic) {\n          // 教务账号服务页和搜索都显示\"成绩\"，不显示\"进步分析\"\n          if (\n            feature.text === '教师课程表' ||\n            feature.text === '学生课时' ||\n            feature.text === '学生课时录入' ||\n            feature.text === '学生档案' ||\n            feature.text === '学生录入' || // 新增学生录入功能\n            feature.text === '班级管理' || // 新增班级管理功能\n            feature.text === '成绩' ||\n            feature.text === '教室' // 新增教室功能\n          ) return true;\n          if (feature.text === '我的课表' || feature.text === '我的班级' || feature.text === '进步分析' || feature.text === '试卷分析') return false;\n          if (userInfo.featureList && Array.isArray(userInfo.featureList)) {\n            const featureKey = this.getFeatureKey(feature.text);\n            return userInfo.featureList.includes(featureKey) || feature.text === '系统设置';\n          }\n          return feature.text === '系统设置';\n        }\n        return feature.text === '系统设置';\n      });\n      // 其他原有搜索过滤逻辑\n      if (isAcademic && this.searchText) {\n        features = features.filter(f => f.text !== '我的课表' && f.text !== '我的班级' && f.text !== '进步分析' && f.text !== '试卷分析');\n      }\n      if (isAcademic) {\n        features = features.filter(f => f.text !== '我的课表' && f.text !== '我的班级' && f.text !== '进步分析' && f.text !== '试卷分析');\n      }\n      if (this.searchText) {\n        features = features.filter(f => f.text && f.text.toLowerCase().includes(this.searchText.toLowerCase()));\n      }\n      return features;\n    },\n    // 过滤后的分类，只显示有功能的分类\n    filteredCategories() {\n      const userInfo = uni.getStorageSync('userInfo');\n      const isAcademic = userInfo && (Array.isArray(userInfo.role) ? userInfo.role.includes('教务') : userInfo.role === '教务');\n      const categories = [];\n      for (const cat of this.allCategories) {\n        if (isAcademic && cat.key === 'approval') continue;\n        if (this.getCategoryFeatures(cat.key).length > 0) {\n          categories.push(cat);\n        }\n      }\n      return categories;\n    },\n    preClassFeatures() {\n      // 只包含\"我的课表\"和\"教师课程表\"\n      return this.filteredFeatures.filter(f => f.text === '我的课表' || f.text === '教师课程表');\n    },\n    preClassIndexes() {\n      // 返回在filteredFeatures中的索引\n      return this.filteredFeatures.map((f, i) => (f.text === '我的课表' || f.text === '教师课程表') ? i : -1).filter(i => i !== -1);\n    },\n    dailyFeatures() {\n      // 除去\"我的课表\"和\"教师课程表\"\n      return this.filteredFeatures.filter(f => f.text !== '我的课表' && f.text !== '教师课程表');\n    },\n    dailyIndexes() {\n      return this.filteredFeatures.map((f, i) => (f.text !== '我的课表' && f.text !== '教师课程表') ? i : -1).filter(i => i !== -1);\n    },\n    filteredRecentFeatures() {\n      // 最近使用也要做权限过滤\n      const userInfo = uni.getStorageSync('userInfo');\n      const isAcademic = userInfo && (Array.isArray(userInfo.role) ? userInfo.role.includes('教务') : userInfo.role === '教务');\n      return this.recentFeatures.filter(f => {\n        if (isAcademic && (f.text === '我的课表' || f.text === '调课审批' || f.text === '进步分析')) return false;\n        return this.filteredFeatures.some(ff => ff.text === f.text);\n      });\n    }\n  },\n  created() {\n    // 获取当前用户信息\n    const userInfo = uni.getStorageSync('userInfo');\n    const userId = userInfo ? userInfo.uid || userInfo.username : 'anonymous';\n    \n    // 基于用户ID获取最近使用记录\n    const recent = uni.getStorageSync(`recentFeatures_${userId}`) || [];\n    this.recentFeatures = recent;\n  },\n  onShow() {\n    // 每次显示页面时重新获取当前用户的最近使用记录\n    const userInfo = uni.getStorageSync('userInfo');\n    const userId = userInfo ? userInfo.uid || userInfo.username : 'anonymous';\n    \n    const recent = uni.getStorageSync(`recentFeatures_${userId}`) || [];\n    this.recentFeatures = recent;\n  },\n  methods: {\n    goToFeatureByIndex(idx, isRecent) {\n      const feature = isRecent ? this.recentFeatures[idx] : this.filteredFeatures[idx];\n      this.goToFeature(feature, isRecent);\n    },\n    goToFeature(feature, isRecent = false) {\n      // 获取当前用户信息\n      const userInfo = uni.getStorageSync('userInfo');\n      const isAcademic = userInfo && (Array.isArray(userInfo.role) ? userInfo.role.includes('教务') : userInfo.role === '教务');\n      if (isAcademic && (feature.text === '我的课表' || feature.text === '调课审批' || feature.text === '进步分析')) {\n        uni.showToast({ title: '无权限访问', icon: 'none' });\n        return;\n      }\n      const userId = userInfo ? userInfo.uid || userInfo.username : 'anonymous';\n      \n      const idx = this.recentFeatures.findIndex(f => f.text === feature.text);\n      if (idx !== 0) {\n        if (idx > 0) this.recentFeatures.splice(idx, 1);\n        this.recentFeatures.unshift(feature);\n        if (this.recentFeatures.length > 8) this.recentFeatures.pop();\n        // 基于用户ID存储最近使用记录\n        uni.setStorageSync(`recentFeatures_${userId}`, this.recentFeatures);\n      }\n      if (feature.page.startsWith('/pages/schedule-tab')) {\n        uni.switchTab({ url: feature.page });\n      } else {\n        uni.navigateTo({ url: feature.page });\n      }\n    },\n    getLightColor(color, alpha = 0.15) {\n      if (!color) return `rgba(200,200,200,${alpha})`;\n      const hex = color.replace('#', '');\n      const r = parseInt(hex.substring(0, 2), 16);\n      const g = parseInt(hex.substring(2, 4), 16);\n      const b = parseInt(hex.substring(4, 6), 16);\n      return `rgba(${r},${g},${b},${alpha})`;\n    },\n    getCategoryFeatures(key) {\n      const userInfo = uni.getStorageSync('userInfo');\n      const isAcademic = userInfo && (Array.isArray(userInfo.role) ? userInfo.role.includes('教务') : userInfo.role === '教务');\n      if (isAcademic && key === 'approval') return [];\n      const featuresByCategory = this.filteredFeatures.filter(f => f.category === key);\n      if (featuresByCategory.length > 0) return featuresByCategory;\n      if (key === 'pre') return this.filteredFeatures.filter(f => f.category === 'pre');\n      if (key === 'account') return this.filteredFeatures.filter(f => f.text === '注册账号' || f.text === '账号管理');\n      if (key === 'schedule') return this.filteredFeatures.filter(f => f.text === '教师排课' || f.text === '课时统计');\n      if (key === 'approval') return this.filteredFeatures.filter(f => f.text === '调课审批');\n      if (key === 'daily') return this.filteredFeatures.filter(f =>\n        f.text !== '我的课表' &&\n        f.text !== '教师课程表' &&\n        f.text !== '注册账号' &&\n        f.text !== '账号管理' &&\n        f.text !== '教师排课' &&\n        f.text !== '课时统计' &&\n        f.text !== '调课审批' &&\n        f.text !== '教室' &&\n        f.category !== 'student-input' &&\n        f.category !== 'score' &&\n        f.category !== 'pre'\n      );\n      return [];\n    },\n    getCategoryIndexes(key) {\n      // 优先用 category 字段分组\n      const indexesByCategory = this.filteredFeatures\n        .map((f, i) => (f.category === key ? i : -1))\n        .filter(i => i !== -1);\n      if (indexesByCategory.length > 0) return indexesByCategory;\n      // 兼容原有分组逻辑\n      if (key === 'pre') return this.filteredFeatures.map((f, i) => (f.text === '教师课程表') ? i : -1).filter(i => i !== -1);\n      if (key === 'account') return this.filteredFeatures.map((f, i) => (f.text === '注册账号' || f.text === '账号管理') ? i : -1).filter(i => i !== -1);\n      if (key === 'schedule') return this.filteredFeatures.map((f, i) => (f.text === '教师排课' || f.text === '课时统计') ? i : -1).filter(i => i !== -1);\n      if (key === 'approval') return this.filteredFeatures.map((f, i) => (f.text === '调课审批') ? i : -1).filter(i => i !== -1);\n      if (key === 'daily') return this.filteredFeatures.map((f, i) => (\n        f.text !== '我的课表' &&\n        f.text !== '教师课程表' &&\n        f.text !== '注册账号' &&\n        f.text !== '账号管理' &&\n        f.text !== '教师排课' &&\n        f.text !== '课时统计' &&\n        f.text !== '调课审批' &&\n        f.category !== 'student-input' &&\n        f.category !== 'score'\n        // 移除教室的排除，让教室功能正常显示\n      ) ? i : -1).filter(i => i !== -1);\n      return [];\n    },\n    getCategoryName(key) {\n      const cat = this.filteredCategories.find(c => c.key === key);\n      return cat ? cat.name : '';\n    },\n    // 根据功能名称获取功能键\n    getFeatureKey(featureText) {\n      const featureMap = {\n        '注册账号': 'register',\n        '账号管理': 'user_manage',\n        '教师排课': 'schedule',\n        '课时统计': 'salary',\n        '教师课程表': 'admin_teacher_schedule',\n        '我的课表': 'teacher_courses',\n        '权限分配': 'permission_assign',\n        '系统设置': 'system_setting',\n        '学生课时': 'student_hours',\n        '学生档案': 'archive',\n        '班级管理': 'class_management',\n        '学生录入': 'student_input',\n        \t\t\t\t'师资力量': 'faculty_strength',\n\t\t\t\t'试卷分析': 'exam_analysis'\n\t\t\t};\n\t\t\treturn featureMap[featureText] || featureText;\n    },\n    switchCategory(key) {\n      this.activeCategory = key;\n      this.showAllGroups = false;\n    },\n    showAllGroupsMode() {\n      this.showAllGroups = true;\n    },\n    goToSearch() {\n      uni.navigateTo({ url: '/pages/search-page/search-page' });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.service-container {\n  padding: 90rpx 20rpx 20rpx 20rpx;\n  background: #f8f8f8;\n  min-height: 100vh;\n}\n.service-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #1976D2;\n  margin-bottom: 30rpx;\n  text-align: left;\n}\n.service-grid {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.service-card {\n  width: 25%;\n  box-sizing: border-box;\n  padding: 30rpx 0 13rpx 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 8rpx;\n}\n.service-icon-bg {\n  width: 90rpx;\n  height: 90rpx;\n  border-radius: 24rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 8rpx;\n}\n.service-icon {\n  width: 60rpx;\n  height: 60rpx;\n}\n.service-text {\n  font-size: 28rpx;\n  color: #333;\n  margin-top: 6rpx;\n  text-align: center;\n}\n.search-bar {\n  display: flex;\n  align-items: center;\n  background: #e5ecef;\n  border-radius: 32rpx;\n  padding: 10rpx 20rpx;\n  margin-bottom: 32rpx;\n  margin-top: 0;\n}\n.search-logo {\n  width: 48rpx;\n  height: 48rpx;\n  margin-right: 16rpx;\n  border-radius: 50%;\n  background: #fff;\n}\n.search-input-real {\n  flex: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  font-size: 28rpx;\n  color: #333;\n  height: 48rpx;\n}\n.search-placeholder {\n  color: #bfc9d1;\n  font-size: 28rpx;\n}\n.recent-title {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #1976D2;\n  margin-bottom: 10rpx;\n  margin-top: 0;\n  text-align: left;\n}\n.recent-grid {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin-bottom: 20rpx;\n}\n.recent-grid .service-card {\n  width: 25%;\n  box-sizing: border-box;\n  padding: 40rpx 0 18rpx 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 0;\n}\n.group {\n  margin-bottom: 35rpx;\n}\n.group-title {\n  display: flex;\n  align-items: center;\n  font-size: 30rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 13rpx;\n  margin-top: 18rpx;\n}\n.group-bar {\n  width: 8rpx;\n  height: 32rpx;\n  border-radius: 6rpx;\n  margin-right: 16rpx;\n}\n.bar-pre {\n  background: #FF7043;\n}\n.bar-daily {\n  background: #1976D2;\n}\n.group-grid {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n.group-grid .service-card {\n  width: 25%;\n  box-sizing: border-box;\n  padding: 40rpx 0 18rpx 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 0;\n}\n.category-tabs {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0 10rpx;\n  margin-bottom: 18rpx;\n  background: #fff;\n  overflow-x: auto;\n  white-space: nowrap;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n.category-tab {\n  display: inline-flex;\n  align-items: center;\n  font-size: 32rpx;\n  color: #666;\n  margin-right: 36rpx;\n  position: relative;\n  padding: 12rpx 0;\n  font-weight: 500;\n  cursor: pointer;\n}\n.category-tab.active {\n  color: #222;\n  font-weight: bold;\n}\n.tab-underline {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 4rpx;\n  background: #FF7043;\n  border-radius: 2rpx;\n}\n</style> ","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./service.vue?vue&type=style&index=0&id=4c0f6f1c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./service.vue?vue&type=style&index=0&id=4c0f6f1c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1759881831262\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}