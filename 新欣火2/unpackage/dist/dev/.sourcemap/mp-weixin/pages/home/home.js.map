{"version":3,"sources":["uni-app:///main.js","webpack:///D:/代码/小程序/新欣火1/pages/home/home.vue?0511","webpack:///D:/代码/小程序/新欣火1/pages/home/home.vue?2a28","webpack:///D:/代码/小程序/新欣火1/pages/home/home.vue?0389","webpack:///D:/代码/小程序/新欣火1/pages/home/home.vue?c8d7","uni-app:///pages/home/home.vue","webpack:///D:/代码/小程序/新欣火1/pages/home/home.vue?0007","webpack:///D:/代码/小程序/新欣火1/pages/home/home.vue?2054"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","hex","data","announcementText","bannerList","showSubscriptionBanner","subscriptionBannerTitle","subscriptionBannerDesc","subscriptionBannerBtnText","quickActions","text","icon","page","color","bgAlpha","newsList","computed","isAdmin","isAcademic","filteredFeatures","feature","features","f","methods","goTo","uni","url","goToSearch","openNewsEditor","title","viewNewsDetail","getLightColor","getFeatureKey","onLoad","onShow","checkAndPromptSubscription","openid","setTimeout","subscriptionStatus","console","setSubscriptionBanner","goToSubscription","showSubscriptionPrompt","content","confirmText","cancelText","success","onReady","onUnload","loadNewsFromCloud","uniCloud","name","action","pageSize","res","id","time","contentBlocks","news","handleNewsUpdated","handleSubscriptionStatusChanged","handleWechatBoundSuccess","getNewsSnippet","filter","map","join","formatTime"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAkqB,CAAgB,gqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiHtrB;EAAA;EACA;EACAC;EACA;IAAA;EAAA;EAEA;EACA;EACA;EACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC,aACA,kBAEA,gBACA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC,eACA;QAAAC;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAJ;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAJ;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAH;QAAAC;QAAAC;QAAAC;MAAA,EACA;MACAE;IAGA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;;QAEA;QACA;UACA;UACA,IACAC,4BACAA,2BACAA,yBACAA,yBACAA,2BACAA,2BACAA,2BACAA,2BACAA,2BACAA,2BACAA,uBACA;;UAEA;UACA;YACA;YACA;UACA;UAEA;QACA;QAEA;QACA;QACA;QACA;QACA;UACA;UACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA,OACAA,2BACAA,2BACAA,yBACAA,yBACAA,2BACAA,2BACAA,2BACAA;QAEA;QACA;MACA;;MAEA;MACA;QACAC;UAAA,OACAC,qBACAA,qBACAA,qBACAA,qBACAA,qBACAA,qBACAA;UAAA;UACAA;UAAA;UACAA;UAAA;UACAA;QAAA;QAAA,CACA;MACA;;MAEAD;QAAA;MAAA;MACA;MACA;QAAA;MAAA;MACA;MACA;IACA;EACA;EACAE;IACAC;MACA;QACAC;UAAAC;QAAA;MACA;QACAD;UAAAC;QAAA;MACA;IACA;IACAC;MACAF;QAAAC;MAAA;IACA;IACAE;MACA;MACA;MACA;QACAH;UAAAI;UAAAlB;QAAA;QACA;MACA;;MAEA;MACAc;QACAC;MACA;IACA;IACAI;MACAL;QAAAC;MAAA;IACA;IACAK;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MACA;IACA;IACAC;MACA;MACA;IACA;IAEAC;MACA;MACA;;MAEA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACA;gBACA;;gBAEA;gBACAC;kBACA;gBACA;gBAAA;cAAA;gBAIA;gBACAC;gBACA;kBACA;kBACA;;kBAEA;kBACAD;oBACA;kBACA;gBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAE;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAC;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACAhB;QACAC;MACA;IACA;IAEA;IACAgB;MACAjB;QACAI;QACAc;QACAC;QACAC;QACAC;UACA;YACA;YACArB;cACAC;YACA;UACA;QACA;MACA;IACA;IAEAqB;MACA;MACAtB;;MAEA;MACAA;;MAEA;MACAA;IACA;IAEAuB;MACA;MACAvB;;MAEA;MACAA;;MAEA;MACAA;IACA;IACAwB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAC;kBAAAC;kBAAAjD;oBAAAkD;oBAAAxC;oBAAAyC;kBAAA;gBAAA;cAAA;gBAAAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACA;kBAAA;oBACAC;oBACA1B;oBACAc;oBACAa;oBACAC;kBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAIAlB;cAAA;gBAEA;gBACAmB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;;MAEA;MACA;QACA,oCACAC;UAAA;QAAA,GACAC;UAAA;QAAA,GACAC;QAEA;UACA;UACA;YACA;UACA;UACA;QACA;MACA;;MAEA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACneA;AAAA;AAAA;AAAA;AAA+8B,CAAgB,y6BAAG,EAAC,C;;;;;;;;;;;ACAn+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/home.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=92bb8f34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.filteredFeatures.length\n  var l0 = _vm.__map(_vm.filteredFeatures, function (item, idx) {\n    var $orig = _vm.__get_orig(item)\n    var m0 =\n      idx < 8 ? _vm.getLightColor(item.color, item.bgAlpha || 0.15) : null\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  var l2 = _vm.__map(_vm.newsList, function (news, __i0__) {\n    var $orig = _vm.__get_orig(news)\n    var m1 = _vm.getNewsSnippet(news)\n    var g1 = news.contentBlocks && news.contentBlocks.length > 0\n    var l1 = g1\n      ? news.contentBlocks\n          .filter(function (b) {\n            return b.type === \"image\"\n          })\n          .slice(0, 1)\n      : null\n    var m2 = _vm.formatTime(news.time)\n    return {\n      $orig: $orig,\n      m1: m1,\n      g1: g1,\n      l1: l1,\n      m2: m2,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<!-- 搜索栏 -->\n\t\t<view class=\"search-bar\" @click=\"goToSearch\">\n\t\t\t<image class=\"search-logo\" src=\"/static/b3318194914f809af324de8884bd906(1).png\" mode=\"aspectFit\" />\n\t\t\t<input class=\"search-input-real\" :disabled=\"true\" placeholder=\"大家都在搜：我的课表\" placeholder-class=\"search-placeholder\" />\n\t\t</view>\n\t\t<!-- 宣传图轮播 -->\n\t\t<swiper class=\"banner-swiper\" :indicator-dots=\"true\" :autoplay=\"true\" interval=\"3000\" circular>\n\t\t\t<swiper-item v-for=\"(img, idx) in bannerList\" :key=\"idx\">\n\t\t\t\t<image class=\"banner-img\" :src=\"img\" mode=\"aspectFill\" />\n\t\t\t</swiper-item>\n\t\t</swiper>\n\t\t\n\t\t<!-- 订阅通知横幅 -->\n\t\t<view class=\"subscription-banner\" v-if=\"showSubscriptionBanner\" @click=\"goToSubscription\">\n\t\t\t<view class=\"banner-content\">\n\t\t\t\t<view class=\"banner-left\">\n\t\t\t\t\t<view class=\"banner-icon\">🔔</view>\n\t\t\t\t\t<view class=\"banner-text\">\n\t\t\t\t\t\t<text class=\"banner-title\">{{ subscriptionBannerTitle }}</text>\n\t\t\t\t\t\t<text class=\"banner-desc\">{{ subscriptionBannerDesc }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"banner-right\">\n\t\t\t\t\t<text class=\"banner-btn\">{{ subscriptionBannerBtnText }}</text>\n\t\t\t\t\t<text class=\"banner-arrow\">→</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 常用功能区 -->\n\t\t<view class=\"quick-actions\">\n\t\t\t<view class=\"quick-grid\" :style=\"{ 'justify-content': filteredFeatures.length <= 4 ? 'center' : 'flex-start' }\">\n\t\t\t\t<view\n\t\t\t\t\tv-for=\"(item, idx) in filteredFeatures\"\n\t\t\t\t\t:key=\"item.text\"\n\t\t\t\t\tclass=\"service-card\"\n\t\t\t\t\t@click=\"goTo(item)\"\n\t\t\t\t\tv-if=\"idx < 8\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"service-icon-bg\" :style=\"{ background: getLightColor(item.color, item.bgAlpha || 0.15) }\">\n\t\t\t\t\t\t<image class=\"service-icon\" :src=\"item.icon\" mode=\"aspectFit\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"service-text\">{{ item.text }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\n\t\t<!-- 公告框 -->\n\t\t<view class=\"announcement-container\">\n\t\t\t<view class=\"announcement-content\">\n\t<image class=\"horn-icon\" src=\"/static/123.png\" mode=\"aspectFit\"></image>\n\t<view class=\"scroll-container\">\n\t\t<text class=\"announcement-text\">{{ announcementText }}</text>\n\t</view>\n</view>\n\t\t</view>\n\n\t\t<!-- 事件备忘录区 -->\n\t\t<view class=\"news-section\">\n\t\t\t<view class=\"news-header\">\n\t\t\t\t<text>事件备忘录</text>\n\t\t\t\t<button v-if=\"isAdmin\" class=\"news-edit-btn\" @click.stop=\"openNewsEditor\">+</button>\n\t\t\t</view>\n\t\t\t\t<!-- 新闻列表 -->\n\t\t\t\t<view class=\"news-list\">\n\t\t\t\t\t<view class=\"news-item\" v-for=\"news in newsList\" :key=\"news.id\" @click=\"viewNewsDetail(news)\" :class=\"{ 'pinned-news': news.isPinned }\">\n\t\t\t\t\t\t<view class=\"news-content\">\n\t\t\t\t\t\t\t<view class=\"news-left\">\n\t\t\t\t\t\t\t\t<view class=\"news-title-row\">\n\t\t\t\t\t\t\t\t\t<text class=\"news-title\">{{ news.title }}</text>\n\t\t\t\t\t\t\t\t\t<view v-if=\"news.isPinned\" class=\"pin-badge\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"pin-icon\">📌</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"pin-text\">置顶</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"news-snippet\">{{ getNewsSnippet(news) }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"news-right\">\n\t\t\t\t\t\t\t\t<!-- 显示第一张图片 -->\n\t\t\t\t\t\t\t\t<view v-if=\"news.contentBlocks && news.contentBlocks.length > 0\" class=\"news-image-container\">\n\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\tv-for=\"(block, index) in news.contentBlocks.filter(b => b.type === 'image').slice(0, 1)\" \n\t\t\t\t\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t\t\t\t\tclass=\"image-preview-item\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\t\t\t:src=\"block.imageUrl\" \n\t\t\t\t\t\t\t\t\t\t\tclass=\"news-image-preview\" \n\t\t\t\t\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<!-- 如果没有图片，显示占位符 -->\n\t\t\t\t\t\t\t\t<view v-else class=\"news-image-placeholder\">\n\t\t\t\t\t\t\t\t\t<text class=\"placeholder-text\">无图片</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- 底部整行时间，右对齐 -->\n\t\t\t\t\t\t<view class=\"news-footer\">\n\t\t\t\t\t\t\t<text class=\"news-time\">{{ formatTime(news.time) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nfunction getLightColor(hex, alpha = 0.15) {\n\tif (!hex) return `rgba(200,200,200,${alpha})`;\n\thex = hex.replace('#', '');\n\tif (hex.length === 3) hex = hex.split('').map(x => x + x).join(''); \n\t\n\tconst r = parseInt(hex.substring(0, 2), 16);\n\tconst g = parseInt(hex.substring(2, 4), 16);\n\tconst b = parseInt(hex.substring(4, 6), 16);\n\treturn `rgba(${r},${g},${b},${alpha})`;\n}\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tannouncementText: '重要通知：老师课程表已更新，请各位老师及时查看。',\n\t\t\tbannerList: [\n\t\t\t\t'/static/jj.png',\n\t\t\n\t\t\t\t'/static/j.png'\n\t\t\t],\n\t\t\t// 订阅通知横幅相关\n\t\t\tshowSubscriptionBanner: false,\n\t\t\tsubscriptionBannerTitle: '',\n\t\t\tsubscriptionBannerDesc: '',\n\t\t\tsubscriptionBannerBtnText: '',\n\t\t\tquickActions: [\n\t\t\t\t{ text: '教师课程表', icon: '/static/bbb.png', page: '/pages/admin-teacher-schedule/admin-teacher-schedule', color: '#64B5F6' },\n\t\t\t\t{ text: '我的课表', icon: '/static/d.png', page: '/pages/teacher-courses/teacher-courses', color: '#FFF3CD', bgAlpha: 0.8 },\n\t\t\t\t{ text: '教师排课', icon: '/static/bb.png', page: '/pages/teacher-schedule/teacher-schedule', color: '#7C4DFF' },\n\t\t\t\t{ text: '课时统计', icon: '/static/b.png', page: '/pages/salary-statistics/salary-statistics', color: '#FF8A65' },\n\t\t\t\t{ text: '注册账号', icon: '/static/aaa.png', page: '/pages/register/register', color: '#4FC3F7' },\n\t\t\t\t{ text: '账号管理', icon: '/static/c.png', page: '/pages/account-manage/account-manage', color: '#FFD600' },\n\t\t\t\t{ text: '我的班级', icon: '/static/教室.png', page: '/pages/my-class/my-class', color: '#9C27B0' },\n\t\t\t\t{ text: '权限分配', icon: '/static/dd.png', page: '/pages/permission-assign/index', color: '#BA68C8', bgAlpha: 1 },\n\t\t\t\t{ text: '调课审批', icon: '/static/e.png', page: '/pages/course-change-approval/course-change-approval', color: '#FFB300' },\n\t\t\t\t{ text: '系统设置', icon: '/static/cc.png', page: '/pages/system-setting/system-setting', color: '#42A5F5' },\n\t\t\t\t{ text: '更多', icon: '/static/f.png', page: '/pages/service/service', color: '#e0e0e0' },\n\t\t\t\t{ text: '学生档案', icon: '/static/gongju.png', page: '/pages/archive/archive', color: '#42A5F5' },\n\t\t\t\t{ text: '学生录入', icon: '/static/1234.png', page: '/pages/student-input/student-input', color: '#4FC3F7' },\n\t\t\t\t{ text: '班级管理', icon: '/static/222.png', page: '/pages/class-management/class-management', color: '#9C27B0' },\n\t\t\t\t{ text: '成绩', icon: '/static/1.png', page: '/pages/exam-scores/exam-scores', color: '#FF6B6B' },\n\t\t\t\t{ text: '进步分析', icon: '/static/ii.png', page: '/pages/student-progress/student-progress', color: '#4ECDC4' },\n\t\t\t\t{ text: '教室', icon: '/static/2.png', page: '/pages/classroom/classroom', color: '#1976D2' },\n\t\t\t\t{ text: '师资力量', icon: '/static/user.png', page: '/pages/faculty-strength/faculty-strength', color: '#FF9800' },\n\t\t\t\t{ text: '试卷分析', icon: '/static/22.png', page: '/pages/exam-analysis/exam-analysis', color: '#E91E63' }\n\t\t\t],\n\t\t\tnewsList: [\n\t\t\t\t\n\t\t\t]\n\t\t}\n\t},\n\tcomputed: {\n\t\tisAdmin() {\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\treturn userInfo && (userInfo.permission === '管理员' || userInfo.permission === 'superadmin');\n\t\t},\n\t\tisAcademic() {\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\treturn userInfo && (Array.isArray(userInfo.role) ? userInfo.role.includes('教务') : userInfo.role === '教务');\n\t\t},\n\t\tfilteredFeatures() {\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\tif (!userInfo) return [];\n\t\t\tconst isSuperAdmin = userInfo.permission === 'superadmin';\n\t\t\tconst isAdmin = userInfo.permission === '管理员' || isSuperAdmin || (Array.isArray(userInfo.role) && userInfo.role.includes('管理员'));\n\t\t\tconst isTeacher = Array.isArray(userInfo.role) ? userInfo.role.includes('教师') : userInfo.role === '教师';\n\t\t\tconst isParent = Array.isArray(userInfo.role) ? userInfo.role.includes('家长') : userInfo.role === 'parent';\n\t\t\tconst isAcademic = this.isAcademic;\n\t\t\tconst isAdminAcademic = isAcademic && userInfo.permission === '管理员';\n\t\t\tconst isTeacherAndAdmin = isTeacher && isAdmin;\n\t\t\tlet actions = [...this.quickActions];\n\t\t\tlet features = actions.filter(feature => {\n\t\t\t\tif (isSuperAdmin) return true;\n\t\t\t\t\n\t\t\t\t// 教务账号权限控制 - 与服务页面保持一致\n\t\t\t\tif (isAcademic) {\n\t\t\t\t// 教务账号可以访问的功能（与服务页面一致）\n\t\t\t\tif (\n\t\t\t\t\tfeature.text === '教师课程表' ||\n\t\t\t\t\tfeature.text === '学生档案' ||\n\t\t\t\t\tfeature.text === '教室' ||\n\t\t\t\t\tfeature.text === '成绩' ||\n\t\t\t\t\tfeature.text === '注册账号' ||\n\t\t\t\t\tfeature.text === '教师排课' ||\n\t\t\t\t\tfeature.text === '权限分配' ||\n\t\t\t\t\tfeature.text === '班级管理' ||\n\t\t\t\t\tfeature.text === '学生录入' ||\n\t\t\t\t\tfeature.text === '试卷分析' ||\n\t\t\t\t\tfeature.text === '更多'\n\t\t\t\t) return true;\n\t\t\t\t\t\n\t\t\t\t\t// 检查用户是否有featureList权限配置\n\t\t\t\t\tif (userInfo.featureList && Array.isArray(userInfo.featureList)) {\n\t\t\t\t\t\tconst featureKey = this.getFeatureKey(feature.text);\n\t\t\t\t\t\treturn userInfo.featureList.includes(featureKey);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (isTeacherAndAdmin && feature.text === '学生课时录入') return false;\n\t\t\t\tif (isSuperAdmin && feature.text === '我的课表') return false;\n\t\t\t\t// 移除对教务账号课时统计的限制\n\t\t\t\t// if (isAdminAcademic && feature.text === '课时统计') return false;\n\t\t\t\tif (isAdmin) {\n\t\t\t\t\t// 管理员不能看到\"师资力量\"功能\n\t\t\t\t\tif (feature.text === '师资力量') return false;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (isParent) {\n\t\t\t\t\treturn feature.text === '教师课程表' || feature.text === '师资力量';\n\t\t\t\t}\n\t\t\t\tif (isTeacher) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tfeature.text === '我的课表' ||\n\t\t\t\t\t\tfeature.text === '课时统计' ||\n\t\t\t\t\t\tfeature.text === '教室' ||\n\t\t\t\t\t\tfeature.text === '成绩' ||\n\t\t\t\t\t\tfeature.text === '进步分析' ||\n\t\t\t\t\t\tfeature.text === '试卷分析' ||\n\t\t\t\t\t\tfeature.text === '我的班级' ||\n\t\t\t\t\t\tfeature.text === '更多'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\t// 教务账号过滤掉不应该看到的功能\n\t\t\tif (isAcademic) {\n\t\t\t\tfeatures = features.filter(f => \n\t\t\t\t\tf.text !== '我的课表' && \n\t\t\t\t\tf.text !== '我的班级' && \n\t\t\t\t\tf.text !== '进步分析' && \n\t\t\t\t\tf.text !== '试卷分析' &&\n\t\t\t\t\tf.text !== '教师排课' &&\n\t\t\t\t\tf.text !== '权限分配' &&\n\t\t\t\t\tf.text !== '课时统计' && // 教务账号不显示课时统计\n\t\t\t\t\tf.text !== '师资力量' && // 教务账号不显示师资力量\n\t\t\t\t\tf.text !== '系统设置' && // 教务账号不显示系统设置\n\t\t\t\t\tf.text !== '账号管理' // 教务账号不显示账号管理\n\t\t\t\t);\n\t\t\t}\n\t\t\t\n\t\t\tfeatures = features.filter(f => f.text !== '更多');\n\t\t\tif (features.length > 8) features = features.slice(0, 7);\n\t\t\tconst moreBtn = actions.find(f => f.text === '更多');\n\t\t\tif (moreBtn) features.push(moreBtn);\n\t\t\treturn features;\n\t\t},\n\t},\n\tmethods: {\n\t\tgoTo(item) {\n\t\t\tif (item.text === '更多') {\n\t\t\t\tuni.switchTab({ url: item.page });\n\t\t\t} else {\n\t\t\t\tuni.navigateTo({ url: item.page });\n\t\t\t}\n\t\t},\n\t\tgoToSearch() {\n\t\t\tuni.navigateTo({ url: '/pages/search-page/search-page' });\n\t\t},\n\t\topenNewsEditor() {\n\t\t\t// 检查用户权限\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\tif (!userInfo || !(userInfo.permission === '管理员' || userInfo.permission === 'superadmin')) {\n\t\t\t\tuni.showToast({ title: '只有管理员可以发布新闻', icon: 'none' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// 跳转到新闻编辑页面\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/news-edit/news-edit'\n\t\t\t});\n\t\t},\n\t\tviewNewsDetail(news) {\n\t\t\tuni.navigateTo({ url: `/pages/news-detail/news-detail?id=${news.id}` });\n\t\t},\n\t\tgetLightColor,\n\t\tgetFeatureKey(featureText) {\n\t\t\tconst featureMap = {\n\t\t\t\t'注册账号': 'register',\n\t\t\t\t'账号管理': 'user_manage',\n\t\t\t\t'教师排课': 'schedule',\n\t\t\t\t'课时统计': 'salary',\n\t\t\t\t'教师课程表': 'admin_teacher_schedule',\n\t\t\t\t'我的课表': 'teacher_courses',\n\t\t\t\t'权限分配': 'permission_assign',\n\t\t\t\t'系统设置': 'system_setting',\n\t\t\t\t'学生课时': 'student_hours_query',\n\t\t\t\t'学生课时录入': 'student_hours',\n\t\t\t\t'我的班级': 'my_class',\n\t\t\t\t'师资力量': 'faculty_strength',\n\t\t\t\t'试卷分析': 'exam_analysis',\n\t\t\t\t'教室': 'classroom',\n\t\t\t\t'成绩': 'exam_scores',\n\t\t\t\t'进步分析': 'student_progress'\n\t\t\t\t// '订阅通知': 'subscription_notification'\n\t\t\t};\n\t\t\treturn featureMap[featureText] || featureText;\n\t\t},\n\t\tonLoad() {\n\t\t\t// 从云端加载新闻\n\t\t\tthis.loadNewsFromCloud();\n\t\t},\n\t\t\n\t\tonShow() {\n\t\t\t// 页面显示时重新加载\n\t\t\tthis.loadNewsFromCloud();\n\t\t\t\n\t\t\t// 检查并提示开通订阅通知\n\t\t\tthis.checkAndPromptSubscription();\n\t\t},\n\t\t\n\t\t// 检查并提示开通订阅通知\n\t\tasync checkAndPromptSubscription() {\n\t\t\ttry {\n\t\t\t\t// 检查是否已绑定微信\n\t\t\t\tconst openid = uni.getStorageSync('openid');\n\t\t\t\tif (!openid) {\n\t\t\t\t\t// 设置横幅状态\n\t\t\t\t\tthis.setSubscriptionBanner('微信绑定', '为了及时接收课程通知，建议先绑定微信账号', '立即绑定');\n\t\t\t\t\t\n\t\t\t\t\t// 延迟显示弹窗，避免与登录成功提示冲突\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.showSubscriptionPrompt('微信绑定', '为了及时接收课程通知，建议先绑定微信账号');\n\t\t\t\t\t}, 2000);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 检查是否已开通订阅通知\n\t\t\t\tconst subscriptionStatus = uni.getStorageSync('subscriptionStatus');\n\t\t\t\tif (!subscriptionStatus || subscriptionStatus.status !== 'accepted') {\n\t\t\t\t\t// 设置横幅状态\n\t\t\t\t\tthis.setSubscriptionBanner('订阅通知', '开通订阅通知，及时接收课程安排、调课等重要信息', '立即开通');\n\t\t\t\t\t\n\t\t\t\t\t// 延迟显示弹窗，避免与登录成功提示冲突\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.showSubscriptionPrompt('订阅通知', '开通订阅通知，及时接收课程安排、调课等重要信息');\n\t\t\t\t\t}, 2000);\n\t\t\t\t} else {\n\t\t\t\t\t// 已开通，隐藏横幅\n\t\t\t\t\tthis.showSubscriptionBanner = false;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('检查订阅状态失败:', error);\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 设置订阅横幅状态\n\t\tsetSubscriptionBanner(title, desc, btnText) {\n\t\t\tthis.subscriptionBannerTitle = title;\n\t\t\tthis.subscriptionBannerDesc = desc;\n\t\t\tthis.subscriptionBannerBtnText = btnText;\n\t\t\tthis.showSubscriptionBanner = true;\n\t\t},\n\t\t\n\t\t// 跳转到订阅设置页面\n\t\tgoToSubscription() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/subscription-settings/subscription-settings'\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 显示订阅提示弹窗\n\t\tshowSubscriptionPrompt(title, content) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: `💡 ${title}`,\n\t\t\t\tcontent: content,\n\t\t\t\tconfirmText: '立即开通',\n\t\t\t\tcancelText: '稍后再说',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t// 跳转到订阅设置页面\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '/pages/subscription-settings/subscription-settings'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\tonReady() {\n\t\t\t// 监听新闻更新事件\n\t\t\tuni.$on('newsUpdated', this.handleNewsUpdated);\n\t\t\t\n\t\t\t// 监听订阅状态变化事件\n\t\t\tuni.$on('subscriptionStatusChanged', this.handleSubscriptionStatusChanged);\n\t\t\t\n\t\t\t// 监听微信绑定成功事件\n\t\t\tuni.$on('wechatBoundSuccess', this.handleWechatBoundSuccess);\n\t\t},\n\t\t\n\t\tonUnload() {\n\t\t\t// 移除事件监听\n\t\t\tuni.$off('newsUpdated', this.handleNewsUpdated);\n\t\t\t\n\t\t\t// 移除订阅状态变化监听\n\t\t\tuni.$off('subscriptionStatusChanged', this.handleSubscriptionStatusChanged);\n\t\t\t\n\t\t\t// 移除微信绑定成功监听\n\t\t\tuni.$off('wechatBoundSuccess', this.handleWechatBoundSuccess);\n\t\t},\n\t\tasync loadNewsFromCloud() {\n\t\t\ttry {\n\t\t\t\tconst res = await uniCloud.callFunction({ name: 'news-service', data: { action: 'listNews', page: 1, pageSize: 50 } });\n\t\t\t\tif (res && res.result && res.result.code === 0) {\n\t\t\t\t\tthis.newsList = res.result.data.map(n => ({\n\t\t\t\t\t\tid: n._id || n.id,\n\t\t\t\t\t\ttitle: n.title,\n\t\t\t\t\t\tcontent: n.content,\n\t\t\t\t\t\ttime: n.time,\n\t\t\t\t\t\tcontentBlocks: n.contentBlocks || []\n\t\t\t\t\t}));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('云端加载新闻失败，回退本地:', e);\n\t\t\t}\n\t\t\t// 回退：本地存储\n\t\t\tconst news = uni.getStorageSync('newsList');\n\t\t\tif (news && Array.isArray(news)) this.newsList = news;\n\t\t},\n\t\thandleNewsUpdated() {\n\t\t\t// 统一从云端刷新\n\t\t\tthis.loadNewsFromCloud();\n\t\t},\n\t\thandleSubscriptionStatusChanged(status) {\n\t\t\tthis.showSubscriptionBanner = status.status === 'accepted';\n\t\t\tthis.subscriptionBannerTitle = status.title;\n\t\t\tthis.subscriptionBannerDesc = status.desc;\n\t\t\tthis.subscriptionBannerBtnText = status.btnText;\n\t\t},\n\t\thandleWechatBoundSuccess() {\n\t\t\t// 微信绑定成功后，重新检查并提示订阅通知\n\t\t\tthis.checkAndPromptSubscription();\n\t\t},\n\t\tgetNewsSnippet(news) {\n\t\t\tif (!news.content) return '';\n\t\t\t\n\t\t\t// 如果是contentBlocks格式，只提取文字内容\n\t\t\tif (news.contentBlocks && news.contentBlocks.length > 0) {\n\t\t\t\tconst textBlocks = news.contentBlocks\n\t\t\t\t\t.filter(block => block.type === 'text')\n\t\t\t\t\t.map(block => block.content)\n\t\t\t\t\t.join(' ');\n\t\t\t\t\n\t\t\t\tif (textBlocks.trim()) {\n\t\t\t\t\tconst maxLength = 80; // 最大显示字符数\n\t\t\t\t\tif (textBlocks.length <= maxLength) {\n\t\t\t\t\t\treturn textBlocks;\n\t\t\t\t\t}\n\t\t\t\t\treturn textBlocks.substring(0, maxLength) + '...';\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// 兼容旧格式\n\t\t\tconst maxLength = 80;\n\t\t\tif (news.content.length <= maxLength) {\n\t\t\t\treturn news.content;\n\t\t\t}\n\t\t\treturn news.content.substring(0, maxLength) + '...';\n\t\t},\n\t\tformatTime(time) {\n\t\t\tif (!time) return '';\n\t\t\tconst date = new Date(time);\n\t\t\tconst year = date.getFullYear();\n\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\n\t\t\tconst day = date.getDate().toString().padStart(2, '0');\n\t\t\treturn `${year}-${month}-${day}`;\n\t\t}\n\t}\n}\n</script>\n\n<style>\n\t.container {\n\t\tpadding: 90rpx 20rpx 20rpx 20rpx;\n\t\tbackground: #f8f8f8;\n\t\tmin-height: 100vh;\n\t}\n\t.search-bar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground: #e5ecef;\n\t\tborder-radius: 32rpx;\n\t\tpadding: 10rpx 20rpx;\n\t\tmargin-bottom: 32rpx;\n\t\tmargin-top: 0;\n\t}\n\t.search-logo {\n\t\twidth: 48rpx;\n\t\theight: 48rpx;\n\t\tmargin-right: 16rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: #fff;\n\t}\n\t.search-input-real {\n\t\tflex: 1;\n\t\tborder: none;\n\t\toutline: none;\n\t\tbackground: transparent;\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\theight: 48rpx;\n\t}\n\t.search-placeholder {\n\t\tcolor: #bfc9d1;\n\t\tfont-size: 28rpx;\n\t}\n\t.banner-swiper {\n\t\twidth: 710rpx;\n\t\theight: 260rpx;\n\t\tborder-radius: 20rpx;\n\t\tmargin: 20rpx auto 30rpx auto;\n\t\toverflow: hidden;\n\t\tdisplay: block;\n\t}\n\t.banner-img {\n\t\twidth: 710rpx;\n\t\theight: 260rpx;\n\t\tborder-radius: 20rpx;\n\t\tdisplay: block;\n\t}\n\t.quick-actions {\n\t\twidth: 710rpx;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t.quick-grid {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: center;\n\t}\n\t.service-card {\n\t\twidth: 25%;\n\t\tbox-sizing: border-box;\n\t\tpadding: 40rpx 0 18rpx 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tmargin-bottom: 0;\n\t}\n\t.service-icon-bg {\n\t\twidth: 90rpx;\n\t\theight: 90rpx;\n\t\tborder-radius: 24rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-bottom: 16rpx;\n\t}\n\t.service-icon {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t}\n\t.service-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tmargin-top: 6rpx;\n\t\ttext-align: center;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t.news-section {\n\t\tbackground: #fff;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 30rpx;\n\t\tmargin: 20rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0,0,0,0.08);\n\t\tposition: relative;\n\t}\n\n.news-header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20rpx;\n\twidth: 100%;\n\tposition: relative;\n}\n\n.news-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n\tmargin-bottom: 0;\n\tdisplay: block;\n\ttext-align: center;\n\tflex: 1;\n}\n\n.news-edit-btn {\n\tbackground: #007aff;\n\tcolor: #fff;\n\tborder: none;\n\tborder-radius: 50%;\n\twidth: 60rpx;\n\theight: 60rpx;\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\t.news-list {\n\t\tbackground: #f8f8f8;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 20rpx;\n\t}\n.news-item {\n\tbackground: #fff;\n\tborder-radius: 16rpx;\n\tpadding: 30rpx;\n\tmargin-bottom: 20rpx;\n\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05);\n\tborder: 2rpx solid #f0f0f0;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.news-item.pinned-news {\n\tborder: 2rpx solid #ffa726;\n\tbackground: linear-gradient(135deg, #fff8e1 0%, #ffffff 100%);\n\tbox-shadow: 0 4rpx 15rpx rgba(255, 167, 38, 0.2);\n}\n\n.news-content {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: stretch;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tgap: 20rpx;\n}\n\n.news-left {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tmin-height: 120rpx;\n}\n\n.news-right {\n\tflex-shrink: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.news-title-row {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 15rpx;\n}\n\n.news-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n\tdisplay: block;\n\ttext-align: left;\n\tline-height: 1.4;\n\tflex: 1;\n\tmargin-right: 10rpx;\n}\n\n.pin-badge {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);\n\tcolor: #fff;\n\tpadding: 4rpx 12rpx;\n\tborder-radius: 20rpx;\n\tfont-size: 20rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(255, 167, 38, 0.3);\n\tflex-shrink: 0;\n}\n\n.pin-icon {\n\tfont-size: 18rpx;\n\tmargin-right: 4rpx;\n}\n\n.pin-text {\n\tfont-size: 20rpx;\n\tfont-weight: bold;\n}\n\n.news-snippet {\n\tfont-size: 28rpx;\n\tcolor: #666;\n\tline-height: 1.5;\n\tmargin-bottom: 15rpx;\n\tdisplay: -webkit-box;\n\t-webkit-box-orient: vertical;\n\t-webkit-line-clamp: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tword-break: break-all;\n\toverflow-wrap: anywhere;\n}\n\n.news-images-preview {\n\tdisplay: flex;\n\tgap: 12rpx;\n\tmargin: 15rpx 0;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n}\n\n.image-preview-item {\n\twidth: 80rpx;\n\theight: 80rpx;\n\tborder-radius: 8rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 2rpx 8rpx rgba(0,0,0,0.1);\n}\n\n.news-image-preview {\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 8rpx;\n}\n\n.news-image-container {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.news-image-placeholder {\n\twidth: 80rpx;\n\theight: 80rpx;\n\tborder-radius: 8rpx;\n\tbackground-color: #f5f5f5;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder: 2rpx dashed #ddd;\n}\n\n.placeholder-text {\n\tcolor: #999;\n\tfont-size: 20rpx;\n}\n\n.news-footer {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: 16rpx;\n}\n\n.news-time {\n\tcolor: #999;\n\tfont-size: 24rpx;\n}\n\t.announcement-container {\n\t\twidth: 710rpx;\n\t\theight: 80rpx;\n\t\tbackground: #fffbe6;\n\t\tborder-radius: 12rpx;\n\t\tmargin: 20rpx auto;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05);\n\t}\n\t.announcement-content {\n\tdisplay: flex;\n\talign-items: center;\n\theight: 100%;\n\tpadding: 0 20rpx;\n}\n.horn-icon {\n\twidth: 40rpx;\n\theight: 40rpx;\n\tmargin-right: 16rpx;\n\tflex-shrink: 0;\n}\n.scroll-container {\n\toverflow: hidden;\n\tflex: 1;\n\tmin-width: 0;\n}\n.announcement-text {\n\tdisplay: inline-block;\n\twhite-space: nowrap;\n\tanimation: scroll 15s linear infinite;\n\t-webkit-animation: scroll 15s linear infinite;\n\tfont-size: 28rpx;\n\tcolor: #e67700;\n\tline-height: 80rpx;\n}\n\t@keyframes scroll {\n\t0% { transform: translateX(100%); }\n\t100% { transform: translateX(-100%); }\n}\n@-webkit-keyframes scroll {\n\t0% { transform: translateX(100%); }\n\t100% { transform: translateX(-100%); }\n}\n\n/* 订阅通知横幅样式 */\n.subscription-banner {\n\twidth: 710rpx;\n\theight: 120rpx;\n\tbackground: linear-gradient(135deg, #FF5722, #FF9800);\n\tborder-radius: 16rpx;\n\tmargin: 20rpx auto;\n\tbox-shadow: 0 4rpx 20rpx rgba(255, 87, 34, 0.3);\n\toverflow: hidden;\n\tcursor: pointer;\n\ttransition: all 0.3s ease;\n}\n\n.subscription-banner:active {\n\ttransform: scale(0.98);\n\tbox-shadow: 0 2rpx 10rpx rgba(255, 87, 34, 0.4);\n}\n\n.banner-content {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\theight: 100%;\n\tpadding: 0 30rpx;\n}\n\n.banner-left {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n}\n\n.banner-icon {\n\tfont-size: 48rpx;\n\tmargin-right: 20rpx;\n\tanimation: bell-ring 2s ease-in-out infinite;\n}\n\n@keyframes bell-ring {\n\t0%, 100% { transform: rotate(0deg); }\n\t10%, 30% { transform: rotate(10deg); }\n\t20% { transform: rotate(-10deg); }\n\t40% { transform: rotate(0deg); }\n}\n\n.banner-text {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n}\n\n.banner-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #fff;\n\tmargin-bottom: 8rpx;\n\tdisplay: block;\n}\n\n.banner-desc {\n\tfont-size: 24rpx;\n\tcolor: rgba(255, 255, 255, 0.9);\n\tline-height: 1.4;\n\tdisplay: block;\n}\n\n.banner-right {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 10rpx;\n}\n\n.banner-btn {\n\tfont-size: 28rpx;\n\tcolor: #fff;\n\tfont-weight: 500;\n\tbackground: rgba(255, 255, 255, 0.2);\n\tpadding: 12rpx 24rpx;\n\tborder-radius: 20rpx;\n\tborder: 2rpx solid rgba(255, 255, 255, 0.3);\n}\n\n.banner-arrow {\n\tfont-size: 32rpx;\n\tcolor: #fff;\n\tfont-weight: bold;\n}\n</style>","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1759881831260\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}