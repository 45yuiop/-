<view class="data-v-37545066"><view style="{{'height:'+(statusBarHeight+'px')+';'}}" class="data-v-37545066"></view><view class="custom-navbar data-v-37545066"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-37545066" bindtap="__e"><image class="back-icon data-v-37545066" src="/static/3.png"></image></view><view class="navbar-title-wrap data-v-37545066"><view class="navbar-title data-v-37545066">我的班级</view></view><view class="navbar-placeholder data-v-37545066"></view></view><view class="control-bar data-v-37545066"><view class="type-tabs data-v-37545066"><block wx:for="{{typeList}}" wx:for-item="type" wx:for-index="__i0__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectType',['$0'],[[['typeList','',__i0__]]]]]]]}}" class="{{['data-v-37545066','type-tab',selectedType===type?'active':'']}}" bindtap="__e">{{type}}</view></block></view><view data-event-opts="{{[['tap',[['showYearPicker',['$event']]]]]}}" class="year-selector data-v-37545066" bindtap="__e"><text class="year-text data-v-37545066">{{selectedYear}}</text><text class="dropdown-arrow data-v-37545066">▼</text></view></view><view class="main-container data-v-37545066"><block wx:if="{{$root.g0>0}}"><view class="sidebar data-v-37545066"><block wx:for="{{leftList}}" wx:for-item="item" wx:for-index="idx" wx:key="*this"><view data-event-opts="{{[['tap',[['selectLeft',['$0'],[[['leftList','',idx]]]]]]]}}" class="{{['data-v-37545066','side-item',selectedLeft===item?'active':'']}}" bindtap="__e">{{''+item+''}}<block wx:if="{{classStatusMap[item]}}"><block wx:if="{{classStatusMap[item].isOver}}"><text style="color:#f56c6c;font-size:24rpx;" class="data-v-37545066">（已结课）</text></block></block></view></block></view></block><view class="content-panel data-v-37545066"><block wx:if="{{$root.g1>0}}"><view class="content-list data-v-37545066"><block wx:for="{{classItems}}" wx:for-item="student" wx:for-index="__i1__" wx:key="_id"><view data-event-opts="{{[['tap',[['showStudentDetail',['$0'],[[['classItems','_id',student._id]]]]]]]}}" class="class-card data-v-37545066" bindtap="__e"><view class="class-header data-v-37545066"><view class="class-icon data-v-37545066">📚</view><view class="class-info data-v-37545066"><text class="class-name data-v-37545066">{{student.name}}</text><text class="class-meta data-v-37545066">{{(student.grade||'年级')+" · "+(student.subject||'综合')}}</text></view><view class="class-stats data-v-37545066"><text class="student-count data-v-37545066">{{student.studentCount}}</text><text class="count-label data-v-37545066">人</text></view></view><view class="class-footer data-v-37545066"><text class="class-year data-v-37545066">{{student.classYear}}</text><view class="class-arrow data-v-37545066">›</view></view></view></block><block wx:for="{{$root.l0}}" wx:for-item="student" wx:for-index="__i2__" wx:key="_id"><view data-event-opts="{{[['tap',[['showStudentDetail',['$0'],[[['studentItems','_id',student.$orig._id]]]]]]]}}" class="student-card data-v-37545066" bindtap="__e"><view class="student-avatar data-v-37545066"><text class="avatar-text data-v-37545066">{{student.g2}}</text></view><view class="student-content data-v-37545066"><view class="student-header data-v-37545066"><text class="student-name data-v-37545066">{{student.$orig.name}}</text><text class="student-id data-v-37545066">{{student.$orig.studentId}}</text></view><view class="student-meta data-v-37545066"><text class="student-grade data-v-37545066">{{student.$orig.grade}}</text><text class="student-class data-v-37545066">{{student.$orig.className}}</text></view><block wx:if="{{student.$orig.latestScore}}"><view class="score-section data-v-37545066"><view class="score-item data-v-37545066"><text class="score-label data-v-37545066">{{student.$orig.latestScore.subject}}</text><view class="{{['score-badge','data-v-37545066',student.$orig.latestScore.scoreLevel]}}"><text class="score-value data-v-37545066">{{student.$orig.latestScore.score}}</text></view></view><text class="score-date data-v-37545066">{{student.$orig.latestScore.formattedDate}}</text></view></block><block wx:else><view class="no-score data-v-37545066"><text class="no-score-text data-v-37545066">暂无成绩</text></view></block></view><view class="student-arrow data-v-37545066">›</view></view></block></view></block><block wx:else><view class="empty-state data-v-37545066"><view class="empty-icon data-v-37545066">📝</view><text class="empty-title data-v-37545066">{{selectedType==='班级'?'暂无班级':'暂无学生'}}</text><text class="empty-desc data-v-37545066">{{selectedType==='班级'?'您还没有负责的班级':'请先选择班级查看学生'}}</text></view></block></view></view></view>