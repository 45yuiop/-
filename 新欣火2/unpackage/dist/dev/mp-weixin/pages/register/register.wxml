<view class="register-page-container"><view class="back-btn-container"><button data-event-opts="{{[['tap',[['goBackToHome',['$event']]]]]}}" class="back-btn" bindtap="__e"><text class="back-btn-icon">ğŸ </text></button></view><view class="register-section"><view class="register-title">æ³¨å†Œæ–°è´¦å·</view><input class="register-input" placeholder="è¯·è¾“å…¥æ–°è´¦å·" data-event-opts="{{[['input',[['__set_model',['','newUsername','$event',[]]]]]]}}" value="{{newUsername}}" bindinput="__e"/><input class="register-input" type="password" placeholder="è¯·è¾“å…¥æ–°å¯†ç " data-event-opts="{{[['input',[['__set_model',['','newPassword','$event',[]]]]]]}}" value="{{newPassword}}" bindinput="__e"/><input class="register-input" placeholder="è¯·è¾“å…¥å§“å" data-event-opts="{{[['input',[['__set_model',['','newTeacherName','$event',[]]]]]]}}" value="{{newTeacherName}}" bindinput="__e"/><view class="role-label">è¯·é€‰æ‹©è¯¥æ•™å¸ˆçš„èº«ä»½</view><view class="role-select"><block wx:for="{{roleOptions}}" wx:for-item="role" wx:for-index="idx" wx:key="*this"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({idx})}}" class="{{['role-btn',[(newRoleIndex===idx)?'active':'']]}}" bindtap="__e">{{role}}</view></block></view><block wx:if="{{showSubjectSelect}}"><view class="subject-section"><view class="role-label">è¯·é€‰æ‹©æ•™å­¦ç§‘ç›®</view><view class="subject-select"><block wx:for="{{subjectOptions}}" wx:for-item="subject" wx:for-index="idx" wx:key="*this"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({idx})}}" class="{{['subject-btn',[(newSubjectIndex===idx)?'active':'']]}}" bindtap="__e">{{subject}}</view></block></view></view></block><block wx:if="{{showSubjectSelect}}"><view class="department-section"><view class="role-label">è¯·é€‰æ‹©æ‰€å±éƒ¨é—¨<text class="optional-tip">ï¼ˆå¯é€‰ï¼Œå…¼èŒè€å¸ˆå¯ä¸é€‰ï¼‰</text></view><view class="department-select"><block wx:for="{{departmentOptions}}" wx:for-item="dept" wx:for-index="idx" wx:key="*this"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({idx})}}" class="{{['department-btn',[(newDepartmentIndex===idx)?'active':'']]}}" bindtap="__e">{{dept}}</view></block></view></view></block><block wx:if="{{showSubjectSelect}}"><view class="worktype-section"><view class="role-label">è¯·é€‰æ‹©å·¥ä½œç±»å‹<text class="required-tip">*</text></view><view class="worktype-select"><block wx:for="{{workTypeOptions}}" wx:for-item="type" wx:for-index="idx" wx:key="*this"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" data-event-params="{{({idx})}}" class="{{['worktype-btn',[(newWorkTypeIndex===idx)?'active':'']]}}" bindtap="__e">{{type}}</view></block></view></view></block><block wx:if="{{showSupervisorSelect}}"><view class="supervisor-section"><view class="role-label">è¯·é€‰æ‹©ç›´å±ä¸Šçº§<text class="optional-tip">ï¼ˆå¯é€‰ï¼‰</text></view><view class="supervisor-select"><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="supervisor-placeholder" bindtap="__e"><block wx:if="{{selectedSupervisor}}"><text>{{selectedSupervisor.teacherName+" ("+selectedSupervisor.username+")"}}</text></block><block wx:else><text class="placeholder-text">è¯·é€‰æ‹©ä¸Šçº§é¢†å¯¼</text></block><text class="arrow-down">â–¼</text></view></view></view></block><block wx:if="{{showPermissionSelect}}"><view class="permission-select"><block wx:for="{{permissionOptions}}" wx:for-item="perm" wx:for-index="idx" wx:key="*this"><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" data-event-params="{{({idx})}}" class="{{['role-btn',[(newPermissionIndex===idx)?'active':'']]}}" bindtap="__e">{{perm}}</view></block></view></block><button data-event-opts="{{[['tap',[['registerAccount',['$event']]]]]}}" class="register-btn" bindtap="__e">æ³¨å†Œ</button></view><block wx:if="{{showSupervisorPicker}}"><view data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" class="supervisor-picker-overlay" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="supervisor-picker-content" catchtap="__e"><view class="picker-header"><text class="picker-title">é€‰æ‹©ä¸Šçº§é¢†å¯¼</text><text data-event-opts="{{[['tap',[['e7',['$event']]]]]}}" class="picker-close" bindtap="__e">Ã—</text></view><view class="supervisor-list"><block wx:for="{{supervisorList}}" wx:for-item="supervisor" wx:for-index="__i0__" wx:key="_id"><view data-event-opts="{{[['tap',[['selectSupervisor',['$0'],[[['supervisorList','_id',supervisor._id]]]]]]]}}" class="supervisor-item" bindtap="__e"><text class="supervisor-name">{{supervisor.teacherName}}</text><text class="supervisor-username">{{supervisor.username}}</text></view></block><block wx:if="{{$root.g0===0}}"><view class="no-supervisor"><text>æš‚æ— å¯é€‰çš„ä¸Šçº§é¢†å¯¼</text></view></block></view></view></view></block></view>