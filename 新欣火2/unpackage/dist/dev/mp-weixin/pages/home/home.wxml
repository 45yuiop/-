<view class="container"><view data-event-opts="{{[['tap',[['goToSearch',['$event']]]]]}}" class="search-bar" bindtap="__e"><image class="search-logo" src="/static/b3318194914f809af324de8884bd906(1).png" mode="aspectFit"></image><input class="search-input-real" disabled="{{true}}" placeholder="大家都在搜：我的课表" placeholder-class="search-placeholder"/></view><swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" circular="{{true}}"><block wx:for="{{bannerList}}" wx:for-item="img" wx:for-index="idx" wx:key="idx"><swiper-item><image class="banner-img" src="{{img}}" mode="aspectFill"></image></swiper-item></block></swiper><block wx:if="{{showSubscriptionBanner}}"><view data-event-opts="{{[['tap',[['goToSubscription',['$event']]]]]}}" class="subscription-banner" bindtap="__e"><view class="banner-content"><view class="banner-left"><view class="banner-icon">🔔</view><view class="banner-text"><text class="banner-title">{{subscriptionBannerTitle}}</text><text class="banner-desc">{{subscriptionBannerDesc}}</text></view></view><view class="banner-right"><text class="banner-btn">{{subscriptionBannerBtnText}}</text><text class="banner-arrow">→</text></view></view></view></block><view class="quick-actions"><view class="quick-grid" style="{{'justify-content:'+($root.g0<=4?'center':'flex-start')+';'}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="idx" wx:key="text"><block wx:if="{{idx<8}}"><view data-event-opts="{{[['tap',[['goTo',['$0'],[[['filteredFeatures','text',item.$orig.text]]]]]]]}}" class="service-card" bindtap="__e"><view class="service-icon-bg" style="{{'background:'+(item.m0)+';'}}"><image class="service-icon" src="{{item.$orig.icon}}" mode="aspectFit"></image></view><text class="service-text">{{item.$orig.text}}</text></view></block></block></view></view><view class="announcement-container"><view class="announcement-content"><image class="horn-icon" src="/static/123.png" mode="aspectFit"></image><view class="scroll-container"><text class="announcement-text">{{announcementText}}</text></view></view></view><view class="news-section"><view class="news-header"><text>事件备忘录</text><block wx:if="{{isAdmin}}"><button data-event-opts="{{[['tap',[['openNewsEditor',['$event']]]]]}}" class="news-edit-btn" catchtap="__e">+</button></block></view><view class="news-list"><block wx:for="{{$root.l2}}" wx:for-item="news" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['viewNewsDetail',['$0'],[[['newsList','id',news.$orig.id]]]]]]]}}" class="{{['news-item',(news.$orig.isPinned)?'pinned-news':'']}}" bindtap="__e"><view class="news-content"><view class="news-left"><view class="news-title-row"><text class="news-title">{{news.$orig.title}}</text><block wx:if="{{news.$orig.isPinned}}"><view class="pin-badge"><text class="pin-icon">📌</text><text class="pin-text">置顶</text></view></block></view><view class="news-snippet">{{news.m1}}</view></view><view class="news-right"><block wx:if="{{news.g1}}"><view class="news-image-container"><block wx:for="{{news.l1}}" wx:for-item="block" wx:for-index="index" wx:key="index"><view class="image-preview-item"><image class="news-image-preview" src="{{block.imageUrl}}" mode="aspectFill"></image></view></block></view></block><block wx:else><view class="news-image-placeholder"><text class="placeholder-text">无图片</text></view></block></view></view><view class="news-footer"><text class="news-time">{{news.m2}}</text></view></view></block></view></view></view>