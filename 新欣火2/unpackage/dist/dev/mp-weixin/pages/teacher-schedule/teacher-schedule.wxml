<view class="teacher-schedule-page data-v-1c0141c6"><view class="back-btn-fixed data-v-1c0141c6"><button data-event-opts="{{[['tap',[['goHome',['$event']]]]]}}" class="back-btn data-v-1c0141c6" bindtap="__e"><text class="back-btn-icon data-v-1c0141c6">ğŸ </text></button></view><view class="main-content data-v-1c0141c6"><view class="title-bar data-v-1c0141c6"><view class="page-title data-v-1c0141c6">æ•™å¸ˆæ’è¯¾ç®¡ç†</view></view><view class="form-section card-bg data-v-1c0141c6"><view class="form-title data-v-1c0141c6">æœç´¢å¹¶é€‰æ‹©æ•™å¸ˆ</view><input class="search-input data-v-1c0141c6" placeholder="ğŸ” è¾“å…¥æ•™å¸ˆå§“å" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',['trim']]]]],['blur',[['$forceUpdate']]]]}}" value="{{searchKeyword}}" bindinput="__e" bindblur="__e"/><scroll-view class="teacher-list-scroll data-v-1c0141c6" scroll-y="{{true}}"><block wx:for="{{filteredTeacherList}}" wx:for-item="teacher" wx:for-index="idx" wx:key="username"><view data-event-opts="{{[['tap',[['selectTeacher',[idx]]]]]}}" class="teacher-item data-v-1c0141c6" bindtap="__e"><text class="{{['data-v-1c0141c6','teacher-name',idx===teacherIndex?'selected':'']}}">{{teacher.teacherName}}</text></view></block></scroll-view></view><block wx:if="{{selectedTeacher}}"><view class="card-bg courses-section data-v-1c0141c6"><view class="results-title data-v-1c0141c6">{{selectedTeacher.teacherName+" "+weekTitle}}</view><view class="week-nav data-v-1c0141c6"><button data-event-opts="{{[['tap',[['changeWeek',[-1]]]]]}}" class="week-btn data-v-1c0141c6" bindtap="__e">ä¸Šä¸€å‘¨</button><text class="week-range data-v-1c0141c6">{{weekRangeText}}</text><button data-event-opts="{{[['tap',[['changeWeek',[1]]]]]}}" class="week-btn data-v-1c0141c6" bindtap="__e">ä¸‹ä¸€å‘¨</button></view><block wx:if="{{isLoading}}"><view class="loading-text data-v-1c0141c6">è¯¾ç¨‹åŠ è½½ä¸­...</view></block><block wx:else><view class="data-v-1c0141c6"><block wx:for="{{$root.l1}}" wx:for-item="day" wx:for-index="idx" wx:key="course_date"><view class="day-schedule-block data-v-1c0141c6"><view class="day-date data-v-1c0141c6">{{day.m0}}</view><view class="day-courses data-v-1c0141c6"><block wx:for="{{day.l0}}" wx:for-item="i" wx:for-index="__i0__" wx:key="$orig"><view class="course-row-vertical data-v-1c0141c6"><view class="course-label-row data-v-1c0141c6">{{''+periodTimes[i.$orig-1]+(i.$orig===5||i.$orig===6?'ï¼ˆä¹ æƒ¯ç­ï¼‰':'')+''}}</view><view class="course-inputs-row data-v-1c0141c6"><block wx:if="{{i.$orig===5||i.$orig===6}}"><input class="{{['data-v-1c0141c6','course-input',day.$orig['course_slot_'+i.$orig]?'has-content':'']}}" placeholder="è¯¾ç¨‹å" data-event-opts="{{[['focus',[['onInputFocus',['$event']]]],['input',[['__set_model',['$0','course_slot_'+i.$orig,'$event',[]],[[['weekSchedule','course_date',day.$orig.course_date]]]],['onInputChange',['$event',idx,'$0',''],[[['periods','',__i0__]]]]]]]}}" value="{{day.$orig['course_slot_'+i.$orig]}}" bindfocus="__e" bindinput="__e"/><picker class="class-picker data-v-1c0141c6" value="{{i.m1}}" range="{{courseOptions}}" data-event-opts="{{[['change',[['onClassOptionChange',['$event',idx,'$0'],[[['periods','',__i0__]]]]]]]}}" bindchange="__e"><view class="class-display data-v-1c0141c6"><text class="data-v-1c0141c6">{{day.$orig['course_slot_'+i.$orig+'_class']||'è¯¾ç¨‹å'}}</text><text class="class-arrow data-v-1c0141c6">â–¼</text></view></picker><input class="{{['data-v-1c0141c6','course-input','location-input',day.$orig['course_slot_'+i.$orig+'_location']?'has-content':'']}}" placeholder="æ•™å®¤" data-event-opts="{{[['focus',[['onInputFocus',['$event']]]],['input',[['__set_model',['$0','course_slot_'+i.$orig+'_location','$event',[]],[[['weekSchedule','course_date',day.$orig.course_date]]]],['onInputChange',['$event',idx,'$0','location'],[[['periods','',__i0__]]]]]]]}}" value="{{day.$orig['course_slot_'+i.$orig+'_location']}}" bindfocus="__e" bindinput="__e"/><picker class="type-picker data-v-1c0141c6" value="{{i.m2}}" range="{{courseTypes}}" data-event-opts="{{[['change',[['onTypeChange',['$event',idx,'$0'],[[['periods','',__i0__]]]]]]]}}" bindchange="__e"><view class="type-display data-v-1c0141c6"><text class="data-v-1c0141c6">{{day.$orig['course_slot_'+i.$orig+'_type']||'æ— '}}</text><text class="type-arrow data-v-1c0141c6">â–¼</text></view></picker></block><block wx:else><input class="{{['data-v-1c0141c6','course-input',day.$orig['course_slot_'+i.$orig]?'has-content':'']}}" placeholder="è¯¾ç¨‹å" data-event-opts="{{[['focus',[['onInputFocus',['$event']]]],['input',[['__set_model',['$0','course_slot_'+i.$orig,'$event',[]],[[['weekSchedule','course_date',day.$orig.course_date]]]],['onInputChange',['$event',idx,'$0',''],[[['periods','',__i0__]]]]]]]}}" value="{{day.$orig['course_slot_'+i.$orig]}}" bindfocus="__e" bindinput="__e"/><input class="{{['data-v-1c0141c6','course-input','class-input',day.$orig['course_slot_'+i.$orig+'_class']?'has-content':'']}}" placeholder="ç­çº§" data-event-opts="{{[['focus',[['onInputFocus',['$event']]]],['input',[['__set_model',['$0','course_slot_'+i.$orig+'_class','$event',[]],[[['weekSchedule','course_date',day.$orig.course_date]]]],['onInputChange',['$event',idx,'$0','class'],[[['periods','',__i0__]]]]]]]}}" value="{{day.$orig['course_slot_'+i.$orig+'_class']}}" bindfocus="__e" bindinput="__e"/><input class="{{['data-v-1c0141c6','course-input','location-input',day.$orig['course_slot_'+i.$orig+'_location']?'has-content':'']}}" placeholder="æ•™å®¤" data-event-opts="{{[['focus',[['onInputFocus',['$event']]]],['input',[['__set_model',['$0','course_slot_'+i.$orig+'_location','$event',[]],[[['weekSchedule','course_date',day.$orig.course_date]]]],['onInputChange',['$event',idx,'$0','location'],[[['periods','',__i0__]]]]]]]}}" value="{{day.$orig['course_slot_'+i.$orig+'_location']}}" bindfocus="__e" bindinput="__e"/><picker class="type-picker data-v-1c0141c6" value="{{i.m3}}" range="{{courseTypes}}" data-event-opts="{{[['change',[['onTypeChange',['$event',idx,'$0'],[[['periods','',__i0__]]]]]]]}}" bindchange="__e"><view class="type-display data-v-1c0141c6"><text class="data-v-1c0141c6">{{day.$orig['course_slot_'+i.$orig+'_type']||'æ— '}}</text><text class="type-arrow data-v-1c0141c6">â–¼</text></view></picker></block></view><block wx:if="{{i.$orig!==5&&i.$orig!==6}}"><block wx:if="{{day.$orig['course_slot_'+i.$orig+'_remark']}}"><view class="course-remark-show data-v-1c0141c6">{{"å¤‡æ³¨ï¼š"+day.$orig['course_slot_'+i.$orig+'_remark']}}</view></block><view class="course-remark-row data-v-1c0141c6"><input class="{{['data-v-1c0141c6','course-remark-input',day.$orig['course_slot_'+i.$orig+'_remark']?'has-content':'']}}" placeholder="å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰" data-event-opts="{{[['focus',[['onInputFocus',['$event']]]],['input',[['__set_model',['$0','course_slot_'+i.$orig+'_remark','$event',[]],[[['weekSchedule','course_date',day.$orig.course_date]]]],['onInputChange',['$event',idx,'$0','remark'],[[['periods','',__i0__]]]]]]]}}" value="{{day.$orig['course_slot_'+i.$orig+'_remark']}}" bindfocus="__e" bindinput="__e"/></view></block></view></block></view></view></block></view></block></view></block><view class="save-btn-fixed data-v-1c0141c6"><button data-event-opts="{{[['tap',[['saveSchedule',['$event']]]]]}}" class="save-btn data-v-1c0141c6" bindtap="__e"><text class="icon data-v-1c0141c6">ğŸ’¾</text>ä¿å­˜æ’è¯¾</button></view></view></view>