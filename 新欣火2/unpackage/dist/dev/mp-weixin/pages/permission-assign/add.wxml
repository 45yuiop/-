<view class="permission-assign-container data-v-0d97bc16"><view class="top-bar-no-bg data-v-0d97bc16"><view class="top-nav-flex data-v-0d97bc16"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-0d97bc16" bindtap="__e"><text class="back-icon data-v-0d97bc16">‹</text><text class="back-text data-v-0d97bc16">返回</text></view><view class="page-title-center data-v-0d97bc16">添加教师功能</view></view></view><view class="desc data-v-0d97bc16">可为普通用户账号分配功能权限。</view><picker range="{{memberList}}" range-key="teacherName" data-event-opts="{{[['change',[['onMemberChange',['$event']]]]]}}" bindchange="__e" class="data-v-0d97bc16"><view class="member-picker data-v-0d97bc16"><text class="data-v-0d97bc16">{{selectedMember?selectedMember.teacherName+'（'+(selectedMember.role||selectedMember.username)+'）':'请选择成员'}}</text></view></picker><block wx:if="{{selectedMember}}"><view class="feature-list data-v-0d97bc16"><checkbox-group value="{{memberFeatures}}" data-event-opts="{{[['change',[['onFeatureChange',['$event']]]]]}}" bindchange="__e" class="data-v-0d97bc16"><block wx:for="{{allAssignableFeatures}}" wx:for-item="feature" wx:for-index="__i0__" wx:key="key"><checkbox value="{{feature.key}}" class="data-v-0d97bc16">{{''+feature.name+''}}</checkbox></block></checkbox-group><button class="save-btn data-v-0d97bc16" disabled="{{saveLoading}}" data-event-opts="{{[['tap',[['saveFeatures',['$event']]]]]}}" bindtap="__e"><block wx:if="{{!saveLoading}}"><text class="data-v-0d97bc16">保存</text></block><block wx:else><text class="data-v-0d97bc16">保存中...</text></block></button></view></block></view>